var wa=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)};function Eb(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();/**
* @vue/shared v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function d8(t,e){const r=new Set(t.split(","));return e?n=>r.has(n.toLowerCase()):n=>r.has(n)}const _t={},Mo=[],dn=()=>{},bb=()=>!1,Rf=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),x8=t=>t.startsWith("onUpdate:"),pr=Object.assign,h8=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},Cb=Object.prototype.hasOwnProperty,ut=(t,e)=>Cb.call(t,e),Xe=Array.isArray,Io=t=>Of(t)==="[object Map]",H7=t=>Of(t)==="[object Set]",tt=t=>typeof t=="function",Ht=t=>typeof t=="string",xa=t=>typeof t=="symbol",Pt=t=>t!==null&&typeof t=="object",V7=t=>(Pt(t)||tt(t))&&tt(t.then)&&tt(t.catch),q7=Object.prototype.toString,Of=t=>q7.call(t),Ab=t=>Of(t).slice(8,-1),W7=t=>Of(t)==="[object Object]",p8=t=>Ht(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ru=d8(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Lf=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},vb=/-(\w)/g,Vo=Lf(t=>t.replace(vb,(e,r)=>r?r.toUpperCase():"")),_b=/\B([A-Z])/g,X0=Lf(t=>t.replace(_b,"-$1").toLowerCase()),G7=Lf(t=>t.charAt(0).toUpperCase()+t.slice(1)),Od=Lf(t=>t?`on${G7(t)}`:""),Ks=(t,e)=>!Object.is(t,e),nu=(t,e)=>{for(let r=0;r<t.length;r++)t[r](e)},Pu=(t,e,r)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:r})},b1=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let f6;const Y7=()=>f6||(f6=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function m8(t){if(Xe(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],i=Ht(n)?kb(n):m8(n);if(i)for(const s in i)e[s]=i[s]}return e}else if(Ht(t)||Pt(t))return t}const wb=/;(?![^(]*\))/g,Bb=/:([^]+)/,Db=/\/\*[^]*?\*\//g;function kb(t){const e={};return t.replace(Db,"").split(wb).forEach(r=>{if(r){const n=r.split(Bb);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function Ro(t){let e="";if(Ht(t))e=t;else if(Xe(t))for(let r=0;r<t.length;r++){const n=Ro(t[r]);n&&(e+=n+" ")}else if(Pt(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const Fb="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Sb=d8(Fb);function J7(t){return!!t||t===""}const dr=t=>Ht(t)?t:t==null?"":Xe(t)||Pt(t)&&(t.toString===q7||!tt(t.toString))?JSON.stringify(t,X7,2):String(t),X7=(t,e)=>e&&e.__v_isRef?X7(t,e.value):Io(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,i],s)=>(r[Ld(n,s)+" =>"]=i,r),{})}:H7(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>Ld(r))}:xa(e)?Ld(e):Pt(e)&&!Xe(e)&&!W7(e)?String(e):e,Ld=(t,e="")=>{var r;return xa(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let bn;class Pb{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=bn,!e&&bn&&(this.index=(bn.scopes||(bn.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const r=bn;try{return bn=this,e()}finally{bn=r}}}on(){bn=this}off(){bn=this.parent}stop(e){if(this._active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Tb(t,e=bn){e&&e.active&&e.effects.push(t)}function Mb(){return bn}let P0;class g8{constructor(e,r,n,i){this.fn=e,this.trigger=r,this.scheduler=n,this.active=!0,this.deps=[],this._dirtyLevel=2,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Tb(this,i)}get dirty(){if(this._dirtyLevel===1){Q0();for(let e=0;e<this._depsLength;e++){const r=this.deps[e];if(r.computed&&(Ib(r.computed),this._dirtyLevel>=2))break}this._dirtyLevel<2&&(this._dirtyLevel=0),Z0()}return this._dirtyLevel>=2}set dirty(e){this._dirtyLevel=e?2:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=Ss,r=P0;try{return Ss=!0,P0=this,this._runnings++,d6(this),this.fn()}finally{x6(this),this._runnings--,P0=r,Ss=e}}stop(){var e;this.active&&(d6(this),x6(this),(e=this.onStop)==null||e.call(this),this.active=!1)}}function Ib(t){return t.value}function d6(t){t._trackId++,t._depsLength=0}function x6(t){if(t.deps&&t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)Q7(t.deps[e],t);t.deps.length=t._depsLength}}function Q7(t,e){const r=t.get(e);r!==void 0&&e._trackId!==r&&(t.delete(e),t.size===0&&t.cleanup())}let Ss=!0,C1=0;const Z7=[];function Q0(){Z7.push(Ss),Ss=!1}function Z0(){const t=Z7.pop();Ss=t===void 0?!0:t}function y8(){C1++}function E8(){for(C1--;!C1&&A1.length;)A1.shift()()}function e4(t,e,r){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const n=t.deps[t._depsLength];n!==e?(n&&Q7(n,t),t.deps[t._depsLength++]=e):t._depsLength++}}const A1=[];function t4(t,e,r){y8();for(const n of t.keys())if(n._dirtyLevel<e&&t.get(n)===n._trackId){const i=n._dirtyLevel;n._dirtyLevel=e,i===0&&(n._shouldSchedule=!0,n.trigger())}r4(t),E8()}function r4(t){for(const e of t.keys())e.scheduler&&e._shouldSchedule&&(!e._runnings||e.allowRecurse)&&t.get(e)===e._trackId&&(e._shouldSchedule=!1,A1.push(e.scheduler))}const n4=(t,e)=>{const r=new Map;return r.cleanup=t,r.computed=e,r},v1=new WeakMap,T0=Symbol(""),_1=Symbol("");function Kr(t,e,r){if(Ss&&P0){let n=v1.get(t);n||v1.set(t,n=new Map);let i=n.get(r);i||n.set(r,i=n4(()=>n.delete(r))),e4(P0,i)}}function Ki(t,e,r,n,i,s){const o=v1.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(r==="length"&&Xe(t)){const c=Number(n);o.forEach((l,u)=>{(u==="length"||!xa(u)&&u>=c)&&a.push(l)})}else switch(r!==void 0&&a.push(o.get(r)),e){case"add":Xe(t)?p8(r)&&a.push(o.get("length")):(a.push(o.get(T0)),Io(t)&&a.push(o.get(_1)));break;case"delete":Xe(t)||(a.push(o.get(T0)),Io(t)&&a.push(o.get(_1)));break;case"set":Io(t)&&a.push(o.get(T0));break}y8();for(const c of a)c&&t4(c,2);E8()}const Rb=d8("__proto__,__v_isRef,__isVue"),i4=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(xa)),h6=Ob();function Ob(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...r){const n=pt(this);for(let s=0,o=this.length;s<o;s++)Kr(n,"get",s+"");const i=n[e](...r);return i===-1||i===!1?n[e](...r.map(pt)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...r){Q0(),y8();const n=pt(this)[e].apply(this,r);return E8(),Z0(),n}}),t}function Lb(t){const e=pt(this);return Kr(e,"has",t),e.hasOwnProperty(t)}class s4{constructor(e=!1,r=!1){this._isReadonly=e,this._shallow=r}get(e,r,n){const i=this._isReadonly,s=this._shallow;if(r==="__v_isReactive")return!i;if(r==="__v_isReadonly")return i;if(r==="__v_isShallow")return s;if(r==="__v_raw")return n===(i?s?Jb:l4:s?c4:a4).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=Xe(e);if(!i){if(o&&ut(h6,r))return Reflect.get(h6,r,n);if(r==="hasOwnProperty")return Lb}const a=Reflect.get(e,r,n);return(xa(r)?i4.has(r):Rb(r))||(i||Kr(e,"get",r),s)?a:Ur(a)?o&&p8(r)?a:a.value:Pt(a)?i?u4(a):Gc(a):a}}class o4 extends s4{constructor(e=!1){super(!1,e)}set(e,r,n,i){let s=e[r];if(!this._shallow){const c=qo(s);if(!Tu(n)&&!qo(n)&&(s=pt(s),n=pt(n)),!Xe(e)&&Ur(s)&&!Ur(n))return c?!1:(s.value=n,!0)}const o=Xe(e)&&p8(r)?Number(r)<e.length:ut(e,r),a=Reflect.set(e,r,n,i);return e===pt(i)&&(o?Ks(n,s)&&Ki(e,"set",r,n):Ki(e,"add",r,n)),a}deleteProperty(e,r){const n=ut(e,r);e[r];const i=Reflect.deleteProperty(e,r);return i&&n&&Ki(e,"delete",r,void 0),i}has(e,r){const n=Reflect.has(e,r);return(!xa(r)||!i4.has(r))&&Kr(e,"has",r),n}ownKeys(e){return Kr(e,"iterate",Xe(e)?"length":T0),Reflect.ownKeys(e)}}class Nb extends s4{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const Kb=new o4,Ub=new Nb,$b=new o4(!0),b8=t=>t,Nf=t=>Reflect.getPrototypeOf(t);function pl(t,e,r=!1,n=!1){t=t.__v_raw;const i=pt(t),s=pt(e);r||(Ks(e,s)&&Kr(i,"get",e),Kr(i,"get",s));const{has:o}=Nf(i),a=n?b8:r?v8:Cc;if(o.call(i,e))return a(t.get(e));if(o.call(i,s))return a(t.get(s));t!==i&&t.get(e)}function ml(t,e=!1){const r=this.__v_raw,n=pt(r),i=pt(t);return e||(Ks(t,i)&&Kr(n,"has",t),Kr(n,"has",i)),t===i?r.has(t):r.has(t)||r.has(i)}function gl(t,e=!1){return t=t.__v_raw,!e&&Kr(pt(t),"iterate",T0),Reflect.get(t,"size",t)}function p6(t){t=pt(t);const e=pt(this);return Nf(e).has.call(e,t)||(e.add(t),Ki(e,"add",t,t)),this}function m6(t,e){e=pt(e);const r=pt(this),{has:n,get:i}=Nf(r);let s=n.call(r,t);s||(t=pt(t),s=n.call(r,t));const o=i.call(r,t);return r.set(t,e),s?Ks(e,o)&&Ki(r,"set",t,e):Ki(r,"add",t,e),this}function g6(t){const e=pt(this),{has:r,get:n}=Nf(e);let i=r.call(e,t);i||(t=pt(t),i=r.call(e,t)),n&&n.call(e,t);const s=e.delete(t);return i&&Ki(e,"delete",t,void 0),s}function y6(){const t=pt(this),e=t.size!==0,r=t.clear();return e&&Ki(t,"clear",void 0,void 0),r}function yl(t,e){return function(n,i){const s=this,o=s.__v_raw,a=pt(o),c=e?b8:t?v8:Cc;return!t&&Kr(a,"iterate",T0),o.forEach((l,u)=>n.call(i,c(l),c(u),s))}}function El(t,e,r){return function(...n){const i=this.__v_raw,s=pt(i),o=Io(s),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,l=i[t](...n),u=r?b8:e?v8:Cc;return!e&&Kr(s,"iterate",c?_1:T0),{next(){const{value:f,done:x}=l.next();return x?{value:f,done:x}:{value:a?[u(f[0]),u(f[1])]:u(f),done:x}},[Symbol.iterator](){return this}}}}function os(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function zb(){const t={get(s){return pl(this,s)},get size(){return gl(this)},has:ml,add:p6,set:m6,delete:g6,clear:y6,forEach:yl(!1,!1)},e={get(s){return pl(this,s,!1,!0)},get size(){return gl(this)},has:ml,add:p6,set:m6,delete:g6,clear:y6,forEach:yl(!1,!0)},r={get(s){return pl(this,s,!0)},get size(){return gl(this,!0)},has(s){return ml.call(this,s,!0)},add:os("add"),set:os("set"),delete:os("delete"),clear:os("clear"),forEach:yl(!0,!1)},n={get(s){return pl(this,s,!0,!0)},get size(){return gl(this,!0)},has(s){return ml.call(this,s,!0)},add:os("add"),set:os("set"),delete:os("delete"),clear:os("clear"),forEach:yl(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=El(s,!1,!1),r[s]=El(s,!0,!1),e[s]=El(s,!1,!0),n[s]=El(s,!0,!0)}),[t,r,e,n]}const[jb,Hb,Vb,qb]=zb();function C8(t,e){const r=e?t?qb:Vb:t?Hb:jb;return(n,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?n:Reflect.get(ut(r,i)&&i in n?r:n,i,s)}const Wb={get:C8(!1,!1)},Gb={get:C8(!1,!0)},Yb={get:C8(!0,!1)},a4=new WeakMap,c4=new WeakMap,l4=new WeakMap,Jb=new WeakMap;function Xb(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Qb(t){return t.__v_skip||!Object.isExtensible(t)?0:Xb(Ab(t))}function Gc(t){return qo(t)?t:A8(t,!1,Kb,Wb,a4)}function Zb(t){return A8(t,!1,$b,Gb,c4)}function u4(t){return A8(t,!0,Ub,Yb,l4)}function A8(t,e,r,n,i){if(!Pt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=Qb(t);if(o===0)return t;const a=new Proxy(t,o===2?n:r);return i.set(t,a),a}function Oo(t){return qo(t)?Oo(t.__v_raw):!!(t&&t.__v_isReactive)}function qo(t){return!!(t&&t.__v_isReadonly)}function Tu(t){return!!(t&&t.__v_isShallow)}function f4(t){return Oo(t)||qo(t)}function pt(t){const e=t&&t.__v_raw;return e?pt(e):t}function d4(t){return Pu(t,"__v_skip",!0),t}const Cc=t=>Pt(t)?Gc(t):t,v8=t=>Pt(t)?u4(t):t;class x4{constructor(e,r,n,i){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new g8(()=>e(this._value),()=>iu(this,1),()=>this.dep&&r4(this.dep)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const e=pt(this);return(!e._cacheable||e.effect.dirty)&&Ks(e._value,e._value=e.effect.run())&&iu(e,2),h4(e),e.effect._dirtyLevel>=1&&iu(e,1),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function eC(t,e,r=!1){let n,i;const s=tt(t);return s?(n=t,i=dn):(n=t.get,i=t.set),new x4(n,i,s||!i,r)}function h4(t){Ss&&P0&&(t=pt(t),e4(P0,t.dep||(t.dep=n4(()=>t.dep=void 0,t instanceof x4?t:void 0))))}function iu(t,e=2,r){t=pt(t);const n=t.dep;n&&t4(n,e)}function Ur(t){return!!(t&&t.__v_isRef===!0)}function Ke(t){return tC(t,!1)}function tC(t,e){return Ur(t)?t:new rC(t,e)}class rC{constructor(e,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?e:pt(e),this._value=r?e:Cc(e)}get value(){return h4(this),this._value}set value(e){const r=this.__v_isShallow||Tu(e)||qo(e);e=r?e:pt(e),Ks(e,this._rawValue)&&(this._rawValue=e,this._value=r?e:Cc(e),iu(this,2))}}function cn(t){return Ur(t)?t.value:t}const nC={get:(t,e,r)=>cn(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const i=t[e];return Ur(i)&&!Ur(r)?(i.value=r,!0):Reflect.set(t,e,r,n)}};function p4(t){return Oo(t)?t:new Proxy(t,nC)}/**
* @vue/runtime-core v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ps(t,e,r,n){let i;try{i=n?t(...n):t()}catch(s){Kf(s,e,r)}return i}function wn(t,e,r,n){if(tt(t)){const s=Ps(t,e,r,n);return s&&V7(s)&&s.catch(o=>{Kf(o,e,r)}),s}const i=[];for(let s=0;s<t.length;s++)i.push(wn(t[s],e,r,n));return i}function Kf(t,e,r,n=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const o=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${r}`;for(;s;){const l=s.ec;if(l){for(let u=0;u<l.length;u++)if(l[u](t,o,a)===!1)return}s=s.parent}const c=e.appContext.config.errorHandler;if(c){Ps(c,null,10,[t,o,a]);return}}iC(t,r,i,n)}function iC(t,e,r,n=!0){console.error(t)}let Ac=!1,w1=!1;const xr=[];let Zn=0;const Lo=[];let ys=null,m0=0;const m4=Promise.resolve();let _8=null;function ec(t){const e=_8||m4;return t?e.then(this?t.bind(this):t):e}function sC(t){let e=Zn+1,r=xr.length;for(;e<r;){const n=e+r>>>1,i=xr[n],s=vc(i);s<t||s===t&&i.pre?e=n+1:r=n}return e}function w8(t){(!xr.length||!xr.includes(t,Ac&&t.allowRecurse?Zn+1:Zn))&&(t.id==null?xr.push(t):xr.splice(sC(t.id),0,t),g4())}function g4(){!Ac&&!w1&&(w1=!0,_8=m4.then(E4))}function oC(t){const e=xr.indexOf(t);e>Zn&&xr.splice(e,1)}function aC(t){Xe(t)?Lo.push(...t):(!ys||!ys.includes(t,t.allowRecurse?m0+1:m0))&&Lo.push(t),g4()}function E6(t,e,r=Ac?Zn+1:0){for(;r<xr.length;r++){const n=xr[r];if(n&&n.pre){if(t&&n.id!==t.uid)continue;xr.splice(r,1),r--,n()}}}function y4(t){if(Lo.length){const e=[...new Set(Lo)].sort((r,n)=>vc(r)-vc(n));if(Lo.length=0,ys){ys.push(...e);return}for(ys=e,m0=0;m0<ys.length;m0++)ys[m0]();ys=null,m0=0}}const vc=t=>t.id==null?1/0:t.id,cC=(t,e)=>{const r=vc(t)-vc(e);if(r===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return r};function E4(t){w1=!1,Ac=!0,xr.sort(cC);try{for(Zn=0;Zn<xr.length;Zn++){const e=xr[Zn];e&&e.active!==!1&&Ps(e,null,14)}}finally{Zn=0,xr.length=0,y4(),Ac=!1,_8=null,(xr.length||Lo.length)&&E4()}}function lC(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||_t;let i=r;const s=e.startsWith("update:"),o=s&&e.slice(7);if(o&&o in n){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:f,trim:x}=n[u]||_t;x&&(i=r.map(h=>Ht(h)?h.trim():h)),f&&(i=r.map(b1))}let a,c=n[a=Od(e)]||n[a=Od(Vo(e))];!c&&s&&(c=n[a=Od(X0(e))]),c&&wn(c,t,6,i);const l=n[a+"Once"];if(l){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,wn(l,t,6,i)}}function b4(t,e,r=!1){const n=e.emitsCache,i=n.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!tt(t)){const c=l=>{const u=b4(l,e,!0);u&&(a=!0,pr(o,u))};!r&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!s&&!a?(Pt(t)&&n.set(t,null),null):(Xe(s)?s.forEach(c=>o[c]=null):pr(o,s),Pt(t)&&n.set(t,o),o)}function Uf(t,e){return!t||!Rf(e)?!1:(e=e.slice(2).replace(/Once$/,""),ut(t,e[0].toLowerCase()+e.slice(1))||ut(t,X0(e))||ut(t,e))}let Yr=null,C4=null;function Mu(t){const e=Yr;return Yr=t,C4=t&&t.type.__scopeId||null,e}function uC(t,e=Yr,r){if(!e||t._n)return t;const n=(...i)=>{n._d&&F6(-1);const s=Mu(e);let o;try{o=t(...i)}finally{Mu(s),n._d&&F6(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function Nd(t){const{type:e,vnode:r,proxy:n,withProxy:i,props:s,propsOptions:[o],slots:a,attrs:c,emit:l,render:u,renderCache:f,data:x,setupState:h,ctx:C,inheritAttrs:w}=t;let k,O;const z=Mu(t);try{if(r.shapeFlag&4){const A=i||n,T=A;k=Gn(u.call(T,A,f,s,h,x,C)),O=c}else{const A=e;k=Gn(A.length>1?A(s,{attrs:c,slots:a,emit:l}):A(s,null)),O=e.props?c:fC(c)}}catch(A){rc.length=0,Kf(A,t,1),k=zt(K0)}let P=k;if(O&&w!==!1){const A=Object.keys(O),{shapeFlag:T}=P;A.length&&T&7&&(o&&A.some(x8)&&(O=dC(O,o)),P=Wo(P,O))}return r.dirs&&(P=Wo(P),P.dirs=P.dirs?P.dirs.concat(r.dirs):r.dirs),r.transition&&(P.transition=r.transition),k=P,Mu(z),k}const fC=t=>{let e;for(const r in t)(r==="class"||r==="style"||Rf(r))&&((e||(e={}))[r]=t[r]);return e},dC=(t,e)=>{const r={};for(const n in t)(!x8(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function xC(t,e,r){const{props:n,children:i,component:s}=t,{props:o,children:a,patchFlag:c}=e,l=s.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&c>=0){if(c&1024)return!0;if(c&16)return n?b6(n,o,l):!!o;if(c&8){const u=e.dynamicProps;for(let f=0;f<u.length;f++){const x=u[f];if(o[x]!==n[x]&&!Uf(l,x))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?b6(n,o,l):!0:!!o;return!1}function b6(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let i=0;i<n.length;i++){const s=n[i];if(e[s]!==t[s]&&!Uf(r,s))return!0}return!1}function hC({vnode:t,parent:e},r){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=r,e=e.parent;else break}}const pC=Symbol.for("v-ndc"),mC=t=>t.__isSuspense;function gC(t,e){e&&e.pendingBranch?Xe(t)?e.effects.push(...t):e.effects.push(t):aC(t)}const yC=Symbol.for("v-scx"),EC=()=>ou(yC),bl={};function Kd(t,e,r){return A4(t,e,r)}function A4(t,e,{immediate:r,deep:n,flush:i,once:s,onTrack:o,onTrigger:a}=_t){if(e&&s){const F=e;e=(...R)=>{F(...R),T()}}const c=vr,l=F=>n===!0?F:E0(F,n===!1?1:void 0);let u,f=!1,x=!1;if(Ur(t)?(u=()=>t.value,f=Tu(t)):Oo(t)?(u=()=>l(t),f=!0):Xe(t)?(x=!0,f=t.some(F=>Oo(F)||Tu(F)),u=()=>t.map(F=>{if(Ur(F))return F.value;if(Oo(F))return l(F);if(tt(F))return Ps(F,c,2)})):tt(t)?e?u=()=>Ps(t,c,2):u=()=>(h&&h(),wn(t,c,3,[C])):u=dn,e&&n){const F=u;u=()=>E0(F())}let h,C=F=>{h=P.onStop=()=>{Ps(F,c,4),h=P.onStop=void 0}},w;if(Hf)if(C=dn,e?r&&wn(e,c,3,[u(),x?[]:void 0,C]):u(),i==="sync"){const F=EC();w=F.__watcherHandles||(F.__watcherHandles=[])}else return dn;let k=x?new Array(t.length).fill(bl):bl;const O=()=>{if(!(!P.active||!P.dirty))if(e){const F=P.run();(n||f||(x?F.some((R,d)=>Ks(R,k[d])):Ks(F,k)))&&(h&&h(),wn(e,c,3,[F,k===bl?void 0:x&&k[0]===bl?[]:k,C]),k=F)}else P.run()};O.allowRecurse=!!e;let z;i==="sync"?z=O:i==="post"?z=()=>Tr(O,c&&c.suspense):(O.pre=!0,c&&(O.id=c.uid),z=()=>w8(O));const P=new g8(u,dn,z),A=Mb(),T=()=>{P.stop(),A&&h8(A.effects,P)};return e?r?O():k=P.run():i==="post"?Tr(P.run.bind(P),c&&c.suspense):P.run(),w&&w.push(T),T}function bC(t,e,r){const n=this.proxy,i=Ht(t)?t.includes(".")?v4(n,t):()=>n[t]:t.bind(n,n);let s;tt(e)?s=e:(s=e.handler,r=e);const o=Yc(this),a=A4(i,s.bind(n),r);return o(),a}function v4(t,e){const r=e.split(".");return()=>{let n=t;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}function E0(t,e,r=0,n){if(!Pt(t)||t.__v_skip)return t;if(e&&e>0){if(r>=e)return t;r++}if(n=n||new Set,n.has(t))return t;if(n.add(t),Ur(t))E0(t.value,e,r,n);else if(Xe(t))for(let i=0;i<t.length;i++)E0(t[i],e,r,n);else if(H7(t)||Io(t))t.forEach(i=>{E0(i,e,r,n)});else if(W7(t))for(const i in t)E0(t[i],e,r,n);return t}function N0(t,e){if(Yr===null)return t;const r=Vf(Yr)||Yr.proxy,n=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,a,c=_t]=e[i];s&&(tt(s)&&(s={mounted:s,updated:s}),s.deep&&E0(o),n.push({dir:s,instance:r,value:o,oldValue:void 0,arg:a,modifiers:c}))}return t}function n0(t,e,r,n){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let c=a.dir[n];c&&(Q0(),wn(c,r,8,[t.el,a,t,e]),Z0())}}const su=t=>!!t.type.__asyncLoader,_4=t=>t.type.__isKeepAlive;function CC(t,e){w4(t,"a",e)}function AC(t,e){w4(t,"da",e)}function w4(t,e,r=vr){const n=t.__wdc||(t.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if($f(e,n,r),r){let i=r.parent;for(;i&&i.parent;)_4(i.parent.vnode)&&vC(n,e,r,i),i=i.parent}}function vC(t,e,r,n){const i=$f(e,t,n,!0);D4(()=>{h8(n[e],i)},r)}function $f(t,e,r=vr,n=!1){if(r){const i=r[t]||(r[t]=[]),s=e.__weh||(e.__weh=(...o)=>{if(r.isUnmounted)return;Q0();const a=Yc(r),c=wn(e,r,t,o);return a(),Z0(),c});return n?i.unshift(s):i.push(s),s}}const Qi=t=>(e,r=vr)=>(!Hf||t==="sp")&&$f(t,(...n)=>e(...n),r),B8=Qi("bm"),B4=Qi("m"),_C=Qi("bu"),wC=Qi("u"),BC=Qi("bum"),D4=Qi("um"),DC=Qi("sp"),kC=Qi("rtg"),FC=Qi("rtc");function SC(t,e=vr){$f("ec",t,e)}function k4(t,e,r,n){let i;const s=r&&r[n];if(Xe(t)||Ht(t)){i=new Array(t.length);for(let o=0,a=t.length;o<a;o++)i[o]=e(t[o],o,void 0,s&&s[o])}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,s&&s[o])}else if(Pt(t))if(t[Symbol.iterator])i=Array.from(t,(o,a)=>e(o,a,void 0,s&&s[a]));else{const o=Object.keys(t);i=new Array(o.length);for(let a=0,c=o.length;a<c;a++){const l=o[a];i[a]=e(t[l],l,a,s&&s[a])}}else i=[];return r&&(r[n]=i),i}const B1=t=>t?U4(t)?Vf(t)||t.proxy:B1(t.parent):null,tc=pr(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>B1(t.parent),$root:t=>B1(t.root),$emit:t=>t.emit,$options:t=>D8(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,w8(t.update)}),$nextTick:t=>t.n||(t.n=ec.bind(t.proxy)),$watch:t=>bC.bind(t)}),Ud=(t,e)=>t!==_t&&!t.__isScriptSetup&&ut(t,e),PC={get({_:t},e){const{ctx:r,setupState:n,data:i,props:s,accessCache:o,type:a,appContext:c}=t;let l;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return n[e];case 2:return i[e];case 4:return r[e];case 3:return s[e]}else{if(Ud(n,e))return o[e]=1,n[e];if(i!==_t&&ut(i,e))return o[e]=2,i[e];if((l=t.propsOptions[0])&&ut(l,e))return o[e]=3,s[e];if(r!==_t&&ut(r,e))return o[e]=4,r[e];D1&&(o[e]=0)}}const u=tc[e];let f,x;if(u)return e==="$attrs"&&Kr(t,"get",e),u(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(r!==_t&&ut(r,e))return o[e]=4,r[e];if(x=c.config.globalProperties,ut(x,e))return x[e]},set({_:t},e,r){const{data:n,setupState:i,ctx:s}=t;return Ud(i,e)?(i[e]=r,!0):n!==_t&&ut(n,e)?(n[e]=r,!0):ut(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:i,propsOptions:s}},o){let a;return!!r[o]||t!==_t&&ut(t,o)||Ud(e,o)||(a=s[0])&&ut(a,o)||ut(n,o)||ut(tc,o)||ut(i.config.globalProperties,o)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:ut(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function C6(t){return Xe(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let D1=!0;function TC(t){const e=D8(t),r=t.proxy,n=t.ctx;D1=!1,e.beforeCreate&&A6(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:c,inject:l,created:u,beforeMount:f,mounted:x,beforeUpdate:h,updated:C,activated:w,deactivated:k,beforeDestroy:O,beforeUnmount:z,destroyed:P,unmounted:A,render:T,renderTracked:F,renderTriggered:R,errorCaptured:d,serverPrefetch:p,expose:_,inheritAttrs:b,components:m,directives:E,filters:S}=e;if(l&&MC(l,n,null),o)for(const M in o){const te=o[M];tt(te)&&(n[M]=te.bind(r))}if(i){const M=i.call(r,r);Pt(M)&&(t.data=Gc(M))}if(D1=!0,s)for(const M in s){const te=s[M],ie=tt(te)?te.bind(r,r):tt(te.get)?te.get.bind(r,r):dn,ue=!tt(te)&&tt(te.set)?te.set.bind(r):dn,ne=uA({get:ie,set:ue});Object.defineProperty(n,M,{enumerable:!0,configurable:!0,get:()=>ne.value,set:le=>ne.value=le})}if(a)for(const M in a)F4(a[M],n,r,M);if(c){const M=tt(c)?c.call(r):c;Reflect.ownKeys(M).forEach(te=>{KC(te,M[te])})}u&&A6(u,t,"c");function Z(M,te){Xe(te)?te.forEach(ie=>M(ie.bind(r))):te&&M(te.bind(r))}if(Z(B8,f),Z(B4,x),Z(_C,h),Z(wC,C),Z(CC,w),Z(AC,k),Z(SC,d),Z(FC,F),Z(kC,R),Z(BC,z),Z(D4,A),Z(DC,p),Xe(_))if(_.length){const M=t.exposed||(t.exposed={});_.forEach(te=>{Object.defineProperty(M,te,{get:()=>r[te],set:ie=>r[te]=ie})})}else t.exposed||(t.exposed={});T&&t.render===dn&&(t.render=T),b!=null&&(t.inheritAttrs=b),m&&(t.components=m),E&&(t.directives=E)}function MC(t,e,r=dn){Xe(t)&&(t=k1(t));for(const n in t){const i=t[n];let s;Pt(i)?"default"in i?s=ou(i.from||n,i.default,!0):s=ou(i.from||n):s=ou(i),Ur(s)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[n]=s}}function A6(t,e,r){wn(Xe(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function F4(t,e,r,n){const i=n.includes(".")?v4(r,n):()=>r[n];if(Ht(t)){const s=e[t];tt(s)&&Kd(i,s)}else if(tt(t))Kd(i,t.bind(r));else if(Pt(t))if(Xe(t))t.forEach(s=>F4(s,e,r,n));else{const s=tt(t.handler)?t.handler.bind(r):e[t.handler];tt(s)&&Kd(i,s,t)}}function D8(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let c;return a?c=a:!i.length&&!r&&!n?c=e:(c={},i.length&&i.forEach(l=>Iu(c,l,o,!0)),Iu(c,e,o)),Pt(e)&&s.set(e,c),c}function Iu(t,e,r,n=!1){const{mixins:i,extends:s}=e;s&&Iu(t,s,r,!0),i&&i.forEach(o=>Iu(t,o,r,!0));for(const o in e)if(!(n&&o==="expose")){const a=IC[o]||r&&r[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const IC={data:v6,props:_6,emits:_6,methods:Na,computed:Na,beforeCreate:Er,created:Er,beforeMount:Er,mounted:Er,beforeUpdate:Er,updated:Er,beforeDestroy:Er,beforeUnmount:Er,destroyed:Er,unmounted:Er,activated:Er,deactivated:Er,errorCaptured:Er,serverPrefetch:Er,components:Na,directives:Na,watch:OC,provide:v6,inject:RC};function v6(t,e){return e?t?function(){return pr(tt(t)?t.call(this,this):t,tt(e)?e.call(this,this):e)}:e:t}function RC(t,e){return Na(k1(t),k1(e))}function k1(t){if(Xe(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function Er(t,e){return t?[...new Set([].concat(t,e))]:e}function Na(t,e){return t?pr(Object.create(null),t,e):e}function _6(t,e){return t?Xe(t)&&Xe(e)?[...new Set([...t,...e])]:pr(Object.create(null),C6(t),C6(e??{})):e}function OC(t,e){if(!t)return e;if(!e)return t;const r=pr(Object.create(null),t);for(const n in e)r[n]=Er(t[n],e[n]);return r}function S4(){return{app:null,config:{isNativeTag:bb,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let LC=0;function NC(t,e){return function(n,i=null){tt(n)||(n=pr({},n)),i!=null&&!Pt(i)&&(i=null);const s=S4(),o=new WeakSet;let a=!1;const c=s.app={_uid:LC++,_component:n,_props:i,_container:null,_context:s,_instance:null,version:fA,get config(){return s.config},set config(l){},use(l,...u){return o.has(l)||(l&&tt(l.install)?(o.add(l),l.install(c,...u)):tt(l)&&(o.add(l),l(c,...u))),c},mixin(l){return s.mixins.includes(l)||s.mixins.push(l),c},component(l,u){return u?(s.components[l]=u,c):s.components[l]},directive(l,u){return u?(s.directives[l]=u,c):s.directives[l]},mount(l,u,f){if(!a){const x=zt(n,i);return x.appContext=s,f===!0?f="svg":f===!1&&(f=void 0),u&&e?e(x,l):t(x,l,f),a=!0,c._container=l,l.__vue_app__=c,Vf(x.component)||x.component.proxy}},unmount(){a&&(t(null,c._container),delete c._container.__vue_app__)},provide(l,u){return s.provides[l]=u,c},runWithContext(l){Ru=c;try{return l()}finally{Ru=null}}};return c}}let Ru=null;function KC(t,e){if(vr){let r=vr.provides;const n=vr.parent&&vr.parent.provides;n===r&&(r=vr.provides=Object.create(n)),r[t]=e}}function ou(t,e,r=!1){const n=vr||Yr;if(n||Ru){const i=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:Ru._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return r&&tt(e)?e.call(n&&n.proxy):e}}function UC(t,e,r,n=!1){const i={},s={};Pu(s,jf,1),t.propsDefaults=Object.create(null),P4(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);r?t.props=n?i:Zb(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function $C(t,e,r,n){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=pt(i),[c]=t.propsOptions;let l=!1;if((n||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let f=0;f<u.length;f++){let x=u[f];if(Uf(t.emitsOptions,x))continue;const h=e[x];if(c)if(ut(s,x))h!==s[x]&&(s[x]=h,l=!0);else{const C=Vo(x);i[C]=F1(c,a,C,h,t,!1)}else h!==s[x]&&(s[x]=h,l=!0)}}}else{P4(t,e,i,s)&&(l=!0);let u;for(const f in a)(!e||!ut(e,f)&&((u=X0(f))===f||!ut(e,u)))&&(c?r&&(r[f]!==void 0||r[u]!==void 0)&&(i[f]=F1(c,a,f,void 0,t,!0)):delete i[f]);if(s!==a)for(const f in s)(!e||!ut(e,f))&&(delete s[f],l=!0)}l&&Ki(t,"set","$attrs")}function P4(t,e,r,n){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(ru(c))continue;const l=e[c];let u;i&&ut(i,u=Vo(c))?!s||!s.includes(u)?r[u]=l:(a||(a={}))[u]=l:Uf(t.emitsOptions,c)||(!(c in n)||l!==n[c])&&(n[c]=l,o=!0)}if(s){const c=pt(r),l=a||_t;for(let u=0;u<s.length;u++){const f=s[u];r[f]=F1(i,c,f,l[f],t,!ut(l,f))}}return o}function F1(t,e,r,n,i,s){const o=t[r];if(o!=null){const a=ut(o,"default");if(a&&n===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&tt(c)){const{propsDefaults:l}=i;if(r in l)n=l[r];else{const u=Yc(i);n=l[r]=c.call(null,e),u()}}else n=c}o[0]&&(s&&!a?n=!1:o[1]&&(n===""||n===X0(r))&&(n=!0))}return n}function T4(t,e,r=!1){const n=e.propsCache,i=n.get(t);if(i)return i;const s=t.props,o={},a=[];let c=!1;if(!tt(t)){const u=f=>{c=!0;const[x,h]=T4(f,e,!0);pr(o,x),h&&a.push(...h)};!r&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!s&&!c)return Pt(t)&&n.set(t,Mo),Mo;if(Xe(s))for(let u=0;u<s.length;u++){const f=Vo(s[u]);w6(f)&&(o[f]=_t)}else if(s)for(const u in s){const f=Vo(u);if(w6(f)){const x=s[u],h=o[f]=Xe(x)||tt(x)?{type:x}:pr({},x);if(h){const C=k6(Boolean,h.type),w=k6(String,h.type);h[0]=C>-1,h[1]=w<0||C<w,(C>-1||ut(h,"default"))&&a.push(f)}}}const l=[o,a];return Pt(t)&&n.set(t,l),l}function w6(t){return t[0]!=="$"}function B6(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function D6(t,e){return B6(t)===B6(e)}function k6(t,e){return Xe(e)?e.findIndex(r=>D6(r,t)):tt(e)&&D6(e,t)?0:-1}const M4=t=>t[0]==="_"||t==="$stable",k8=t=>Xe(t)?t.map(Gn):[Gn(t)],zC=(t,e,r)=>{if(e._n)return e;const n=uC((...i)=>k8(e(...i)),r);return n._c=!1,n},I4=(t,e,r)=>{const n=t._ctx;for(const i in t){if(M4(i))continue;const s=t[i];if(tt(s))e[i]=zC(i,s,n);else if(s!=null){const o=k8(s);e[i]=()=>o}}},R4=(t,e)=>{const r=k8(e);t.slots.default=()=>r},jC=(t,e)=>{if(t.vnode.shapeFlag&32){const r=e._;r?(t.slots=pt(e),Pu(e,"_",r)):I4(e,t.slots={})}else t.slots={},e&&R4(t,e);Pu(t.slots,jf,1)},HC=(t,e,r)=>{const{vnode:n,slots:i}=t;let s=!0,o=_t;if(n.shapeFlag&32){const a=e._;a?r&&a===1?s=!1:(pr(i,e),!r&&a===1&&delete i._):(s=!e.$stable,I4(e,i)),o=e}else e&&(R4(t,e),o={default:1});if(s)for(const a in i)!M4(a)&&o[a]==null&&delete i[a]};function S1(t,e,r,n,i=!1){if(Xe(t)){t.forEach((x,h)=>S1(x,e&&(Xe(e)?e[h]:e),r,n,i));return}if(su(n)&&!i)return;const s=n.shapeFlag&4?Vf(n.component)||n.component.proxy:n.el,o=i?null:s,{i:a,r:c}=t,l=e&&e.r,u=a.refs===_t?a.refs={}:a.refs,f=a.setupState;if(l!=null&&l!==c&&(Ht(l)?(u[l]=null,ut(f,l)&&(f[l]=null)):Ur(l)&&(l.value=null)),tt(c))Ps(c,a,12,[o,u]);else{const x=Ht(c),h=Ur(c),C=t.f;if(x||h){const w=()=>{if(C){const k=x?ut(f,c)?f[c]:u[c]:c.value;i?Xe(k)&&h8(k,s):Xe(k)?k.includes(s)||k.push(s):x?(u[c]=[s],ut(f,c)&&(f[c]=u[c])):(c.value=[s],t.k&&(u[t.k]=c.value))}else x?(u[c]=o,ut(f,c)&&(f[c]=o)):h&&(c.value=o,t.k&&(u[t.k]=o))};i||C?w():(w.id=-1,Tr(w,r))}}}const Tr=gC;function VC(t){return qC(t)}function qC(t,e){const r=Y7();r.__VUE__=!0;const{insert:n,remove:i,patchProp:s,createElement:o,createText:a,createComment:c,setText:l,setElementText:u,parentNode:f,nextSibling:x,setScopeId:h=dn,insertStaticContent:C}=t,w=(y,g,B,I=null,j=null,$=null,q=void 0,ae=null,oe=!!g.dynamicChildren)=>{if(y===g)return;y&&!Ba(y,g)&&(I=K(y),le(y,j,$,!0),y=null),g.patchFlag===-2&&(oe=!1,g.dynamicChildren=null);const{type:ce,ref:H,shapeFlag:V}=g;switch(ce){case zf:k(y,g,B,I);break;case K0:O(y,g,B,I);break;case zd:y==null&&z(g,B,I,q);break;case fr:m(y,g,B,I,j,$,q,ae,oe);break;default:V&1?T(y,g,B,I,j,$,q,ae,oe):V&6?E(y,g,B,I,j,$,q,ae,oe):(V&64||V&128)&&ce.process(y,g,B,I,j,$,q,ae,oe,xe)}H!=null&&j&&S1(H,y&&y.ref,$,g||y,!g)},k=(y,g,B,I)=>{if(y==null)n(g.el=a(g.children),B,I);else{const j=g.el=y.el;g.children!==y.children&&l(j,g.children)}},O=(y,g,B,I)=>{y==null?n(g.el=c(g.children||""),B,I):g.el=y.el},z=(y,g,B,I)=>{[y.el,y.anchor]=C(y.children,g,B,I,y.el,y.anchor)},P=({el:y,anchor:g},B,I)=>{let j;for(;y&&y!==g;)j=x(y),n(y,B,I),y=j;n(g,B,I)},A=({el:y,anchor:g})=>{let B;for(;y&&y!==g;)B=x(y),i(y),y=B;i(g)},T=(y,g,B,I,j,$,q,ae,oe)=>{g.type==="svg"?q="svg":g.type==="math"&&(q="mathml"),y==null?F(g,B,I,j,$,q,ae,oe):p(y,g,j,$,q,ae,oe)},F=(y,g,B,I,j,$,q,ae)=>{let oe,ce;const{props:H,shapeFlag:V,transition:Y,dirs:G}=y;if(oe=y.el=o(y.type,$,H&&H.is,H),V&8?u(oe,y.children):V&16&&d(y.children,oe,null,I,j,$d(y,$),q,ae),G&&n0(y,null,I,"created"),R(oe,y,y.scopeId,q,I),H){for(const ee in H)ee!=="value"&&!ru(ee)&&s(oe,ee,null,H[ee],$,y.children,I,j,re);"value"in H&&s(oe,"value",null,H.value,$),(ce=H.onVnodeBeforeMount)&&Nn(ce,I,y)}G&&n0(y,null,I,"beforeMount");const X=WC(j,Y);X&&Y.beforeEnter(oe),n(oe,g,B),((ce=H&&H.onVnodeMounted)||X||G)&&Tr(()=>{ce&&Nn(ce,I,y),X&&Y.enter(oe),G&&n0(y,null,I,"mounted")},j)},R=(y,g,B,I,j)=>{if(B&&h(y,B),I)for(let $=0;$<I.length;$++)h(y,I[$]);if(j){let $=j.subTree;if(g===$){const q=j.vnode;R(y,q,q.scopeId,q.slotScopeIds,j.parent)}}},d=(y,g,B,I,j,$,q,ae,oe=0)=>{for(let ce=oe;ce<y.length;ce++){const H=y[ce]=ae?Es(y[ce]):Gn(y[ce]);w(null,H,g,B,I,j,$,q,ae)}},p=(y,g,B,I,j,$,q)=>{const ae=g.el=y.el;let{patchFlag:oe,dynamicChildren:ce,dirs:H}=g;oe|=y.patchFlag&16;const V=y.props||_t,Y=g.props||_t;let G;if(B&&i0(B,!1),(G=Y.onVnodeBeforeUpdate)&&Nn(G,B,g,y),H&&n0(g,y,B,"beforeUpdate"),B&&i0(B,!0),ce?_(y.dynamicChildren,ce,ae,B,I,$d(g,j),$):q||te(y,g,ae,null,B,I,$d(g,j),$,!1),oe>0){if(oe&16)b(ae,g,V,Y,B,I,j);else if(oe&2&&V.class!==Y.class&&s(ae,"class",null,Y.class,j),oe&4&&s(ae,"style",V.style,Y.style,j),oe&8){const X=g.dynamicProps;for(let ee=0;ee<X.length;ee++){const N=X[ee],L=V[N],be=Y[N];(be!==L||N==="value")&&s(ae,N,L,be,j,y.children,B,I,re)}}oe&1&&y.children!==g.children&&u(ae,g.children)}else!q&&ce==null&&b(ae,g,V,Y,B,I,j);((G=Y.onVnodeUpdated)||H)&&Tr(()=>{G&&Nn(G,B,g,y),H&&n0(g,y,B,"updated")},I)},_=(y,g,B,I,j,$,q)=>{for(let ae=0;ae<g.length;ae++){const oe=y[ae],ce=g[ae],H=oe.el&&(oe.type===fr||!Ba(oe,ce)||oe.shapeFlag&70)?f(oe.el):B;w(oe,ce,H,null,I,j,$,q,!0)}},b=(y,g,B,I,j,$,q)=>{if(B!==I){if(B!==_t)for(const ae in B)!ru(ae)&&!(ae in I)&&s(y,ae,B[ae],null,q,g.children,j,$,re);for(const ae in I){if(ru(ae))continue;const oe=I[ae],ce=B[ae];oe!==ce&&ae!=="value"&&s(y,ae,ce,oe,q,g.children,j,$,re)}"value"in I&&s(y,"value",B.value,I.value,q)}},m=(y,g,B,I,j,$,q,ae,oe)=>{const ce=g.el=y?y.el:a(""),H=g.anchor=y?y.anchor:a("");let{patchFlag:V,dynamicChildren:Y,slotScopeIds:G}=g;G&&(ae=ae?ae.concat(G):G),y==null?(n(ce,B,I),n(H,B,I),d(g.children||[],B,H,j,$,q,ae,oe)):V>0&&V&64&&Y&&y.dynamicChildren?(_(y.dynamicChildren,Y,B,j,$,q,ae),(g.key!=null||j&&g===j.subTree)&&O4(y,g,!0)):te(y,g,B,H,j,$,q,ae,oe)},E=(y,g,B,I,j,$,q,ae,oe)=>{g.slotScopeIds=ae,y==null?g.shapeFlag&512?j.ctx.activate(g,B,I,q,oe):S(g,B,I,j,$,q,oe):Q(y,g,oe)},S=(y,g,B,I,j,$,q)=>{const ae=y.component=iA(y,I,j);if(_4(y)&&(ae.ctx.renderer=xe),sA(ae),ae.asyncDep){if(j&&j.registerDep(ae,Z),!y.el){const oe=ae.subTree=zt(K0);O(null,oe,g,B)}}else Z(ae,y,g,B,j,$,q)},Q=(y,g,B)=>{const I=g.component=y.component;if(xC(y,g,B))if(I.asyncDep&&!I.asyncResolved){M(I,g,B);return}else I.next=g,oC(I.update),I.effect.dirty=!0,I.update();else g.el=y.el,I.vnode=g},Z=(y,g,B,I,j,$,q)=>{const ae=()=>{if(y.isMounted){let{next:H,bu:V,u:Y,parent:G,vnode:X}=y;{const Ee=L4(y);if(Ee){H&&(H.el=X.el,M(y,H,q)),Ee.asyncDep.then(()=>{y.isUnmounted||ae()});return}}let ee=H,N;i0(y,!1),H?(H.el=X.el,M(y,H,q)):H=X,V&&nu(V),(N=H.props&&H.props.onVnodeBeforeUpdate)&&Nn(N,G,H,X),i0(y,!0);const L=Nd(y),be=y.subTree;y.subTree=L,w(be,L,f(be.el),K(be),y,j,$),H.el=L.el,ee===null&&hC(y,L.el),Y&&Tr(Y,j),(N=H.props&&H.props.onVnodeUpdated)&&Tr(()=>Nn(N,G,H,X),j)}else{let H;const{el:V,props:Y}=g,{bm:G,m:X,parent:ee}=y,N=su(g);if(i0(y,!1),G&&nu(G),!N&&(H=Y&&Y.onVnodeBeforeMount)&&Nn(H,ee,g),i0(y,!0),V&&he){const L=()=>{y.subTree=Nd(y),he(V,y.subTree,y,j,null)};N?g.type.__asyncLoader().then(()=>!y.isUnmounted&&L()):L()}else{const L=y.subTree=Nd(y);w(null,L,B,I,y,j,$),g.el=L.el}if(X&&Tr(X,j),!N&&(H=Y&&Y.onVnodeMounted)){const L=g;Tr(()=>Nn(H,ee,L),j)}(g.shapeFlag&256||ee&&su(ee.vnode)&&ee.vnode.shapeFlag&256)&&y.a&&Tr(y.a,j),y.isMounted=!0,g=B=I=null}},oe=y.effect=new g8(ae,dn,()=>w8(ce),y.scope),ce=y.update=()=>{oe.dirty&&oe.run()};ce.id=y.uid,i0(y,!0),ce()},M=(y,g,B)=>{g.component=y;const I=y.vnode.props;y.vnode=g,y.next=null,$C(y,g.props,I,B),HC(y,g.children,B),Q0(),E6(y),Z0()},te=(y,g,B,I,j,$,q,ae,oe=!1)=>{const ce=y&&y.children,H=y?y.shapeFlag:0,V=g.children,{patchFlag:Y,shapeFlag:G}=g;if(Y>0){if(Y&128){ue(ce,V,B,I,j,$,q,ae,oe);return}else if(Y&256){ie(ce,V,B,I,j,$,q,ae,oe);return}}G&8?(H&16&&re(ce,j,$),V!==ce&&u(B,V)):H&16?G&16?ue(ce,V,B,I,j,$,q,ae,oe):re(ce,j,$,!0):(H&8&&u(B,""),G&16&&d(V,B,I,j,$,q,ae,oe))},ie=(y,g,B,I,j,$,q,ae,oe)=>{y=y||Mo,g=g||Mo;const ce=y.length,H=g.length,V=Math.min(ce,H);let Y;for(Y=0;Y<V;Y++){const G=g[Y]=oe?Es(g[Y]):Gn(g[Y]);w(y[Y],G,B,null,j,$,q,ae,oe)}ce>H?re(y,j,$,!0,!1,V):d(g,B,I,j,$,q,ae,oe,V)},ue=(y,g,B,I,j,$,q,ae,oe)=>{let ce=0;const H=g.length;let V=y.length-1,Y=H-1;for(;ce<=V&&ce<=Y;){const G=y[ce],X=g[ce]=oe?Es(g[ce]):Gn(g[ce]);if(Ba(G,X))w(G,X,B,null,j,$,q,ae,oe);else break;ce++}for(;ce<=V&&ce<=Y;){const G=y[V],X=g[Y]=oe?Es(g[Y]):Gn(g[Y]);if(Ba(G,X))w(G,X,B,null,j,$,q,ae,oe);else break;V--,Y--}if(ce>V){if(ce<=Y){const G=Y+1,X=G<H?g[G].el:I;for(;ce<=Y;)w(null,g[ce]=oe?Es(g[ce]):Gn(g[ce]),B,X,j,$,q,ae,oe),ce++}}else if(ce>Y)for(;ce<=V;)le(y[ce],j,$,!0),ce++;else{const G=ce,X=ce,ee=new Map;for(ce=X;ce<=Y;ce++){const ke=g[ce]=oe?Es(g[ce]):Gn(g[ce]);ke.key!=null&&ee.set(ke.key,ce)}let N,L=0;const be=Y-X+1;let Ee=!1,Pe=0;const Ye=new Array(be);for(ce=0;ce<be;ce++)Ye[ce]=0;for(ce=G;ce<=V;ce++){const ke=y[ce];if(L>=be){le(ke,j,$,!0);continue}let rt;if(ke.key!=null)rt=ee.get(ke.key);else for(N=X;N<=Y;N++)if(Ye[N-X]===0&&Ba(ke,g[N])){rt=N;break}rt===void 0?le(ke,j,$,!0):(Ye[rt-X]=ce+1,rt>=Pe?Pe=rt:Ee=!0,w(ke,g[rt],B,null,j,$,q,ae,oe),L++)}const Ne=Ee?GC(Ye):Mo;for(N=Ne.length-1,ce=be-1;ce>=0;ce--){const ke=X+ce,rt=g[ke],Ve=ke+1<H?g[ke+1].el:I;Ye[ce]===0?w(null,rt,B,Ve,j,$,q,ae,oe):Ee&&(N<0||ce!==Ne[N]?ne(rt,B,Ve,2):N--)}}},ne=(y,g,B,I,j=null)=>{const{el:$,type:q,transition:ae,children:oe,shapeFlag:ce}=y;if(ce&6){ne(y.component.subTree,g,B,I);return}if(ce&128){y.suspense.move(g,B,I);return}if(ce&64){q.move(y,g,B,xe);return}if(q===fr){n($,g,B);for(let V=0;V<oe.length;V++)ne(oe[V],g,B,I);n(y.anchor,g,B);return}if(q===zd){P(y,g,B);return}if(I!==2&&ce&1&&ae)if(I===0)ae.beforeEnter($),n($,g,B),Tr(()=>ae.enter($),j);else{const{leave:V,delayLeave:Y,afterLeave:G}=ae,X=()=>n($,g,B),ee=()=>{V($,()=>{X(),G&&G()})};Y?Y($,X,ee):ee()}else n($,g,B)},le=(y,g,B,I=!1,j=!1)=>{const{type:$,props:q,ref:ae,children:oe,dynamicChildren:ce,shapeFlag:H,patchFlag:V,dirs:Y}=y;if(ae!=null&&S1(ae,null,B,y,!0),H&256){g.ctx.deactivate(y);return}const G=H&1&&Y,X=!su(y);let ee;if(X&&(ee=q&&q.onVnodeBeforeUnmount)&&Nn(ee,g,y),H&6)W(y.component,B,I);else{if(H&128){y.suspense.unmount(B,I);return}G&&n0(y,null,g,"beforeUnmount"),H&64?y.type.remove(y,g,B,j,xe,I):ce&&($!==fr||V>0&&V&64)?re(ce,g,B,!1,!0):($===fr&&V&384||!j&&H&16)&&re(oe,g,B),I&&Ae(y)}(X&&(ee=q&&q.onVnodeUnmounted)||G)&&Tr(()=>{ee&&Nn(ee,g,y),G&&n0(y,null,g,"unmounted")},B)},Ae=y=>{const{type:g,el:B,anchor:I,transition:j}=y;if(g===fr){me(B,I);return}if(g===zd){A(y);return}const $=()=>{i(B),j&&!j.persisted&&j.afterLeave&&j.afterLeave()};if(y.shapeFlag&1&&j&&!j.persisted){const{leave:q,delayLeave:ae}=j,oe=()=>q(B,$);ae?ae(y.el,$,oe):oe()}else $()},me=(y,g)=>{let B;for(;y!==g;)B=x(y),i(y),y=B;i(g)},W=(y,g,B)=>{const{bum:I,scope:j,update:$,subTree:q,um:ae}=y;I&&nu(I),j.stop(),$&&($.active=!1,le(q,y,g,B)),ae&&Tr(ae,g),Tr(()=>{y.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&y.asyncDep&&!y.asyncResolved&&y.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},re=(y,g,B,I=!1,j=!1,$=0)=>{for(let q=$;q<y.length;q++)le(y[q],g,B,I,j)},K=y=>y.shapeFlag&6?K(y.component.subTree):y.shapeFlag&128?y.suspense.next():x(y.anchor||y.el);let v=!1;const J=(y,g,B)=>{y==null?g._vnode&&le(g._vnode,null,null,!0):w(g._vnode||null,y,g,null,null,null,B),v||(v=!0,E6(),y4(),v=!1),g._vnode=y},xe={p:w,um:le,m:ne,r:Ae,mt:S,mc:d,pc:te,pbc:_,n:K,o:t};let fe,he;return e&&([fe,he]=e(xe)),{render:J,hydrate:fe,createApp:NC(J,fe)}}function $d({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function i0({effect:t,update:e},r){t.allowRecurse=e.allowRecurse=r}function WC(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function O4(t,e,r=!1){const n=t.children,i=e.children;if(Xe(n)&&Xe(i))for(let s=0;s<n.length;s++){const o=n[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=Es(i[s]),a.el=o.el),r||O4(o,a)),a.type===zf&&(a.el=o.el)}}function GC(t){const e=t.slice(),r=[0];let n,i,s,o,a;const c=t.length;for(n=0;n<c;n++){const l=t[n];if(l!==0){if(i=r[r.length-1],t[i]<l){e[n]=i,r.push(n);continue}for(s=0,o=r.length-1;s<o;)a=s+o>>1,t[r[a]]<l?s=a+1:o=a;l<t[r[s]]&&(s>0&&(e[n]=r[s-1]),r[s]=n)}}for(s=r.length,o=r[s-1];s-- >0;)r[s]=o,o=e[o];return r}function L4(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:L4(e)}const YC=t=>t.__isTeleport,fr=Symbol.for("v-fgt"),zf=Symbol.for("v-txt"),K0=Symbol.for("v-cmt"),zd=Symbol.for("v-stc"),rc=[];let vn=null;function St(t=!1){rc.push(vn=t?null:[])}function JC(){rc.pop(),vn=rc[rc.length-1]||null}let _c=1;function F6(t){_c+=t}function N4(t){return t.dynamicChildren=_c>0?vn||Mo:null,JC(),_c>0&&vn&&vn.push(t),t}function It(t,e,r,n,i,s){return N4(de(t,e,r,n,i,s,!0))}function XC(t,e,r,n,i){return N4(zt(t,e,r,n,i,!0))}function QC(t){return t?t.__v_isVNode===!0:!1}function Ba(t,e){return t.type===e.type&&t.key===e.key}const jf="__vInternal",K4=({key:t})=>t??null,au=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?Ht(t)||Ur(t)||tt(t)?{i:Yr,r:t,k:e,f:!!r}:t:null);function de(t,e=null,r=null,n=0,i=null,s=t===fr?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&K4(e),ref:e&&au(e),scopeId:C4,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Yr};return a?(F8(c,r),s&128&&t.normalize(c)):r&&(c.shapeFlag|=Ht(r)?8:16),_c>0&&!o&&vn&&(c.patchFlag>0||s&6)&&c.patchFlag!==32&&vn.push(c),c}const zt=ZC;function ZC(t,e=null,r=null,n=0,i=null,s=!1){if((!t||t===pC)&&(t=K0),QC(t)){const a=Wo(t,e,!0);return r&&F8(a,r),_c>0&&!s&&vn&&(a.shapeFlag&6?vn[vn.indexOf(t)]=a:vn.push(a)),a.patchFlag|=-2,a}if(lA(t)&&(t=t.__vccOpts),e){e=eA(e);let{class:a,style:c}=e;a&&!Ht(a)&&(e.class=Ro(a)),Pt(c)&&(f4(c)&&!Xe(c)&&(c=pr({},c)),e.style=m8(c))}const o=Ht(t)?1:mC(t)?128:YC(t)?64:Pt(t)?4:tt(t)?2:0;return de(t,e,r,n,i,o,s,!0)}function eA(t){return t?f4(t)||jf in t?pr({},t):t:null}function Wo(t,e,r=!1){const{props:n,ref:i,patchFlag:s,children:o}=t,a=e?tA(n||{},e):n;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&K4(a),ref:e&&e.ref?r&&i?Xe(i)?i.concat(au(e)):[i,au(e)]:au(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==fr?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Wo(t.ssContent),ssFallback:t.ssFallback&&Wo(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Pi(t=" ",e=0){return zt(zf,null,t,e)}function Jr(t="",e=!1){return e?(St(),XC(K0,null,t)):zt(K0,null,t)}function Gn(t){return t==null||typeof t=="boolean"?zt(K0):Xe(t)?zt(fr,null,t.slice()):typeof t=="object"?Es(t):zt(zf,null,String(t))}function Es(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Wo(t)}function F8(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(Xe(e))r=16;else if(typeof e=="object")if(n&65){const i=e.default;i&&(i._c&&(i._d=!1),F8(t,i()),i._c&&(i._d=!0));return}else{r=32;const i=e._;!i&&!(jf in e)?e._ctx=Yr:i===3&&Yr&&(Yr.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else tt(e)?(e={default:e,_ctx:Yr},r=32):(e=String(e),n&64?(r=16,e=[Pi(e)]):r=8);t.children=e,t.shapeFlag|=r}function tA(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const i in n)if(i==="class")e.class!==n.class&&(e.class=Ro([e.class,n.class]));else if(i==="style")e.style=m8([e.style,n.style]);else if(Rf(i)){const s=e[i],o=n[i];o&&s!==o&&!(Xe(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=n[i])}return e}function Nn(t,e,r,n=null){wn(t,e,7,[r,n])}const rA=S4();let nA=0;function iA(t,e,r){const n=t.type,i=(e?e.appContext:t.appContext)||rA,s={uid:nA++,vnode:t,type:n,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Pb(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:T4(n,i),emitsOptions:b4(n,i),emit:null,emitted:null,propsDefaults:_t,inheritAttrs:n.inheritAttrs,ctx:_t,data:_t,props:_t,attrs:_t,slots:_t,refs:_t,setupState:_t,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=lC.bind(null,s),t.ce&&t.ce(s),s}let vr=null,Ou,P1;{const t=Y7(),e=(r,n)=>{let i;return(i=t[r])||(i=t[r]=[]),i.push(n),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};Ou=e("__VUE_INSTANCE_SETTERS__",r=>vr=r),P1=e("__VUE_SSR_SETTERS__",r=>Hf=r)}const Yc=t=>{const e=vr;return Ou(t),t.scope.on(),()=>{t.scope.off(),Ou(e)}},S6=()=>{vr&&vr.scope.off(),Ou(null)};function U4(t){return t.vnode.shapeFlag&4}let Hf=!1;function sA(t,e=!1){e&&P1(e);const{props:r,children:n}=t.vnode,i=U4(t);UC(t,r,i,e),jC(t,n);const s=i?oA(t,e):void 0;return e&&P1(!1),s}function oA(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=d4(new Proxy(t.ctx,PC));const{setup:n}=r;if(n){const i=t.setupContext=n.length>1?cA(t):null,s=Yc(t);Q0();const o=Ps(n,t,0,[t.props,i]);if(Z0(),s(),V7(o)){if(o.then(S6,S6),e)return o.then(a=>{P6(t,a,e)}).catch(a=>{Kf(a,t,0)});t.asyncDep=o}else P6(t,o,e)}else $4(t,e)}function P6(t,e,r){tt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Pt(e)&&(t.setupState=p4(e)),$4(t,r)}let T6;function $4(t,e,r){const n=t.type;if(!t.render){if(!e&&T6&&!n.render){const i=n.template||D8(t).template;if(i){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:c}=n,l=pr(pr({isCustomElement:s,delimiters:a},o),c);n.render=T6(i,l)}}t.render=n.render||dn}{const i=Yc(t);Q0();try{TC(t)}finally{Z0(),i()}}}function aA(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,r){return Kr(t,"get","$attrs"),e[r]}}))}function cA(t){const e=r=>{t.exposed=r||{}};return{get attrs(){return aA(t)},slots:t.slots,emit:t.emit,expose:e}}function Vf(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(p4(d4(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in tc)return tc[r](t)},has(e,r){return r in e||r in tc}}))}function lA(t){return tt(t)&&"__vccOpts"in t}const uA=(t,e)=>eC(t,e,Hf),fA="3.4.15";/**
* @vue/runtime-dom v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const dA="http://www.w3.org/2000/svg",xA="http://www.w3.org/1998/Math/MathML",bs=typeof document<"u"?document:null,M6=bs&&bs.createElement("template"),hA={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const i=e==="svg"?bs.createElementNS(dA,t):e==="mathml"?bs.createElementNS(xA,t):bs.createElement(t,r?{is:r}:void 0);return t==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:t=>bs.createTextNode(t),createComment:t=>bs.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>bs.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,i,s){const o=r?r.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),r),!(i===s||!(i=i.nextSibling)););else{M6.innerHTML=n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t;const a=M6.content;if(n==="svg"||n==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,r)}return[o?o.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},pA=Symbol("_vtc");function mA(t,e,r){const n=t[pA];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const S8=Symbol("_vod"),P8={beforeMount(t,{value:e},{transition:r}){t[S8]=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):Da(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:n}){!e!=!r&&(n?e?(n.beforeEnter(t),Da(t,!0),n.enter(t)):n.leave(t,()=>{Da(t,!1)}):Da(t,e))},beforeUnmount(t,{value:e}){Da(t,e)}};function Da(t,e){t.style.display=e?t[S8]:"none"}const gA=Symbol("");function yA(t,e,r){const n=t.style,i=n.display,s=Ht(r);if(r&&!s){if(e&&!Ht(e))for(const o in e)r[o]==null&&T1(n,o,"");for(const o in r)T1(n,o,r[o])}else if(s){if(e!==r){const o=n[gA];o&&(r+=";"+o),n.cssText=r}}else e&&t.removeAttribute("style");S8 in t&&(n.display=i)}const I6=/\s*!important$/;function T1(t,e,r){if(Xe(r))r.forEach(n=>T1(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=EA(t,e);I6.test(r)?t.setProperty(X0(n),r.replace(I6,""),"important"):t[n]=r}}const R6=["Webkit","Moz","ms"],jd={};function EA(t,e){const r=jd[e];if(r)return r;let n=Vo(e);if(n!=="filter"&&n in t)return jd[e]=n;n=G7(n);for(let i=0;i<R6.length;i++){const s=R6[i]+n;if(s in t)return jd[e]=s}return e}const O6="http://www.w3.org/1999/xlink";function bA(t,e,r,n,i){if(n&&e.startsWith("xlink:"))r==null?t.removeAttributeNS(O6,e.slice(6,e.length)):t.setAttributeNS(O6,e,r);else{const s=Sb(e);r==null||s&&!J7(r)?t.removeAttribute(e):t.setAttribute(e,s?"":r)}}function CA(t,e,r,n,i,s,o){if(e==="innerHTML"||e==="textContent"){n&&o(n,i,s),t[e]=r??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=r;const l=a==="OPTION"?t.getAttribute("value"):t.value,u=r??"";l!==u&&(t.value=u),r==null&&t.removeAttribute(e);return}let c=!1;if(r===""||r==null){const l=typeof t[e];l==="boolean"?r=J7(r):r==null&&l==="string"?(r="",c=!0):l==="number"&&(r=0,c=!0)}try{t[e]=r}catch{}c&&t.removeAttribute(e)}function yo(t,e,r,n){t.addEventListener(e,r,n)}function AA(t,e,r,n){t.removeEventListener(e,r,n)}const L6=Symbol("_vei");function vA(t,e,r,n,i=null){const s=t[L6]||(t[L6]={}),o=s[e];if(n&&o)o.value=n;else{const[a,c]=_A(e);if(n){const l=s[e]=DA(n,i);yo(t,a,l,c)}else o&&(AA(t,a,o,c),s[e]=void 0)}}const N6=/(?:Once|Passive|Capture)$/;function _A(t){let e;if(N6.test(t)){e={};let n;for(;n=t.match(N6);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):X0(t.slice(2)),e]}let Hd=0;const wA=Promise.resolve(),BA=()=>Hd||(wA.then(()=>Hd=0),Hd=Date.now());function DA(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;wn(kA(n,r.value),e,5,[n])};return r.value=t,r.attached=BA(),r}function kA(t,e){if(Xe(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>i=>!i._stopped&&n&&n(i))}else return e}const K6=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,FA=(t,e,r,n,i,s,o,a,c)=>{const l=i==="svg";e==="class"?mA(t,n,l):e==="style"?yA(t,r,n):Rf(e)?x8(e)||vA(t,e,r,n,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):SA(t,e,n,l))?CA(t,e,n,s,o,a,c):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),bA(t,e,n,l))};function SA(t,e,r,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&K6(e)&&tt(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return K6(e)&&Ht(r)?!1:e in t}const U6=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Xe(e)?r=>nu(e,r):e};function PA(t){t.target.composing=!0}function $6(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Vd=Symbol("_assign"),qf={created(t,{modifiers:{lazy:e,trim:r,number:n}},i){t[Vd]=U6(i);const s=n||i.props&&i.props.type==="number";yo(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;r&&(a=a.trim()),s&&(a=b1(a)),t[Vd](a)}),r&&yo(t,"change",()=>{t.value=t.value.trim()}),e||(yo(t,"compositionstart",PA),yo(t,"compositionend",$6),yo(t,"change",$6))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:r,trim:n,number:i}},s){if(t[Vd]=U6(s),t.composing)return;const o=i||t.type==="number"?b1(t.value):t.value,a=e??"";o!==a&&(document.activeElement===t&&t.type!=="range"&&(r||n&&t.value.trim()===a)||(t.value=a))}},TA={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},z4=(t,e)=>{const r=t._withKeys||(t._withKeys={}),n=e.join(".");return r[n]||(r[n]=i=>{if(!("key"in i))return;const s=X0(i.key);if(e.some(o=>o===s||TA[o]===s))return t(i)})},MA=pr({patchProp:FA},hA);let z6;function IA(){return z6||(z6=VC(MA))}const RA=(...t)=>{const e=IA().createApp(...t),{mount:r}=e;return e.mount=n=>{const i=LA(n);if(!i)return;const s=e._component;!tt(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const o=r(i,!1,OA(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function OA(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function LA(t){return Ht(t)?document.querySelector(t):t}const NA="/favicon.svg",eo="/images/person.svg",ve=Gc({db:null,peer:null,chunks:[],focus:!0,contact:null,contacts:[],connections:{}}),ht=Gc({name:null,token:null,secret:null,pubkey:null,privkey:null});var _r="top",en="bottom",tn="right",wr="left",Wf="auto",ha=[_r,en,tn,wr],U0="start",Go="end",j4="clippingParents",T8="viewport",Eo="popper",H4="reference",M1=ha.reduce(function(t,e){return t.concat([e+"-"+U0,e+"-"+Go])},[]),M8=[].concat(ha,[Wf]).reduce(function(t,e){return t.concat([e,e+"-"+U0,e+"-"+Go])},[]),V4="beforeRead",q4="read",W4="afterRead",G4="beforeMain",Y4="main",J4="afterMain",X4="beforeWrite",Q4="write",Z4="afterWrite",e3=[V4,q4,W4,G4,Y4,J4,X4,Q4,Z4];function gi(t){return t?(t.nodeName||"").toLowerCase():null}function rn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function $0(t){var e=rn(t).Element;return t instanceof e||t instanceof Element}function hn(t){var e=rn(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function I8(t){if(typeof ShadowRoot>"u")return!1;var e=rn(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function KA(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var n=e.styles[r]||{},i=e.attributes[r]||{},s=e.elements[r];!hn(s)||!gi(s)||(Object.assign(s.style,n),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function UA(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(n){var i=e.elements[n],s=e.attributes[n]||{},o=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:r[n]),a=o.reduce(function(c,l){return c[l]="",c},{});!hn(i)||!gi(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(c){i.removeAttribute(c)}))})}}const R8={name:"applyStyles",enabled:!0,phase:"write",fn:KA,effect:UA,requires:["computeStyles"]};function ci(t){return t.split("-")[0]}var M0=Math.max,Lu=Math.min,Yo=Math.round;function I1(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function t3(){return!/^((?!chrome|android).)*safari/i.test(I1())}function Jo(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var n=t.getBoundingClientRect(),i=1,s=1;e&&hn(t)&&(i=t.offsetWidth>0&&Yo(n.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Yo(n.height)/t.offsetHeight||1);var o=$0(t)?rn(t):window,a=o.visualViewport,c=!t3()&&r,l=(n.left+(c&&a?a.offsetLeft:0))/i,u=(n.top+(c&&a?a.offsetTop:0))/s,f=n.width/i,x=n.height/s;return{width:f,height:x,top:u,right:l+f,bottom:u+x,left:l,x:l,y:u}}function O8(t){var e=Jo(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function r3(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&I8(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Hi(t){return rn(t).getComputedStyle(t)}function $A(t){return["table","td","th"].indexOf(gi(t))>=0}function Gs(t){return(($0(t)?t.ownerDocument:t.document)||window.document).documentElement}function Gf(t){return gi(t)==="html"?t:t.assignedSlot||t.parentNode||(I8(t)?t.host:null)||Gs(t)}function j6(t){return!hn(t)||Hi(t).position==="fixed"?null:t.offsetParent}function zA(t){var e=/firefox/i.test(I1()),r=/Trident/i.test(I1());if(r&&hn(t)){var n=Hi(t);if(n.position==="fixed")return null}var i=Gf(t);for(I8(i)&&(i=i.host);hn(i)&&["html","body"].indexOf(gi(i))<0;){var s=Hi(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Jc(t){for(var e=rn(t),r=j6(t);r&&$A(r)&&Hi(r).position==="static";)r=j6(r);return r&&(gi(r)==="html"||gi(r)==="body"&&Hi(r).position==="static")?e:r||zA(t)||e}function L8(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function nc(t,e,r){return M0(t,Lu(e,r))}function jA(t,e,r){var n=nc(t,e,r);return n>r?r:n}function n3(){return{top:0,right:0,bottom:0,left:0}}function i3(t){return Object.assign({},n3(),t)}function s3(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var HA=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,i3(typeof e!="number"?e:s3(e,ha))};function VA(t){var e,r=t.state,n=t.name,i=t.options,s=r.elements.arrow,o=r.modifiersData.popperOffsets,a=ci(r.placement),c=L8(a),l=[wr,tn].indexOf(a)>=0,u=l?"height":"width";if(!(!s||!o)){var f=HA(i.padding,r),x=O8(s),h=c==="y"?_r:wr,C=c==="y"?en:tn,w=r.rects.reference[u]+r.rects.reference[c]-o[c]-r.rects.popper[u],k=o[c]-r.rects.reference[c],O=Jc(s),z=O?c==="y"?O.clientHeight||0:O.clientWidth||0:0,P=w/2-k/2,A=f[h],T=z-x[u]-f[C],F=z/2-x[u]/2+P,R=nc(A,F,T),d=c;r.modifiersData[n]=(e={},e[d]=R,e.centerOffset=R-F,e)}}function qA(t){var e=t.state,r=t.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||r3(e.elements.popper,i)&&(e.elements.arrow=i))}const o3={name:"arrow",enabled:!0,phase:"main",fn:VA,effect:qA,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Xo(t){return t.split("-")[1]}var WA={top:"auto",right:"auto",bottom:"auto",left:"auto"};function GA(t,e){var r=t.x,n=t.y,i=e.devicePixelRatio||1;return{x:Yo(r*i)/i||0,y:Yo(n*i)/i||0}}function H6(t){var e,r=t.popper,n=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,c=t.gpuAcceleration,l=t.adaptive,u=t.roundOffsets,f=t.isFixed,x=o.x,h=x===void 0?0:x,C=o.y,w=C===void 0?0:C,k=typeof u=="function"?u({x:h,y:w}):{x:h,y:w};h=k.x,w=k.y;var O=o.hasOwnProperty("x"),z=o.hasOwnProperty("y"),P=wr,A=_r,T=window;if(l){var F=Jc(r),R="clientHeight",d="clientWidth";if(F===rn(r)&&(F=Gs(r),Hi(F).position!=="static"&&a==="absolute"&&(R="scrollHeight",d="scrollWidth")),F=F,i===_r||(i===wr||i===tn)&&s===Go){A=en;var p=f&&F===T&&T.visualViewport?T.visualViewport.height:F[R];w-=p-n.height,w*=c?1:-1}if(i===wr||(i===_r||i===en)&&s===Go){P=tn;var _=f&&F===T&&T.visualViewport?T.visualViewport.width:F[d];h-=_-n.width,h*=c?1:-1}}var b=Object.assign({position:a},l&&WA),m=u===!0?GA({x:h,y:w},rn(r)):{x:h,y:w};if(h=m.x,w=m.y,c){var E;return Object.assign({},b,(E={},E[A]=z?"0":"",E[P]=O?"0":"",E.transform=(T.devicePixelRatio||1)<=1?"translate("+h+"px, "+w+"px)":"translate3d("+h+"px, "+w+"px, 0)",E))}return Object.assign({},b,(e={},e[A]=z?w+"px":"",e[P]=O?h+"px":"",e.transform="",e))}function YA(t){var e=t.state,r=t.options,n=r.gpuAcceleration,i=n===void 0?!0:n,s=r.adaptive,o=s===void 0?!0:s,a=r.roundOffsets,c=a===void 0?!0:a,l={placement:ci(e.placement),variation:Xo(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,H6(Object.assign({},l,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,H6(Object.assign({},l,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const N8={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:YA,data:{}};var Cl={passive:!0};function JA(t){var e=t.state,r=t.instance,n=t.options,i=n.scroll,s=i===void 0?!0:i,o=n.resize,a=o===void 0?!0:o,c=rn(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&l.forEach(function(u){u.addEventListener("scroll",r.update,Cl)}),a&&c.addEventListener("resize",r.update,Cl),function(){s&&l.forEach(function(u){u.removeEventListener("scroll",r.update,Cl)}),a&&c.removeEventListener("resize",r.update,Cl)}}const K8={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:JA,data:{}};var XA={left:"right",right:"left",bottom:"top",top:"bottom"};function cu(t){return t.replace(/left|right|bottom|top/g,function(e){return XA[e]})}var QA={start:"end",end:"start"};function V6(t){return t.replace(/start|end/g,function(e){return QA[e]})}function U8(t){var e=rn(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function $8(t){return Jo(Gs(t)).left+U8(t).scrollLeft}function ZA(t,e){var r=rn(t),n=Gs(t),i=r.visualViewport,s=n.clientWidth,o=n.clientHeight,a=0,c=0;if(i){s=i.width,o=i.height;var l=t3();(l||!l&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:a+$8(t),y:c}}function ev(t){var e,r=Gs(t),n=U8(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=M0(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=M0(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-n.scrollLeft+$8(t),c=-n.scrollTop;return Hi(i||r).direction==="rtl"&&(a+=M0(r.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:c}}function z8(t){var e=Hi(t),r=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function a3(t){return["html","body","#document"].indexOf(gi(t))>=0?t.ownerDocument.body:hn(t)&&z8(t)?t:a3(Gf(t))}function ic(t,e){var r;e===void 0&&(e=[]);var n=a3(t),i=n===((r=t.ownerDocument)==null?void 0:r.body),s=rn(n),o=i?[s].concat(s.visualViewport||[],z8(n)?n:[]):n,a=e.concat(o);return i?a:a.concat(ic(Gf(o)))}function R1(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function tv(t,e){var r=Jo(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function q6(t,e,r){return e===T8?R1(ZA(t,r)):$0(e)?tv(e,r):R1(ev(Gs(t)))}function rv(t){var e=ic(Gf(t)),r=["absolute","fixed"].indexOf(Hi(t).position)>=0,n=r&&hn(t)?Jc(t):t;return $0(n)?e.filter(function(i){return $0(i)&&r3(i,n)&&gi(i)!=="body"}):[]}function nv(t,e,r,n){var i=e==="clippingParents"?rv(t):[].concat(e),s=[].concat(i,[r]),o=s[0],a=s.reduce(function(c,l){var u=q6(t,l,n);return c.top=M0(u.top,c.top),c.right=Lu(u.right,c.right),c.bottom=Lu(u.bottom,c.bottom),c.left=M0(u.left,c.left),c},q6(t,o,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function c3(t){var e=t.reference,r=t.element,n=t.placement,i=n?ci(n):null,s=n?Xo(n):null,o=e.x+e.width/2-r.width/2,a=e.y+e.height/2-r.height/2,c;switch(i){case _r:c={x:o,y:e.y-r.height};break;case en:c={x:o,y:e.y+e.height};break;case tn:c={x:e.x+e.width,y:a};break;case wr:c={x:e.x-r.width,y:a};break;default:c={x:e.x,y:e.y}}var l=i?L8(i):null;if(l!=null){var u=l==="y"?"height":"width";switch(s){case U0:c[l]=c[l]-(e[u]/2-r[u]/2);break;case Go:c[l]=c[l]+(e[u]/2-r[u]/2);break}}return c}function Qo(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=n===void 0?t.placement:n,s=r.strategy,o=s===void 0?t.strategy:s,a=r.boundary,c=a===void 0?j4:a,l=r.rootBoundary,u=l===void 0?T8:l,f=r.elementContext,x=f===void 0?Eo:f,h=r.altBoundary,C=h===void 0?!1:h,w=r.padding,k=w===void 0?0:w,O=i3(typeof k!="number"?k:s3(k,ha)),z=x===Eo?H4:Eo,P=t.rects.popper,A=t.elements[C?z:x],T=nv($0(A)?A:A.contextElement||Gs(t.elements.popper),c,u,o),F=Jo(t.elements.reference),R=c3({reference:F,element:P,strategy:"absolute",placement:i}),d=R1(Object.assign({},P,R)),p=x===Eo?d:F,_={top:T.top-p.top+O.top,bottom:p.bottom-T.bottom+O.bottom,left:T.left-p.left+O.left,right:p.right-T.right+O.right},b=t.modifiersData.offset;if(x===Eo&&b){var m=b[i];Object.keys(_).forEach(function(E){var S=[tn,en].indexOf(E)>=0?1:-1,Q=[_r,en].indexOf(E)>=0?"y":"x";_[E]+=m[Q]*S})}return _}function iv(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=r.boundary,s=r.rootBoundary,o=r.padding,a=r.flipVariations,c=r.allowedAutoPlacements,l=c===void 0?M8:c,u=Xo(n),f=u?a?M1:M1.filter(function(C){return Xo(C)===u}):ha,x=f.filter(function(C){return l.indexOf(C)>=0});x.length===0&&(x=f);var h=x.reduce(function(C,w){return C[w]=Qo(t,{placement:w,boundary:i,rootBoundary:s,padding:o})[ci(w)],C},{});return Object.keys(h).sort(function(C,w){return h[C]-h[w]})}function sv(t){if(ci(t)===Wf)return[];var e=cu(t);return[V6(t),e,V6(e)]}function ov(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var i=r.mainAxis,s=i===void 0?!0:i,o=r.altAxis,a=o===void 0?!0:o,c=r.fallbackPlacements,l=r.padding,u=r.boundary,f=r.rootBoundary,x=r.altBoundary,h=r.flipVariations,C=h===void 0?!0:h,w=r.allowedAutoPlacements,k=e.options.placement,O=ci(k),z=O===k,P=c||(z||!C?[cu(k)]:sv(k)),A=[k].concat(P).reduce(function(me,W){return me.concat(ci(W)===Wf?iv(e,{placement:W,boundary:u,rootBoundary:f,padding:l,flipVariations:C,allowedAutoPlacements:w}):W)},[]),T=e.rects.reference,F=e.rects.popper,R=new Map,d=!0,p=A[0],_=0;_<A.length;_++){var b=A[_],m=ci(b),E=Xo(b)===U0,S=[_r,en].indexOf(m)>=0,Q=S?"width":"height",Z=Qo(e,{placement:b,boundary:u,rootBoundary:f,altBoundary:x,padding:l}),M=S?E?tn:wr:E?en:_r;T[Q]>F[Q]&&(M=cu(M));var te=cu(M),ie=[];if(s&&ie.push(Z[m]<=0),a&&ie.push(Z[M]<=0,Z[te]<=0),ie.every(function(me){return me})){p=b,d=!1;break}R.set(b,ie)}if(d)for(var ue=C?3:1,ne=function(W){var re=A.find(function(K){var v=R.get(K);if(v)return v.slice(0,W).every(function(J){return J})});if(re)return p=re,"break"},le=ue;le>0;le--){var Ae=ne(le);if(Ae==="break")break}e.placement!==p&&(e.modifiersData[n]._skip=!0,e.placement=p,e.reset=!0)}}const l3={name:"flip",enabled:!0,phase:"main",fn:ov,requiresIfExists:["offset"],data:{_skip:!1}};function W6(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function G6(t){return[_r,tn,en,wr].some(function(e){return t[e]>=0})}function av(t){var e=t.state,r=t.name,n=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=Qo(e,{elementContext:"reference"}),a=Qo(e,{altBoundary:!0}),c=W6(o,n),l=W6(a,i,s),u=G6(c),f=G6(l);e.modifiersData[r]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}const u3={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:av};function cv(t,e,r){var n=ci(t),i=[wr,_r].indexOf(n)>=0?-1:1,s=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[wr,tn].indexOf(n)>=0?{x:a,y:o}:{x:o,y:a}}function lv(t){var e=t.state,r=t.options,n=t.name,i=r.offset,s=i===void 0?[0,0]:i,o=M8.reduce(function(u,f){return u[f]=cv(f,e.rects,s),u},{}),a=o[e.placement],c=a.x,l=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=l),e.modifiersData[n]=o}const f3={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:lv};function uv(t){var e=t.state,r=t.name;e.modifiersData[r]=c3({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const j8={name:"popperOffsets",enabled:!0,phase:"read",fn:uv,data:{}};function fv(t){return t==="x"?"y":"x"}function dv(t){var e=t.state,r=t.options,n=t.name,i=r.mainAxis,s=i===void 0?!0:i,o=r.altAxis,a=o===void 0?!1:o,c=r.boundary,l=r.rootBoundary,u=r.altBoundary,f=r.padding,x=r.tether,h=x===void 0?!0:x,C=r.tetherOffset,w=C===void 0?0:C,k=Qo(e,{boundary:c,rootBoundary:l,padding:f,altBoundary:u}),O=ci(e.placement),z=Xo(e.placement),P=!z,A=L8(O),T=fv(A),F=e.modifiersData.popperOffsets,R=e.rects.reference,d=e.rects.popper,p=typeof w=="function"?w(Object.assign({},e.rects,{placement:e.placement})):w,_=typeof p=="number"?{mainAxis:p,altAxis:p}:Object.assign({mainAxis:0,altAxis:0},p),b=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,m={x:0,y:0};if(F){if(s){var E,S=A==="y"?_r:wr,Q=A==="y"?en:tn,Z=A==="y"?"height":"width",M=F[A],te=M+k[S],ie=M-k[Q],ue=h?-d[Z]/2:0,ne=z===U0?R[Z]:d[Z],le=z===U0?-d[Z]:-R[Z],Ae=e.elements.arrow,me=h&&Ae?O8(Ae):{width:0,height:0},W=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:n3(),re=W[S],K=W[Q],v=nc(0,R[Z],me[Z]),J=P?R[Z]/2-ue-v-re-_.mainAxis:ne-v-re-_.mainAxis,xe=P?-R[Z]/2+ue+v+K+_.mainAxis:le+v+K+_.mainAxis,fe=e.elements.arrow&&Jc(e.elements.arrow),he=fe?A==="y"?fe.clientTop||0:fe.clientLeft||0:0,y=(E=b==null?void 0:b[A])!=null?E:0,g=M+J-y-he,B=M+xe-y,I=nc(h?Lu(te,g):te,M,h?M0(ie,B):ie);F[A]=I,m[A]=I-M}if(a){var j,$=A==="x"?_r:wr,q=A==="x"?en:tn,ae=F[T],oe=T==="y"?"height":"width",ce=ae+k[$],H=ae-k[q],V=[_r,wr].indexOf(O)!==-1,Y=(j=b==null?void 0:b[T])!=null?j:0,G=V?ce:ae-R[oe]-d[oe]-Y+_.altAxis,X=V?ae+R[oe]+d[oe]-Y-_.altAxis:H,ee=h&&V?jA(G,ae,X):nc(h?G:ce,ae,h?X:H);F[T]=ee,m[T]=ee-ae}e.modifiersData[n]=m}}const d3={name:"preventOverflow",enabled:!0,phase:"main",fn:dv,requiresIfExists:["offset"]};function xv(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function hv(t){return t===rn(t)||!hn(t)?U8(t):xv(t)}function pv(t){var e=t.getBoundingClientRect(),r=Yo(e.width)/t.offsetWidth||1,n=Yo(e.height)/t.offsetHeight||1;return r!==1||n!==1}function mv(t,e,r){r===void 0&&(r=!1);var n=hn(e),i=hn(e)&&pv(e),s=Gs(e),o=Jo(t,i,r),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(n||!n&&!r)&&((gi(e)!=="body"||z8(s))&&(a=hv(e)),hn(e)?(c=Jo(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):s&&(c.x=$8(s))),{x:o.left+a.scrollLeft-c.x,y:o.top+a.scrollTop-c.y,width:o.width,height:o.height}}function gv(t){var e=new Map,r=new Set,n=[];t.forEach(function(s){e.set(s.name,s)});function i(s){r.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!r.has(a)){var c=e.get(a);c&&i(c)}}),n.push(s)}return t.forEach(function(s){r.has(s.name)||i(s)}),n}function yv(t){var e=gv(t);return e3.reduce(function(r,n){return r.concat(e.filter(function(i){return i.phase===n}))},[])}function Ev(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function bv(t){var e=t.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var Y6={placement:"bottom",modifiers:[],strategy:"absolute"};function J6(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function Yf(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,i=e.defaultOptions,s=i===void 0?Y6:i;return function(a,c,l){l===void 0&&(l=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Y6,s),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},f=[],x=!1,h={state:u,setOptions:function(O){var z=typeof O=="function"?O(u.options):O;w(),u.options=Object.assign({},s,u.options,z),u.scrollParents={reference:$0(a)?ic(a):a.contextElement?ic(a.contextElement):[],popper:ic(c)};var P=yv(bv([].concat(n,u.options.modifiers)));return u.orderedModifiers=P.filter(function(A){return A.enabled}),C(),h.update()},forceUpdate:function(){if(!x){var O=u.elements,z=O.reference,P=O.popper;if(J6(z,P)){u.rects={reference:mv(z,Jc(P),u.options.strategy==="fixed"),popper:O8(P)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(_){return u.modifiersData[_.name]=Object.assign({},_.data)});for(var A=0;A<u.orderedModifiers.length;A++){if(u.reset===!0){u.reset=!1,A=-1;continue}var T=u.orderedModifiers[A],F=T.fn,R=T.options,d=R===void 0?{}:R,p=T.name;typeof F=="function"&&(u=F({state:u,options:d,name:p,instance:h})||u)}}}},update:Ev(function(){return new Promise(function(k){h.forceUpdate(),k(u)})}),destroy:function(){w(),x=!0}};if(!J6(a,c))return h;h.setOptions(l).then(function(k){!x&&l.onFirstUpdate&&l.onFirstUpdate(k)});function C(){u.orderedModifiers.forEach(function(k){var O=k.name,z=k.options,P=z===void 0?{}:z,A=k.effect;if(typeof A=="function"){var T=A({state:u,name:O,instance:h,options:P}),F=function(){};f.push(T||F)}})}function w(){f.forEach(function(k){return k()}),f=[]}return h}}var Cv=Yf(),Av=[K8,j8,N8,R8],vv=Yf({defaultModifiers:Av}),_v=[K8,j8,N8,R8,f3,l3,d3,o3,u3],H8=Yf({defaultModifiers:_v});const x3=Object.freeze(Object.defineProperty({__proto__:null,afterMain:J4,afterRead:W4,afterWrite:Z4,applyStyles:R8,arrow:o3,auto:Wf,basePlacements:ha,beforeMain:G4,beforeRead:V4,beforeWrite:X4,bottom:en,clippingParents:j4,computeStyles:N8,createPopper:H8,createPopperBase:Cv,createPopperLite:vv,detectOverflow:Qo,end:Go,eventListeners:K8,flip:l3,hide:u3,left:wr,main:Y4,modifierPhases:e3,offset:f3,placements:M8,popper:Eo,popperGenerator:Yf,popperOffsets:j8,preventOverflow:d3,read:q4,reference:H4,right:tn,start:U0,top:_r,variationPlacements:M1,viewport:T8,write:Q4},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const as=new Map,qd={set(t,e,r){as.has(t)||as.set(t,new Map);const n=as.get(t);if(!n.has(e)&&n.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(n.keys())[0]}.`);return}n.set(e,r)},get(t,e){return as.has(t)&&as.get(t).get(e)||null},remove(t,e){if(!as.has(t))return;const r=as.get(t);r.delete(e),r.size===0&&as.delete(t)}},wv=1e6,Bv=1e3,O1="transitionend",h3=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(e,r)=>`#${CSS.escape(r)}`)),t),Dv=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),kv=t=>{do t+=Math.floor(Math.random()*wv);while(document.getElementById(t));return t},Fv=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:r}=window.getComputedStyle(t);const n=Number.parseFloat(e),i=Number.parseFloat(r);return!n&&!i?0:(e=e.split(",")[0],r=r.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(r))*Bv)},p3=t=>{t.dispatchEvent(new Event(O1))},Ui=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),Us=t=>Ui(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(h3(t)):null,pa=t=>{if(!Ui(t)||t.getClientRects().length===0)return!1;const e=getComputedStyle(t).getPropertyValue("visibility")==="visible",r=t.closest("details:not([open])");if(!r)return e;if(r!==t){const n=t.closest("summary");if(n&&n.parentNode!==r||n===null)return!1}return e},$s=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",m3=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?m3(t.parentNode):null},Nu=()=>{},Xc=t=>{t.offsetHeight},g3=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Wd=[],Sv=t=>{document.readyState==="loading"?(Wd.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of Wd)e()}),Wd.push(t)):t()},pn=()=>document.documentElement.dir==="rtl",gn=t=>{Sv(()=>{const e=g3();if(e){const r=t.NAME,n=e.fn[r];e.fn[r]=t.jQueryInterface,e.fn[r].Constructor=t,e.fn[r].noConflict=()=>(e.fn[r]=n,t.jQueryInterface)}})},Or=(t,e=[],r=t)=>typeof t=="function"?t(...e):r,y3=(t,e,r=!0)=>{if(!r){Or(t);return}const i=Fv(e)+5;let s=!1;const o=({target:a})=>{a===e&&(s=!0,e.removeEventListener(O1,o),Or(t))};e.addEventListener(O1,o),setTimeout(()=>{s||p3(e)},i)},V8=(t,e,r,n)=>{const i=t.length;let s=t.indexOf(e);return s===-1?!r&&n?t[i-1]:t[0]:(s+=r?1:-1,n&&(s=(s+i)%i),t[Math.max(0,Math.min(s,i-1))])},Pv=/[^.]*(?=\..*)\.|.*/,Tv=/\..*/,Mv=/::\d+$/,Gd={};let X6=1;const E3={mouseenter:"mouseover",mouseleave:"mouseout"},Iv=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function b3(t,e){return e&&`${e}::${X6++}`||t.uidEvent||X6++}function C3(t){const e=b3(t);return t.uidEvent=e,Gd[e]=Gd[e]||{},Gd[e]}function Rv(t,e){return function r(n){return q8(n,{delegateTarget:t}),r.oneOff&&we.off(t,n.type,e),e.apply(t,[n])}}function Ov(t,e,r){return function n(i){const s=t.querySelectorAll(e);for(let{target:o}=i;o&&o!==this;o=o.parentNode)for(const a of s)if(a===o)return q8(i,{delegateTarget:o}),n.oneOff&&we.off(t,i.type,e,r),r.apply(o,[i])}}function A3(t,e,r=null){return Object.values(t).find(n=>n.callable===e&&n.delegationSelector===r)}function v3(t,e,r){const n=typeof e=="string",i=n?r:e||r;let s=_3(t);return Iv.has(s)||(s=t),[n,i,s]}function Q6(t,e,r,n,i){if(typeof e!="string"||!t)return;let[s,o,a]=v3(e,r,n);e in E3&&(o=(C=>function(w){if(!w.relatedTarget||w.relatedTarget!==w.delegateTarget&&!w.delegateTarget.contains(w.relatedTarget))return C.call(this,w)})(o));const c=C3(t),l=c[a]||(c[a]={}),u=A3(l,o,s?r:null);if(u){u.oneOff=u.oneOff&&i;return}const f=b3(o,e.replace(Pv,"")),x=s?Ov(t,r,o):Rv(t,o);x.delegationSelector=s?r:null,x.callable=o,x.oneOff=i,x.uidEvent=f,l[f]=x,t.addEventListener(a,x,s)}function L1(t,e,r,n,i){const s=A3(e[r],n,i);s&&(t.removeEventListener(r,s,!!i),delete e[r][s.uidEvent])}function Lv(t,e,r,n){const i=e[r]||{};for(const[s,o]of Object.entries(i))s.includes(n)&&L1(t,e,r,o.callable,o.delegationSelector)}function _3(t){return t=t.replace(Tv,""),E3[t]||t}const we={on(t,e,r,n){Q6(t,e,r,n,!1)},one(t,e,r,n){Q6(t,e,r,n,!0)},off(t,e,r,n){if(typeof e!="string"||!t)return;const[i,s,o]=v3(e,r,n),a=o!==e,c=C3(t),l=c[o]||{},u=e.startsWith(".");if(typeof s<"u"){if(!Object.keys(l).length)return;L1(t,c,o,s,i?r:null);return}if(u)for(const f of Object.keys(c))Lv(t,c,f,e.slice(1));for(const[f,x]of Object.entries(l)){const h=f.replace(Mv,"");(!a||e.includes(h))&&L1(t,c,o,x.callable,x.delegationSelector)}},trigger(t,e,r){if(typeof e!="string"||!t)return null;const n=g3(),i=_3(e),s=e!==i;let o=null,a=!0,c=!0,l=!1;s&&n&&(o=n.Event(e,r),n(t).trigger(o),a=!o.isPropagationStopped(),c=!o.isImmediatePropagationStopped(),l=o.isDefaultPrevented());const u=q8(new Event(e,{bubbles:a,cancelable:!0}),r);return l&&u.preventDefault(),c&&t.dispatchEvent(u),u.defaultPrevented&&o&&o.preventDefault(),u}};function q8(t,e={}){for(const[r,n]of Object.entries(e))try{t[r]=n}catch{Object.defineProperty(t,r,{configurable:!0,get(){return n}})}return t}function Z6(t){if(t==="true")return!0;if(t==="false")return!1;if(t===Number(t).toString())return Number(t);if(t===""||t==="null")return null;if(typeof t!="string")return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function Yd(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const $i={setDataAttribute(t,e,r){t.setAttribute(`data-bs-${Yd(e)}`,r)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${Yd(e)}`)},getDataAttributes(t){if(!t)return{};const e={},r=Object.keys(t.dataset).filter(n=>n.startsWith("bs")&&!n.startsWith("bsConfig"));for(const n of r){let i=n.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),e[i]=Z6(t.dataset[n])}return e},getDataAttribute(t,e){return Z6(t.getAttribute(`data-bs-${Yd(e)}`))}};let Qc=class{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,r){const n=Ui(r)?$i.getDataAttribute(r,"config"):{};return{...this.constructor.Default,...typeof n=="object"?n:{},...Ui(r)?$i.getDataAttributes(r):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,r=this.constructor.DefaultType){for(const[n,i]of Object.entries(r)){const s=e[n],o=Ui(s)?"element":Dv(s);if(!new RegExp(i).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${n}" provided type "${o}" but expected type "${i}".`)}}};const Nv="5.3.2";class Fn extends Qc{constructor(e,r){super(),e=Us(e),e&&(this._element=e,this._config=this._getConfig(r),qd.set(this._element,this.constructor.DATA_KEY,this))}dispose(){qd.remove(this._element,this.constructor.DATA_KEY),we.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,r,n=!0){y3(e,r,n)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return qd.get(Us(e),this.DATA_KEY)}static getOrCreateInstance(e,r={}){return this.getInstance(e)||new this(e,typeof r=="object"?r:null)}static get VERSION(){return Nv}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const Jd=t=>{let e=t.getAttribute("data-bs-target");if(!e||e==="#"){let r=t.getAttribute("href");if(!r||!r.includes("#")&&!r.startsWith("."))return null;r.includes("#")&&!r.startsWith("#")&&(r=`#${r.split("#")[1]}`),e=r&&r!=="#"?h3(r.trim()):null}return e},$e={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(r=>r.matches(e))},parents(t,e){const r=[];let n=t.parentNode.closest(e);for(;n;)r.push(n),n=n.parentNode.closest(e);return r},prev(t,e){let r=t.previousElementSibling;for(;r;){if(r.matches(e))return[r];r=r.previousElementSibling}return[]},next(t,e){let r=t.nextElementSibling;for(;r;){if(r.matches(e))return[r];r=r.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(r=>`${r}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(r=>!$s(r)&&pa(r))},getSelectorFromElement(t){const e=Jd(t);return e&&$e.findOne(e)?e:null},getElementFromSelector(t){const e=Jd(t);return e?$e.findOne(e):null},getMultipleElementsFromSelector(t){const e=Jd(t);return e?$e.find(e):[]}},Jf=(t,e="hide")=>{const r=`click.dismiss${t.EVENT_KEY}`,n=t.NAME;we.on(document,r,`[data-bs-dismiss="${n}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),$s(this))return;const s=$e.getElementFromSelector(this)||this.closest(`.${n}`);t.getOrCreateInstance(s)[e]()})},Kv="alert",Uv="bs.alert",w3=`.${Uv}`,$v=`close${w3}`,zv=`closed${w3}`,jv="fade",Hv="show";class Xf extends Fn{static get NAME(){return Kv}close(){if(we.trigger(this._element,$v).defaultPrevented)return;this._element.classList.remove(Hv);const r=this._element.classList.contains(jv);this._queueCallback(()=>this._destroyElement(),this._element,r)}_destroyElement(){this._element.remove(),we.trigger(this._element,zv),this.dispose()}static jQueryInterface(e){return this.each(function(){const r=Xf.getOrCreateInstance(this);if(typeof e=="string"){if(r[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);r[e](this)}})}}Jf(Xf,"close");gn(Xf);const Vv="button",qv="bs.button",Wv=`.${qv}`,Gv=".data-api",Yv="active",e5='[data-bs-toggle="button"]',Jv=`click${Wv}${Gv}`;class Qf extends Fn{static get NAME(){return Vv}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Yv))}static jQueryInterface(e){return this.each(function(){const r=Qf.getOrCreateInstance(this);e==="toggle"&&r[e]()})}}we.on(document,Jv,e5,t=>{t.preventDefault();const e=t.target.closest(e5);Qf.getOrCreateInstance(e).toggle()});gn(Qf);const Xv="swipe",ma=".bs.swipe",Qv=`touchstart${ma}`,Zv=`touchmove${ma}`,e_=`touchend${ma}`,t_=`pointerdown${ma}`,r_=`pointerup${ma}`,n_="touch",i_="pen",s_="pointer-event",o_=40,a_={endCallback:null,leftCallback:null,rightCallback:null},c_={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Ku extends Qc{constructor(e,r){super(),this._element=e,!(!e||!Ku.isSupported())&&(this._config=this._getConfig(r),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return a_}static get DefaultType(){return c_}static get NAME(){return Xv}dispose(){we.off(this._element,ma)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),Or(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=o_)return;const r=e/this._deltaX;this._deltaX=0,r&&Or(r>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(we.on(this._element,t_,e=>this._start(e)),we.on(this._element,r_,e=>this._end(e)),this._element.classList.add(s_)):(we.on(this._element,Qv,e=>this._start(e)),we.on(this._element,Zv,e=>this._move(e)),we.on(this._element,e_,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===i_||e.pointerType===n_)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const l_="carousel",u_="bs.carousel",Ys=`.${u_}`,B3=".data-api",f_="ArrowLeft",d_="ArrowRight",x_=500,ka="next",co="prev",bo="left",lu="right",h_=`slide${Ys}`,Xd=`slid${Ys}`,p_=`keydown${Ys}`,m_=`mouseenter${Ys}`,g_=`mouseleave${Ys}`,y_=`dragstart${Ys}`,E_=`load${Ys}${B3}`,b_=`click${Ys}${B3}`,D3="carousel",Al="active",C_="slide",A_="carousel-item-end",v_="carousel-item-start",__="carousel-item-next",w_="carousel-item-prev",k3=".active",F3=".carousel-item",B_=k3+F3,D_=".carousel-item img",k_=".carousel-indicators",F_="[data-bs-slide], [data-bs-slide-to]",S_='[data-bs-ride="carousel"]',P_={[f_]:lu,[d_]:bo},T_={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},M_={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Zc extends Fn{constructor(e,r){super(e,r),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=$e.findOne(k_,this._element),this._addEventListeners(),this._config.ride===D3&&this.cycle()}static get Default(){return T_}static get DefaultType(){return M_}static get NAME(){return l_}next(){this._slide(ka)}nextWhenVisible(){!document.hidden&&pa(this._element)&&this.next()}prev(){this._slide(co)}pause(){this._isSliding&&p3(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){we.one(this._element,Xd,()=>this.cycle());return}this.cycle()}}to(e){const r=this._getItems();if(e>r.length-1||e<0)return;if(this._isSliding){we.one(this._element,Xd,()=>this.to(e));return}const n=this._getItemIndex(this._getActive());if(n===e)return;const i=e>n?ka:co;this._slide(i,r[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&we.on(this._element,p_,e=>this._keydown(e)),this._config.pause==="hover"&&(we.on(this._element,m_,()=>this.pause()),we.on(this._element,g_,()=>this._maybeEnableCycle())),this._config.touch&&Ku.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const n of $e.find(D_,this._element))we.on(n,y_,i=>i.preventDefault());const r={leftCallback:()=>this._slide(this._directionToOrder(bo)),rightCallback:()=>this._slide(this._directionToOrder(lu)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),x_+this._config.interval))}};this._swipeHelper=new Ku(this._element,r)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const r=P_[e.key];r&&(e.preventDefault(),this._slide(this._directionToOrder(r)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const r=$e.findOne(k3,this._indicatorsElement);r.classList.remove(Al),r.removeAttribute("aria-current");const n=$e.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);n&&(n.classList.add(Al),n.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const r=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=r||this._config.defaultInterval}_slide(e,r=null){if(this._isSliding)return;const n=this._getActive(),i=e===ka,s=r||V8(this._getItems(),n,i,this._config.wrap);if(s===n)return;const o=this._getItemIndex(s),a=h=>we.trigger(this._element,h,{relatedTarget:s,direction:this._orderToDirection(e),from:this._getItemIndex(n),to:o});if(a(h_).defaultPrevented||!n||!s)return;const l=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=s;const u=i?v_:A_,f=i?__:w_;s.classList.add(f),Xc(s),n.classList.add(u),s.classList.add(u);const x=()=>{s.classList.remove(u,f),s.classList.add(Al),n.classList.remove(Al,f,u),this._isSliding=!1,a(Xd)};this._queueCallback(x,n,this._isAnimated()),l&&this.cycle()}_isAnimated(){return this._element.classList.contains(C_)}_getActive(){return $e.findOne(B_,this._element)}_getItems(){return $e.find(F3,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return pn()?e===bo?co:ka:e===bo?ka:co}_orderToDirection(e){return pn()?e===co?bo:lu:e===co?lu:bo}static jQueryInterface(e){return this.each(function(){const r=Zc.getOrCreateInstance(this,e);if(typeof e=="number"){r.to(e);return}if(typeof e=="string"){if(r[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);r[e]()}})}}we.on(document,b_,F_,function(t){const e=$e.getElementFromSelector(this);if(!e||!e.classList.contains(D3))return;t.preventDefault();const r=Zc.getOrCreateInstance(e),n=this.getAttribute("data-bs-slide-to");if(n){r.to(n),r._maybeEnableCycle();return}if($i.getDataAttribute(this,"slide")==="next"){r.next(),r._maybeEnableCycle();return}r.prev(),r._maybeEnableCycle()});we.on(window,E_,()=>{const t=$e.find(S_);for(const e of t)Zc.getOrCreateInstance(e)});gn(Zc);const I_="collapse",R_="bs.collapse",el=`.${R_}`,O_=".data-api",L_=`show${el}`,N_=`shown${el}`,K_=`hide${el}`,U_=`hidden${el}`,$_=`click${el}${O_}`,Qd="show",wo="collapse",vl="collapsing",z_="collapsed",j_=`:scope .${wo} .${wo}`,H_="collapse-horizontal",V_="width",q_="height",W_=".collapse.show, .collapse.collapsing",N1='[data-bs-toggle="collapse"]',G_={parent:null,toggle:!0},Y_={parent:"(null|element)",toggle:"boolean"};class wc extends Fn{constructor(e,r){super(e,r),this._isTransitioning=!1,this._triggerArray=[];const n=$e.find(N1);for(const i of n){const s=$e.getSelectorFromElement(i),o=$e.find(s).filter(a=>a===this._element);s!==null&&o.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return G_}static get DefaultType(){return Y_}static get NAME(){return I_}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(W_).filter(a=>a!==this._element).map(a=>wc.getOrCreateInstance(a,{toggle:!1}))),e.length&&e[0]._isTransitioning||we.trigger(this._element,L_).defaultPrevented)return;for(const a of e)a.hide();const n=this._getDimension();this._element.classList.remove(wo),this._element.classList.add(vl),this._element.style[n]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(vl),this._element.classList.add(wo,Qd),this._element.style[n]="",we.trigger(this._element,N_)},o=`scroll${n[0].toUpperCase()+n.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[n]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown()||we.trigger(this._element,K_).defaultPrevented)return;const r=this._getDimension();this._element.style[r]=`${this._element.getBoundingClientRect()[r]}px`,Xc(this._element),this._element.classList.add(vl),this._element.classList.remove(wo,Qd);for(const i of this._triggerArray){const s=$e.getElementFromSelector(i);s&&!this._isShown(s)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;const n=()=>{this._isTransitioning=!1,this._element.classList.remove(vl),this._element.classList.add(wo),we.trigger(this._element,U_)};this._element.style[r]="",this._queueCallback(n,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Qd)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=Us(e.parent),e}_getDimension(){return this._element.classList.contains(H_)?V_:q_}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(N1);for(const r of e){const n=$e.getElementFromSelector(r);n&&this._addAriaAndCollapsedClass([r],this._isShown(n))}}_getFirstLevelChildren(e){const r=$e.find(j_,this._config.parent);return $e.find(e,this._config.parent).filter(n=>!r.includes(n))}_addAriaAndCollapsedClass(e,r){if(e.length)for(const n of e)n.classList.toggle(z_,!r),n.setAttribute("aria-expanded",r)}static jQueryInterface(e){const r={};return typeof e=="string"&&/show|hide/.test(e)&&(r.toggle=!1),this.each(function(){const n=wc.getOrCreateInstance(this,r);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}we.on(document,$_,N1,function(t){(t.target.tagName==="A"||t.delegateTarget&&t.delegateTarget.tagName==="A")&&t.preventDefault();for(const e of $e.getMultipleElementsFromSelector(this))wc.getOrCreateInstance(e,{toggle:!1}).toggle()});gn(wc);const t5="dropdown",J_="bs.dropdown",to=`.${J_}`,W8=".data-api",X_="Escape",r5="Tab",Q_="ArrowUp",n5="ArrowDown",Z_=2,ew=`hide${to}`,tw=`hidden${to}`,rw=`show${to}`,nw=`shown${to}`,S3=`click${to}${W8}`,P3=`keydown${to}${W8}`,iw=`keyup${to}${W8}`,Co="show",sw="dropup",ow="dropend",aw="dropstart",cw="dropup-center",lw="dropdown-center",b0='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',uw=`${b0}.${Co}`,uu=".dropdown-menu",fw=".navbar",dw=".navbar-nav",xw=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",hw=pn()?"top-end":"top-start",pw=pn()?"top-start":"top-end",mw=pn()?"bottom-end":"bottom-start",gw=pn()?"bottom-start":"bottom-end",yw=pn()?"left-start":"right-start",Ew=pn()?"right-start":"left-start",bw="top",Cw="bottom",Aw={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},vw={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class li extends Fn{constructor(e,r){super(e,r),this._popper=null,this._parent=this._element.parentNode,this._menu=$e.next(this._element,uu)[0]||$e.prev(this._element,uu)[0]||$e.findOne(uu,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Aw}static get DefaultType(){return vw}static get NAME(){return t5}toggle(){return this._isShown()?this.hide():this.show()}show(){if($s(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!we.trigger(this._element,rw,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(dw))for(const n of[].concat(...document.body.children))we.on(n,"mouseover",Nu);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Co),this._element.classList.add(Co),we.trigger(this._element,nw,e)}}hide(){if($s(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!we.trigger(this._element,ew,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const n of[].concat(...document.body.children))we.off(n,"mouseover",Nu);this._popper&&this._popper.destroy(),this._menu.classList.remove(Co),this._element.classList.remove(Co),this._element.setAttribute("aria-expanded","false"),$i.removeDataAttribute(this._menu,"popper"),we.trigger(this._element,tw,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!Ui(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${t5.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof x3>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:Ui(this._config.reference)?e=Us(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const r=this._getPopperConfig();this._popper=H8(e,this._menu,r)}_isShown(){return this._menu.classList.contains(Co)}_getPlacement(){const e=this._parent;if(e.classList.contains(ow))return yw;if(e.classList.contains(aw))return Ew;if(e.classList.contains(cw))return bw;if(e.classList.contains(lw))return Cw;const r=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(sw)?r?pw:hw:r?gw:mw}_detectNavbar(){return this._element.closest(fw)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(r=>Number.parseInt(r,10)):typeof e=="function"?r=>e(r,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&($i.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...Or(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:r}){const n=$e.find(xw,this._menu).filter(i=>pa(i));n.length&&V8(n,r,e===n5,!n.includes(r)).focus()}static jQueryInterface(e){return this.each(function(){const r=li.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}static clearMenus(e){if(e.button===Z_||e.type==="keyup"&&e.key!==r5)return;const r=$e.find(uw);for(const n of r){const i=li.getInstance(n);if(!i||i._config.autoClose===!1)continue;const s=e.composedPath(),o=s.includes(i._menu);if(s.includes(i._element)||i._config.autoClose==="inside"&&!o||i._config.autoClose==="outside"&&o||i._menu.contains(e.target)&&(e.type==="keyup"&&e.key===r5||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const a={relatedTarget:i._element};e.type==="click"&&(a.clickEvent=e),i._completeHide(a)}}static dataApiKeydownHandler(e){const r=/input|textarea/i.test(e.target.tagName),n=e.key===X_,i=[Q_,n5].includes(e.key);if(!i&&!n||r&&!n)return;e.preventDefault();const s=this.matches(b0)?this:$e.prev(this,b0)[0]||$e.next(this,b0)[0]||$e.findOne(b0,e.delegateTarget.parentNode),o=li.getOrCreateInstance(s);if(i){e.stopPropagation(),o.show(),o._selectMenuItem(e);return}o._isShown()&&(e.stopPropagation(),o.hide(),s.focus())}}we.on(document,P3,b0,li.dataApiKeydownHandler);we.on(document,P3,uu,li.dataApiKeydownHandler);we.on(document,S3,li.clearMenus);we.on(document,iw,li.clearMenus);we.on(document,S3,b0,function(t){t.preventDefault(),li.getOrCreateInstance(this).toggle()});gn(li);const T3="backdrop",_w="fade",i5="show",s5=`mousedown.bs.${T3}`,ww={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Bw={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class M3 extends Qc{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return ww}static get DefaultType(){return Bw}static get NAME(){return T3}show(e){if(!this._config.isVisible){Or(e);return}this._append();const r=this._getElement();this._config.isAnimated&&Xc(r),r.classList.add(i5),this._emulateAnimation(()=>{Or(e)})}hide(e){if(!this._config.isVisible){Or(e);return}this._getElement().classList.remove(i5),this._emulateAnimation(()=>{this.dispose(),Or(e)})}dispose(){this._isAppended&&(we.off(this._element,s5),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(_w),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=Us(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),we.on(e,s5,()=>{Or(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){y3(e,this._getElement(),this._config.isAnimated)}}const Dw="focustrap",kw="bs.focustrap",Uu=`.${kw}`,Fw=`focusin${Uu}`,Sw=`keydown.tab${Uu}`,Pw="Tab",Tw="forward",o5="backward",Mw={autofocus:!0,trapElement:null},Iw={autofocus:"boolean",trapElement:"element"};class I3 extends Qc{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Mw}static get DefaultType(){return Iw}static get NAME(){return Dw}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),we.off(document,Uu),we.on(document,Fw,e=>this._handleFocusin(e)),we.on(document,Sw,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,we.off(document,Uu))}_handleFocusin(e){const{trapElement:r}=this._config;if(e.target===document||e.target===r||r.contains(e.target))return;const n=$e.focusableChildren(r);n.length===0?r.focus():this._lastTabNavDirection===o5?n[n.length-1].focus():n[0].focus()}_handleKeydown(e){e.key===Pw&&(this._lastTabNavDirection=e.shiftKey?o5:Tw)}}const a5=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",c5=".sticky-top",_l="padding-right",l5="margin-right";class K1{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,_l,r=>r+e),this._setElementAttributes(a5,_l,r=>r+e),this._setElementAttributes(c5,l5,r=>r-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,_l),this._resetElementAttributes(a5,_l),this._resetElementAttributes(c5,l5)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,r,n){const i=this.getWidth(),s=o=>{if(o!==this._element&&window.innerWidth>o.clientWidth+i)return;this._saveInitialAttribute(o,r);const a=window.getComputedStyle(o).getPropertyValue(r);o.style.setProperty(r,`${n(Number.parseFloat(a))}px`)};this._applyManipulationCallback(e,s)}_saveInitialAttribute(e,r){const n=e.style.getPropertyValue(r);n&&$i.setDataAttribute(e,r,n)}_resetElementAttributes(e,r){const n=i=>{const s=$i.getDataAttribute(i,r);if(s===null){i.style.removeProperty(r);return}$i.removeDataAttribute(i,r),i.style.setProperty(r,s)};this._applyManipulationCallback(e,n)}_applyManipulationCallback(e,r){if(Ui(e)){r(e);return}for(const n of $e.find(e,this._element))r(n)}}const Rw="modal",Ow="bs.modal",mn=`.${Ow}`,Lw=".data-api",Nw="Escape",Kw=`hide${mn}`,Uw=`hidePrevented${mn}`,R3=`hidden${mn}`,O3=`show${mn}`,$w=`shown${mn}`,zw=`resize${mn}`,jw=`click.dismiss${mn}`,Hw=`mousedown.dismiss${mn}`,Vw=`keydown.dismiss${mn}`,qw=`click${mn}${Lw}`,u5="modal-open",Ww="fade",f5="show",Zd="modal-static",Gw=".modal.show",Yw=".modal-dialog",Jw=".modal-body",Xw='[data-bs-toggle="modal"]',Qw={backdrop:!0,focus:!0,keyboard:!0},Zw={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Zo extends Fn{constructor(e,r){super(e,r),this._dialog=$e.findOne(Yw,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new K1,this._addEventListeners()}static get Default(){return Qw}static get DefaultType(){return Zw}static get NAME(){return Rw}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||we.trigger(this._element,O3,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(u5),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||we.trigger(this._element,Kw).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(f5),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){we.off(window,mn),we.off(this._dialog,mn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new M3({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new I3({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const r=$e.findOne(Jw,this._dialog);r&&(r.scrollTop=0),Xc(this._element),this._element.classList.add(f5);const n=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,we.trigger(this._element,$w,{relatedTarget:e})};this._queueCallback(n,this._dialog,this._isAnimated())}_addEventListeners(){we.on(this._element,Vw,e=>{if(e.key===Nw){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),we.on(window,zw,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),we.on(this._element,Hw,e=>{we.one(this._element,jw,r=>{if(!(this._element!==e.target||this._element!==r.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(u5),this._resetAdjustments(),this._scrollBar.reset(),we.trigger(this._element,R3)})}_isAnimated(){return this._element.classList.contains(Ww)}_triggerBackdropTransition(){if(we.trigger(this._element,Uw).defaultPrevented)return;const r=this._element.scrollHeight>document.documentElement.clientHeight,n=this._element.style.overflowY;n==="hidden"||this._element.classList.contains(Zd)||(r||(this._element.style.overflowY="hidden"),this._element.classList.add(Zd),this._queueCallback(()=>{this._element.classList.remove(Zd),this._queueCallback(()=>{this._element.style.overflowY=n},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,r=this._scrollBar.getWidth(),n=r>0;if(n&&!e){const i=pn()?"paddingLeft":"paddingRight";this._element.style[i]=`${r}px`}if(!n&&e){const i=pn()?"paddingRight":"paddingLeft";this._element.style[i]=`${r}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,r){return this.each(function(){const n=Zo.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e](r)}})}}we.on(document,qw,Xw,function(t){const e=$e.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),we.one(e,O3,i=>{i.defaultPrevented||we.one(e,R3,()=>{pa(this)&&this.focus()})});const r=$e.findOne(Gw);r&&Zo.getInstance(r).hide(),Zo.getOrCreateInstance(e).toggle(this)});Jf(Zo);gn(Zo);const eB="offcanvas",tB="bs.offcanvas",Zi=`.${tB}`,L3=".data-api",rB=`load${Zi}${L3}`,nB="Escape",d5="show",x5="showing",h5="hiding",iB="offcanvas-backdrop",N3=".offcanvas.show",sB=`show${Zi}`,oB=`shown${Zi}`,aB=`hide${Zi}`,p5=`hidePrevented${Zi}`,K3=`hidden${Zi}`,cB=`resize${Zi}`,lB=`click${Zi}${L3}`,uB=`keydown.dismiss${Zi}`,fB='[data-bs-toggle="offcanvas"]',dB={backdrop:!0,keyboard:!0,scroll:!1},xB={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class zs extends Fn{constructor(e,r){super(e,r),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return dB}static get DefaultType(){return xB}static get NAME(){return eB}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||we.trigger(this._element,sB,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new K1().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(x5);const n=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(d5),this._element.classList.remove(x5),we.trigger(this._element,oB,{relatedTarget:e})};this._queueCallback(n,this._element,!0)}hide(){if(!this._isShown||we.trigger(this._element,aB).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(h5),this._backdrop.hide();const r=()=>{this._element.classList.remove(d5,h5),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new K1().reset(),we.trigger(this._element,K3)};this._queueCallback(r,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){we.trigger(this._element,p5);return}this.hide()},r=!!this._config.backdrop;return new M3({className:iB,isVisible:r,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:r?e:null})}_initializeFocusTrap(){return new I3({trapElement:this._element})}_addEventListeners(){we.on(this._element,uB,e=>{if(e.key===nB){if(this._config.keyboard){this.hide();return}we.trigger(this._element,p5)}})}static jQueryInterface(e){return this.each(function(){const r=zs.getOrCreateInstance(this,e);if(typeof e=="string"){if(r[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);r[e](this)}})}}we.on(document,lB,fB,function(t){const e=$e.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),$s(this))return;we.one(e,K3,()=>{pa(this)&&this.focus()});const r=$e.findOne(N3);r&&r!==e&&zs.getInstance(r).hide(),zs.getOrCreateInstance(e).toggle(this)});we.on(window,rB,()=>{for(const t of $e.find(N3))zs.getOrCreateInstance(t).show()});we.on(window,cB,()=>{for(const t of $e.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(t).position!=="fixed"&&zs.getOrCreateInstance(t).hide()});Jf(zs);gn(zs);const hB=/^aria-[\w-]*$/i,U3={"*":["class","dir","id","lang","role",hB],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},pB=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),mB=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,gB=(t,e)=>{const r=t.nodeName.toLowerCase();return e.includes(r)?pB.has(r)?!!mB.test(t.nodeValue):!0:e.filter(n=>n instanceof RegExp).some(n=>n.test(r))};function yB(t,e,r){if(!t.length)return t;if(r&&typeof r=="function")return r(t);const i=new window.DOMParser().parseFromString(t,"text/html"),s=[].concat(...i.body.querySelectorAll("*"));for(const o of s){const a=o.nodeName.toLowerCase();if(!Object.keys(e).includes(a)){o.remove();continue}const c=[].concat(...o.attributes),l=[].concat(e["*"]||[],e[a]||[]);for(const u of c)gB(u,l)||o.removeAttribute(u.nodeName)}return i.body.innerHTML}const EB="TemplateFactory",bB={allowList:U3,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},CB={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},AB={entry:"(string|element|function|null)",selector:"(string|element)"};class vB extends Qc{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return bB}static get DefaultType(){return CB}static get NAME(){return EB}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[i,s]of Object.entries(this._config.content))this._setContent(e,s,i);const r=e.children[0],n=this._resolvePossibleFunction(this._config.extraClass);return n&&r.classList.add(...n.split(" ")),r}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[r,n]of Object.entries(e))super._typeCheckConfig({selector:r,entry:n},AB)}_setContent(e,r,n){const i=$e.findOne(n,e);if(i){if(r=this._resolvePossibleFunction(r),!r){i.remove();return}if(Ui(r)){this._putElementInTemplate(Us(r),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(r);return}i.textContent=r}}_maybeSanitize(e){return this._config.sanitize?yB(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return Or(e,[this])}_putElementInTemplate(e,r){if(this._config.html){r.innerHTML="",r.append(e);return}r.textContent=e.textContent}}const _B="tooltip",wB=new Set(["sanitize","allowList","sanitizeFn"]),ex="fade",BB="modal",wl="show",DB=".tooltip-inner",m5=`.${BB}`,g5="hide.bs.modal",Fa="hover",tx="focus",kB="click",FB="manual",SB="hide",PB="hidden",TB="show",MB="shown",IB="inserted",RB="click",OB="focusin",LB="focusout",NB="mouseenter",KB="mouseleave",UB={AUTO:"auto",TOP:"top",RIGHT:pn()?"left":"right",BOTTOM:"bottom",LEFT:pn()?"right":"left"},$B={allowList:U3,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},zB={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class ga extends Fn{constructor(e,r){if(typeof x3>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,r),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return $B}static get DefaultType(){return zB}static get NAME(){return _B}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),we.off(this._element.closest(m5),g5,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=we.trigger(this._element,this.constructor.eventName(TB)),n=(m3(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!n)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:s}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(s.append(i),we.trigger(this._element,this.constructor.eventName(IB))),this._popper=this._createPopper(i),i.classList.add(wl),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))we.on(a,"mouseover",Nu);const o=()=>{we.trigger(this._element,this.constructor.eventName(MB)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(o,this.tip,this._isAnimated())}hide(){if(!this._isShown()||we.trigger(this._element,this.constructor.eventName(SB)).defaultPrevented)return;if(this._getTipElement().classList.remove(wl),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))we.off(i,"mouseover",Nu);this._activeTrigger[kB]=!1,this._activeTrigger[tx]=!1,this._activeTrigger[Fa]=!1,this._isHovered=null;const n=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),we.trigger(this._element,this.constructor.eventName(PB)))};this._queueCallback(n,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const r=this._getTemplateFactory(e).toHtml();if(!r)return null;r.classList.remove(ex,wl),r.classList.add(`bs-${this.constructor.NAME}-auto`);const n=kv(this.constructor.NAME).toString();return r.setAttribute("id",n),this._isAnimated()&&r.classList.add(ex),r}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new vB({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[DB]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(ex)}_isShown(){return this.tip&&this.tip.classList.contains(wl)}_createPopper(e){const r=Or(this._config.placement,[this,e,this._element]),n=UB[r.toUpperCase()];return H8(this._element,e,this._getPopperConfig(n))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(r=>Number.parseInt(r,10)):typeof e=="function"?r=>e(r,this._element):e}_resolvePossibleFunction(e){return Or(e,[this._element])}_getPopperConfig(e){const r={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:n=>{this._getTipElement().setAttribute("data-popper-placement",n.state.placement)}}]};return{...r,...Or(this._config.popperConfig,[r])}}_setListeners(){const e=this._config.trigger.split(" ");for(const r of e)if(r==="click")we.on(this._element,this.constructor.eventName(RB),this._config.selector,n=>{this._initializeOnDelegatedTarget(n).toggle()});else if(r!==FB){const n=r===Fa?this.constructor.eventName(NB):this.constructor.eventName(OB),i=r===Fa?this.constructor.eventName(KB):this.constructor.eventName(LB);we.on(this._element,n,this._config.selector,s=>{const o=this._initializeOnDelegatedTarget(s);o._activeTrigger[s.type==="focusin"?tx:Fa]=!0,o._enter()}),we.on(this._element,i,this._config.selector,s=>{const o=this._initializeOnDelegatedTarget(s);o._activeTrigger[s.type==="focusout"?tx:Fa]=o._element.contains(s.relatedTarget),o._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},we.on(this._element.closest(m5),g5,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,r){clearTimeout(this._timeout),this._timeout=setTimeout(e,r)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const r=$i.getDataAttributes(this._element);for(const n of Object.keys(r))wB.has(n)&&delete r[n];return e={...r,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:Us(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[r,n]of Object.entries(this._config))this.constructor.Default[r]!==n&&(e[r]=n);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const r=ga.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}}gn(ga);const jB="popover",HB=".popover-header",VB=".popover-body",qB={...ga.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},WB={...ga.DefaultType,content:"(null|string|element|function)"};class G8 extends ga{static get Default(){return qB}static get DefaultType(){return WB}static get NAME(){return jB}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[HB]:this._getTitle(),[VB]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const r=G8.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}}gn(G8);const GB="scrollspy",YB="bs.scrollspy",Y8=`.${YB}`,JB=".data-api",XB=`activate${Y8}`,y5=`click${Y8}`,QB=`load${Y8}${JB}`,ZB="dropdown-item",lo="active",eD='[data-bs-spy="scroll"]',rx="[href]",tD=".nav, .list-group",E5=".nav-link",rD=".nav-item",nD=".list-group-item",iD=`${E5}, ${rD} > ${E5}, ${nD}`,sD=".dropdown",oD=".dropdown-toggle",aD={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},cD={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Zf extends Fn{constructor(e,r){super(e,r),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return aD}static get DefaultType(){return cD}static get NAME(){return GB}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=Us(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(r=>Number.parseFloat(r))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(we.off(this._config.target,y5),we.on(this._config.target,y5,rx,e=>{const r=this._observableSections.get(e.target.hash);if(r){e.preventDefault();const n=this._rootElement||window,i=r.offsetTop-this._element.offsetTop;if(n.scrollTo){n.scrollTo({top:i,behavior:"smooth"});return}n.scrollTop=i}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(r=>this._observerCallback(r),e)}_observerCallback(e){const r=o=>this._targetLinks.get(`#${o.target.id}`),n=o=>{this._previousScrollData.visibleEntryTop=o.target.offsetTop,this._process(r(o))},i=(this._rootElement||document.documentElement).scrollTop,s=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const o of e){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(r(o));continue}const a=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(s&&a){if(n(o),!i)return;continue}!s&&!a&&n(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=$e.find(rx,this._config.target);for(const r of e){if(!r.hash||$s(r))continue;const n=$e.findOne(decodeURI(r.hash),this._element);pa(n)&&(this._targetLinks.set(decodeURI(r.hash),r),this._observableSections.set(r.hash,n))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(lo),this._activateParents(e),we.trigger(this._element,XB,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(ZB)){$e.findOne(oD,e.closest(sD)).classList.add(lo);return}for(const r of $e.parents(e,tD))for(const n of $e.prev(r,iD))n.classList.add(lo)}_clearActiveClass(e){e.classList.remove(lo);const r=$e.find(`${rx}.${lo}`,e);for(const n of r)n.classList.remove(lo)}static jQueryInterface(e){return this.each(function(){const r=Zf.getOrCreateInstance(this,e);if(typeof e=="string"){if(r[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);r[e]()}})}}we.on(window,QB,()=>{for(const t of $e.find(eD))Zf.getOrCreateInstance(t)});gn(Zf);const lD="tab",uD="bs.tab",ro=`.${uD}`,fD=`hide${ro}`,dD=`hidden${ro}`,xD=`show${ro}`,hD=`shown${ro}`,pD=`click${ro}`,mD=`keydown${ro}`,gD=`load${ro}`,yD="ArrowLeft",b5="ArrowRight",ED="ArrowUp",C5="ArrowDown",nx="Home",A5="End",C0="active",v5="fade",ix="show",bD="dropdown",$3=".dropdown-toggle",CD=".dropdown-menu",sx=`:not(${$3})`,AD='.list-group, .nav, [role="tablist"]',vD=".nav-item, .list-group-item",_D=`.nav-link${sx}, .list-group-item${sx}, [role="tab"]${sx}`,z3='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',ox=`${_D}, ${z3}`,wD=`.${C0}[data-bs-toggle="tab"], .${C0}[data-bs-toggle="pill"], .${C0}[data-bs-toggle="list"]`;class ea extends Fn{constructor(e){super(e),this._parent=this._element.closest(AD),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),we.on(this._element,mD,r=>this._keydown(r)))}static get NAME(){return lD}show(){const e=this._element;if(this._elemIsActive(e))return;const r=this._getActiveElem(),n=r?we.trigger(r,fD,{relatedTarget:e}):null;we.trigger(e,xD,{relatedTarget:r}).defaultPrevented||n&&n.defaultPrevented||(this._deactivate(r,e),this._activate(e,r))}_activate(e,r){if(!e)return;e.classList.add(C0),this._activate($e.getElementFromSelector(e));const n=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(ix);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),we.trigger(e,hD,{relatedTarget:r})};this._queueCallback(n,e,e.classList.contains(v5))}_deactivate(e,r){if(!e)return;e.classList.remove(C0),e.blur(),this._deactivate($e.getElementFromSelector(e));const n=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(ix);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),we.trigger(e,dD,{relatedTarget:r})};this._queueCallback(n,e,e.classList.contains(v5))}_keydown(e){if(![yD,b5,ED,C5,nx,A5].includes(e.key))return;e.stopPropagation(),e.preventDefault();const r=this._getChildren().filter(i=>!$s(i));let n;if([nx,A5].includes(e.key))n=r[e.key===nx?0:r.length-1];else{const i=[b5,C5].includes(e.key);n=V8(r,e.target,i,!0)}n&&(n.focus({preventScroll:!0}),ea.getOrCreateInstance(n).show())}_getChildren(){return $e.find(ox,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,r){this._setAttributeIfNotExists(e,"role","tablist");for(const n of r)this._setInitialAttributesOnChild(n)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const r=this._elemIsActive(e),n=this._getOuterElement(e);e.setAttribute("aria-selected",r),n!==e&&this._setAttributeIfNotExists(n,"role","presentation"),r||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const r=$e.getElementFromSelector(e);r&&(this._setAttributeIfNotExists(r,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(r,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,r){const n=this._getOuterElement(e);if(!n.classList.contains(bD))return;const i=(s,o)=>{const a=$e.findOne(s,n);a&&a.classList.toggle(o,r)};i($3,C0),i(CD,ix),n.setAttribute("aria-expanded",r)}_setAttributeIfNotExists(e,r,n){e.hasAttribute(r)||e.setAttribute(r,n)}_elemIsActive(e){return e.classList.contains(C0)}_getInnerElement(e){return e.matches(ox)?e:$e.findOne(ox,e)}_getOuterElement(e){return e.closest(vD)||e}static jQueryInterface(e){return this.each(function(){const r=ea.getOrCreateInstance(this);if(typeof e=="string"){if(r[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);r[e]()}})}}we.on(document,pD,z3,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),!$s(this)&&ea.getOrCreateInstance(this).show()});we.on(window,gD,()=>{for(const t of $e.find(wD))ea.getOrCreateInstance(t)});gn(ea);const BD="toast",DD="bs.toast",Js=`.${DD}`,kD=`mouseover${Js}`,FD=`mouseout${Js}`,SD=`focusin${Js}`,PD=`focusout${Js}`,TD=`hide${Js}`,MD=`hidden${Js}`,ID=`show${Js}`,RD=`shown${Js}`,OD="fade",_5="hide",Bl="show",Dl="showing",LD={animation:"boolean",autohide:"boolean",delay:"number"},ND={animation:!0,autohide:!0,delay:5e3};class ed extends Fn{constructor(e,r){super(e,r),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return ND}static get DefaultType(){return LD}static get NAME(){return BD}show(){if(we.trigger(this._element,ID).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(OD);const r=()=>{this._element.classList.remove(Dl),we.trigger(this._element,RD),this._maybeScheduleHide()};this._element.classList.remove(_5),Xc(this._element),this._element.classList.add(Bl,Dl),this._queueCallback(r,this._element,this._config.animation)}hide(){if(!this.isShown()||we.trigger(this._element,TD).defaultPrevented)return;const r=()=>{this._element.classList.add(_5),this._element.classList.remove(Dl,Bl),we.trigger(this._element,MD)};this._element.classList.add(Dl),this._queueCallback(r,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Bl),super.dispose()}isShown(){return this._element.classList.contains(Bl)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,r){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=r;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=r;break}}if(r){this._clearTimeout();return}const n=e.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){we.on(this._element,kD,e=>this._onInteraction(e,!0)),we.on(this._element,FD,e=>this._onInteraction(e,!1)),we.on(this._element,SD,e=>this._onInteraction(e,!0)),we.on(this._element,PD,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const r=ed.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e](this)}})}}Jf(ed);gn(ed);function Vi(t){return Array.isArray?Array.isArray(t):V3(t)==="[object Array]"}const KD=1/0;function UD(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-KD?"-0":e}function $D(t){return t==null?"":UD(t)}function ri(t){return typeof t=="string"}function j3(t){return typeof t=="number"}function zD(t){return t===!0||t===!1||jD(t)&&V3(t)=="[object Boolean]"}function H3(t){return typeof t=="object"}function jD(t){return H3(t)&&t!==null}function Gr(t){return t!=null}function ax(t){return!t.trim().length}function V3(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const HD="Incorrect 'index' type",VD=t=>`Invalid value for key ${t}`,qD=t=>`Pattern length exceeds max of ${t}.`,WD=t=>`Missing ${t} property in key`,GD=t=>`Property 'weight' in key '${t}' must be a positive integer`,w5=Object.prototype.hasOwnProperty;class YD{constructor(e){this._keys=[],this._keyMap={};let r=0;e.forEach(n=>{let i=q3(n);this._keys.push(i),this._keyMap[i.id]=i,r+=i.weight}),this._keys.forEach(n=>{n.weight/=r})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function q3(t){let e=null,r=null,n=null,i=1,s=null;if(ri(t)||Vi(t))n=t,e=B5(t),r=U1(t);else{if(!w5.call(t,"name"))throw new Error(WD("name"));const o=t.name;if(n=o,w5.call(t,"weight")&&(i=t.weight,i<=0))throw new Error(GD(o));e=B5(o),r=U1(o),s=t.getFn}return{path:e,id:r,weight:i,src:n,getFn:s}}function B5(t){return Vi(t)?t:t.split(".")}function U1(t){return Vi(t)?t.join("."):t}function JD(t,e){let r=[],n=!1;const i=(s,o,a)=>{if(Gr(s))if(!o[a])r.push(s);else{let c=o[a];const l=s[c];if(!Gr(l))return;if(a===o.length-1&&(ri(l)||j3(l)||zD(l)))r.push($D(l));else if(Vi(l)){n=!0;for(let u=0,f=l.length;u<f;u+=1)i(l[u],o,a+1)}else o.length&&i(l,o,a+1)}};return i(t,ri(e)?e.split("."):e,0),n?r:r[0]}const XD={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},QD={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},ZD={location:0,threshold:.6,distance:100},ek={useExtendedSearch:!1,getFn:JD,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Ge={...QD,...XD,...ZD,...ek};const tk=/[^ ]+/g;function rk(t=1,e=3){const r=new Map,n=Math.pow(10,e);return{get(i){const s=i.match(tk).length;if(r.has(s))return r.get(s);const o=1/Math.pow(s,.5*t),a=parseFloat(Math.round(o*n)/n);return r.set(s,a),a},clear(){r.clear()}}}class J8{constructor({getFn:e=Ge.getFn,fieldNormWeight:r=Ge.fieldNormWeight}={}){this.norm=rk(r,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((r,n)=>{this._keysMap[r.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,ri(this.docs[0])?this.docs.forEach((e,r)=>{this._addString(e,r)}):this.docs.forEach((e,r)=>{this._addObject(e,r)}),this.norm.clear())}add(e){const r=this.size();ri(e)?this._addString(e,r):this._addObject(e,r)}removeAt(e){this.records.splice(e,1);for(let r=e,n=this.size();r<n;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(e,r){return e[this._keysMap[r]]}size(){return this.records.length}_addString(e,r){if(!Gr(e)||ax(e))return;let n={v:e,i:r,n:this.norm.get(e)};this.records.push(n)}_addObject(e,r){let n={i:r,$:{}};this.keys.forEach((i,s)=>{let o=i.getFn?i.getFn(e):this.getFn(e,i.path);if(Gr(o)){if(Vi(o)){let a=[];const c=[{nestedArrIndex:-1,value:o}];for(;c.length;){const{nestedArrIndex:l,value:u}=c.pop();if(Gr(u))if(ri(u)&&!ax(u)){let f={v:u,i:l,n:this.norm.get(u)};a.push(f)}else Vi(u)&&u.forEach((f,x)=>{c.push({nestedArrIndex:x,value:f})})}n.$[s]=a}else if(ri(o)&&!ax(o)){let a={v:o,n:this.norm.get(o)};n.$[s]=a}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function W3(t,e,{getFn:r=Ge.getFn,fieldNormWeight:n=Ge.fieldNormWeight}={}){const i=new J8({getFn:r,fieldNormWeight:n});return i.setKeys(t.map(q3)),i.setSources(e),i.create(),i}function nk(t,{getFn:e=Ge.getFn,fieldNormWeight:r=Ge.fieldNormWeight}={}){const{keys:n,records:i}=t,s=new J8({getFn:e,fieldNormWeight:r});return s.setKeys(n),s.setIndexRecords(i),s}function kl(t,{errors:e=0,currentLocation:r=0,expectedLocation:n=0,distance:i=Ge.distance,ignoreLocation:s=Ge.ignoreLocation}={}){const o=e/t.length;if(s)return o;const a=Math.abs(n-r);return i?o+a/i:a?1:o}function ik(t=[],e=Ge.minMatchCharLength){let r=[],n=-1,i=-1,s=0;for(let o=t.length;s<o;s+=1){let a=t[s];a&&n===-1?n=s:!a&&n!==-1&&(i=s-1,i-n+1>=e&&r.push([n,i]),n=-1)}return t[s-1]&&s-n>=e&&r.push([n,s-1]),r}const g0=32;function sk(t,e,r,{location:n=Ge.location,distance:i=Ge.distance,threshold:s=Ge.threshold,findAllMatches:o=Ge.findAllMatches,minMatchCharLength:a=Ge.minMatchCharLength,includeMatches:c=Ge.includeMatches,ignoreLocation:l=Ge.ignoreLocation}={}){if(e.length>g0)throw new Error(qD(g0));const u=e.length,f=t.length,x=Math.max(0,Math.min(n,f));let h=s,C=x;const w=a>1||c,k=w?Array(f):[];let O;for(;(O=t.indexOf(e,C))>-1;){let R=kl(e,{currentLocation:O,expectedLocation:x,distance:i,ignoreLocation:l});if(h=Math.min(R,h),C=O+u,w){let d=0;for(;d<u;)k[O+d]=1,d+=1}}C=-1;let z=[],P=1,A=u+f;const T=1<<u-1;for(let R=0;R<u;R+=1){let d=0,p=A;for(;d<p;)kl(e,{errors:R,currentLocation:x+p,expectedLocation:x,distance:i,ignoreLocation:l})<=h?d=p:A=p,p=Math.floor((A-d)/2+d);A=p;let _=Math.max(1,x-p+1),b=o?f:Math.min(x+p,f)+u,m=Array(b+2);m[b+1]=(1<<R)-1;for(let S=b;S>=_;S-=1){let Q=S-1,Z=r[t.charAt(Q)];if(w&&(k[Q]=+!!Z),m[S]=(m[S+1]<<1|1)&Z,R&&(m[S]|=(z[S+1]|z[S])<<1|1|z[S+1]),m[S]&T&&(P=kl(e,{errors:R,currentLocation:Q,expectedLocation:x,distance:i,ignoreLocation:l}),P<=h)){if(h=P,C=Q,C<=x)break;_=Math.max(1,2*x-C)}}if(kl(e,{errors:R+1,currentLocation:x,expectedLocation:x,distance:i,ignoreLocation:l})>h)break;z=m}const F={isMatch:C>=0,score:Math.max(.001,P)};if(w){const R=ik(k,a);R.length?c&&(F.indices=R):F.isMatch=!1}return F}function ok(t){let e={};for(let r=0,n=t.length;r<n;r+=1){const i=t.charAt(r);e[i]=(e[i]||0)|1<<n-r-1}return e}class G3{constructor(e,{location:r=Ge.location,threshold:n=Ge.threshold,distance:i=Ge.distance,includeMatches:s=Ge.includeMatches,findAllMatches:o=Ge.findAllMatches,minMatchCharLength:a=Ge.minMatchCharLength,isCaseSensitive:c=Ge.isCaseSensitive,ignoreLocation:l=Ge.ignoreLocation}={}){if(this.options={location:r,threshold:n,distance:i,includeMatches:s,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:c,ignoreLocation:l},this.pattern=c?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const u=(x,h)=>{this.chunks.push({pattern:x,alphabet:ok(x),startIndex:h})},f=this.pattern.length;if(f>g0){let x=0;const h=f%g0,C=f-h;for(;x<C;)u(this.pattern.substr(x,g0),x),x+=g0;if(h){const w=f-g0;u(this.pattern.substr(w),w)}}else u(this.pattern,0)}searchIn(e){const{isCaseSensitive:r,includeMatches:n}=this.options;if(r||(e=e.toLowerCase()),this.pattern===e){let C={isMatch:!0,score:0};return n&&(C.indices=[[0,e.length-1]]),C}const{location:i,distance:s,threshold:o,findAllMatches:a,minMatchCharLength:c,ignoreLocation:l}=this.options;let u=[],f=0,x=!1;this.chunks.forEach(({pattern:C,alphabet:w,startIndex:k})=>{const{isMatch:O,score:z,indices:P}=sk(e,C,w,{location:i+k,distance:s,threshold:o,findAllMatches:a,minMatchCharLength:c,includeMatches:n,ignoreLocation:l});O&&(x=!0),f+=z,O&&P&&(u=[...u,...P])});let h={isMatch:x,score:x?f/this.chunks.length:1};return x&&n&&(h.indices=u),h}}class Xs{constructor(e){this.pattern=e}static isMultiMatch(e){return D5(e,this.multiRegex)}static isSingleMatch(e){return D5(e,this.singleRegex)}search(){}}function D5(t,e){const r=t.match(e);return r?r[1]:null}class ak extends Xs{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const r=e===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class ck extends Xs{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const n=e.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class lk extends Xs{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const r=e.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class uk extends Xs{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const r=!e.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class fk extends Xs{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const r=e.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class dk extends Xs{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const r=!e.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class Y3 extends Xs{constructor(e,{location:r=Ge.location,threshold:n=Ge.threshold,distance:i=Ge.distance,includeMatches:s=Ge.includeMatches,findAllMatches:o=Ge.findAllMatches,minMatchCharLength:a=Ge.minMatchCharLength,isCaseSensitive:c=Ge.isCaseSensitive,ignoreLocation:l=Ge.ignoreLocation}={}){super(e),this._bitapSearch=new G3(e,{location:r,threshold:n,distance:i,includeMatches:s,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:c,ignoreLocation:l})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class J3 extends Xs{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let r=0,n;const i=[],s=this.pattern.length;for(;(n=e.indexOf(this.pattern,r))>-1;)r=n+s,i.push([n,r-1]);const o=!!i.length;return{isMatch:o,score:o?0:1,indices:i}}}const $1=[ak,J3,lk,uk,dk,fk,ck,Y3],k5=$1.length,xk=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,hk="|";function pk(t,e={}){return t.split(hk).map(r=>{let n=r.trim().split(xk).filter(s=>s&&!!s.trim()),i=[];for(let s=0,o=n.length;s<o;s+=1){const a=n[s];let c=!1,l=-1;for(;!c&&++l<k5;){const u=$1[l];let f=u.isMultiMatch(a);f&&(i.push(new u(f,e)),c=!0)}if(!c)for(l=-1;++l<k5;){const u=$1[l];let f=u.isSingleMatch(a);if(f){i.push(new u(f,e));break}}}return i})}const mk=new Set([Y3.type,J3.type]);class gk{constructor(e,{isCaseSensitive:r=Ge.isCaseSensitive,includeMatches:n=Ge.includeMatches,minMatchCharLength:i=Ge.minMatchCharLength,ignoreLocation:s=Ge.ignoreLocation,findAllMatches:o=Ge.findAllMatches,location:a=Ge.location,threshold:c=Ge.threshold,distance:l=Ge.distance}={}){this.query=null,this.options={isCaseSensitive:r,includeMatches:n,minMatchCharLength:i,findAllMatches:o,ignoreLocation:s,location:a,threshold:c,distance:l},this.pattern=r?e:e.toLowerCase(),this.query=pk(this.pattern,this.options)}static condition(e,r){return r.useExtendedSearch}searchIn(e){const r=this.query;if(!r)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:i}=this.options;e=i?e:e.toLowerCase();let s=0,o=[],a=0;for(let c=0,l=r.length;c<l;c+=1){const u=r[c];o.length=0,s=0;for(let f=0,x=u.length;f<x;f+=1){const h=u[f],{isMatch:C,indices:w,score:k}=h.search(e);if(C){if(s+=1,a+=k,n){const O=h.constructor.type;mk.has(O)?o=[...o,...w]:o.push(w)}}else{a=0,s=0,o.length=0;break}}if(s){let f={isMatch:!0,score:a/s};return n&&(f.indices=o),f}}return{isMatch:!1,score:1}}}const z1=[];function yk(...t){z1.push(...t)}function j1(t,e){for(let r=0,n=z1.length;r<n;r+=1){let i=z1[r];if(i.condition(t,e))return new i(t,e)}return new G3(t,e)}const $u={AND:"$and",OR:"$or"},H1={PATH:"$path",PATTERN:"$val"},V1=t=>!!(t[$u.AND]||t[$u.OR]),Ek=t=>!!t[H1.PATH],bk=t=>!Vi(t)&&H3(t)&&!V1(t),F5=t=>({[$u.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function X3(t,e,{auto:r=!0}={}){const n=i=>{let s=Object.keys(i);const o=Ek(i);if(!o&&s.length>1&&!V1(i))return n(F5(i));if(bk(i)){const c=o?i[H1.PATH]:s[0],l=o?i[H1.PATTERN]:i[c];if(!ri(l))throw new Error(VD(c));const u={keyId:U1(c),pattern:l};return r&&(u.searcher=j1(l,e)),u}let a={children:[],operator:s[0]};return s.forEach(c=>{const l=i[c];Vi(l)&&l.forEach(u=>{a.children.push(n(u))})}),a};return V1(t)||(t=F5(t)),n(t)}function Ck(t,{ignoreFieldNorm:e=Ge.ignoreFieldNorm}){t.forEach(r=>{let n=1;r.matches.forEach(({key:i,norm:s,score:o})=>{const a=i?i.weight:null;n*=Math.pow(o===0&&a?Number.EPSILON:o,(a||1)*(e?1:s))}),r.score=n})}function Ak(t,e){const r=t.matches;e.matches=[],Gr(r)&&r.forEach(n=>{if(!Gr(n.indices)||!n.indices.length)return;const{indices:i,value:s}=n;let o={indices:i,value:s};n.key&&(o.key=n.key.src),n.idx>-1&&(o.refIndex=n.idx),e.matches.push(o)})}function vk(t,e){e.score=t.score}function _k(t,e,{includeMatches:r=Ge.includeMatches,includeScore:n=Ge.includeScore}={}){const i=[];return r&&i.push(Ak),n&&i.push(vk),t.map(s=>{const{idx:o}=s,a={item:e[o],refIndex:o};return i.length&&i.forEach(c=>{c(s,a)}),a})}class ya{constructor(e,r={},n){this.options={...Ge,...r},this.options.useExtendedSearch,this._keyStore=new YD(this.options.keys),this.setCollection(e,n)}setCollection(e,r){if(this._docs=e,r&&!(r instanceof J8))throw new Error(HD);this._myIndex=r||W3(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){Gr(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const r=[];for(let n=0,i=this._docs.length;n<i;n+=1){const s=this._docs[n];e(s,n)&&(this.removeAt(n),n-=1,i-=1,r.push(s))}return r}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:r=-1}={}){const{includeMatches:n,includeScore:i,shouldSort:s,sortFn:o,ignoreFieldNorm:a}=this.options;let c=ri(e)?ri(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return Ck(c,{ignoreFieldNorm:a}),s&&c.sort(o),j3(r)&&r>-1&&(c=c.slice(0,r)),_k(c,this._docs,{includeMatches:n,includeScore:i})}_searchStringList(e){const r=j1(e,this.options),{records:n}=this._myIndex,i=[];return n.forEach(({v:s,i:o,n:a})=>{if(!Gr(s))return;const{isMatch:c,score:l,indices:u}=r.searchIn(s);c&&i.push({item:s,idx:o,matches:[{score:l,value:s,norm:a,indices:u}]})}),i}_searchLogical(e){const r=X3(e,this.options),n=(a,c,l)=>{if(!a.children){const{keyId:f,searcher:x}=a,h=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(c,f),searcher:x});return h&&h.length?[{idx:l,item:c,matches:h}]:[]}const u=[];for(let f=0,x=a.children.length;f<x;f+=1){const h=a.children[f],C=n(h,c,l);if(C.length)u.push(...C);else if(a.operator===$u.AND)return[]}return u},i=this._myIndex.records,s={},o=[];return i.forEach(({$:a,i:c})=>{if(Gr(a)){let l=n(r,a,c);l.length&&(s[c]||(s[c]={idx:c,item:a,matches:[]},o.push(s[c])),l.forEach(({matches:u})=>{s[c].matches.push(...u)}))}}),o}_searchObjectList(e){const r=j1(e,this.options),{keys:n,records:i}=this._myIndex,s=[];return i.forEach(({$:o,i:a})=>{if(!Gr(o))return;let c=[];n.forEach((l,u)=>{c.push(...this._findMatches({key:l,value:o[u],searcher:r}))}),c.length&&s.push({idx:a,item:o,matches:c})}),s}_findMatches({key:e,value:r,searcher:n}){if(!Gr(r))return[];let i=[];if(Vi(r))r.forEach(({v:s,i:o,n:a})=>{if(!Gr(s))return;const{isMatch:c,score:l,indices:u}=n.searchIn(s);c&&i.push({score:l,key:e,value:s,idx:o,norm:a,indices:u})});else{const{v:s,n:o}=r,{isMatch:a,score:c,indices:l}=n.searchIn(s);a&&i.push({score:c,key:e,value:s,norm:o,indices:l})}return i}}ya.version="7.0.0";ya.createIndex=W3;ya.parseIndex=nk;ya.config=Ge;ya.parseQuery=X3;yk(gk);const q1=(t,e)=>e.some(r=>t instanceof r);let S5,P5;function wk(){return S5||(S5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Bk(){return P5||(P5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const W1=new WeakMap,cx=new WeakMap,td=new WeakMap;function Dk(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{r(Ts(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return td.set(e,t),e}function kk(t){if(W1.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});W1.set(t,e)}let G1={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return W1.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ts(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Q3(t){G1=t(G1)}function Fk(t){return Bk().includes(t)?function(...e){return t.apply(Y1(this),e),Ts(this.request)}:function(...e){return Ts(t.apply(Y1(this),e))}}function Sk(t){return typeof t=="function"?Fk(t):(t instanceof IDBTransaction&&kk(t),q1(t,wk())?new Proxy(t,G1):t)}function Ts(t){if(t instanceof IDBRequest)return Dk(t);if(cx.has(t))return cx.get(t);const e=Sk(t);return e!==t&&(cx.set(t,e),td.set(e,t)),e}const Y1=t=>td.get(t);function Pk(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ts(o);return n&&o.addEventListener("upgradeneeded",c=>{n(Ts(o.result),c.oldVersion,c.newVersion,Ts(o.transaction),c)}),r&&o.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}function Tk(t,{blocked:e}={}){const r=indexedDB.deleteDatabase(t);return e&&r.addEventListener("blocked",n=>e(n.oldVersion,n)),Ts(r).then(()=>{})}const Mk=["get","getKey","getAll","getAllKeys","count"],Ik=["put","add","delete","clear"],lx=new Map;function T5(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(lx.get(e))return lx.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=Ik.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||Mk.includes(r)))return;const s=async function(o,...a){const c=this.transaction(o,i?"readwrite":"readonly");let l=c.store;return n&&(l=l.index(a.shift())),(await Promise.all([l[r](...a),i&&c.done]))[0]};return lx.set(e,s),s}Q3(t=>({...t,get:(e,r,n)=>T5(e,r)||t.get(e,r,n),has:(e,r)=>!!T5(e,r)||t.has(e,r)}));const Rk=["continue","continuePrimaryKey","advance"],M5={},J1=new WeakMap,Z3=new WeakMap,Ok={get(t,e){if(!Rk.includes(e))return t[e];let r=M5[e];return r||(r=M5[e]=function(...n){J1.set(this,Z3.get(this)[e](...n))}),r}};async function*Lk(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;e=e;const r=new Proxy(e,Ok);for(Z3.set(r,e),td.set(r,Y1(e));e;)yield r,e=await(J1.get(r)||e.continue()),J1.delete(r)}function I5(t,e){return e===Symbol.asyncIterator&&q1(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&q1(t,[IDBIndex,IDBObjectStore])}Q3(t=>({...t,get(e,r,n){return I5(e,r)?Lk:t.get(e,r,n)},has(e,r){return I5(e,r)||t.has(e,r)}}));const Nk={key:0,class:"overlay"},Kk={class:"overlay-container d-flex flex-column bg-light border rounded shadow p-3 z-1"},Uk=de("span",{class:"fw-bold mb-3"},"Are you sure you want to log out?",-1),$k={class:"d-flex justify-content-end"},zk={__name:"LogoutModal",setup(t,{expose:e}){const r=Ke(!1);async function n(){r.value=!1}async function i(){if(console.log("Logging out..."),localStorage.clear(),await ve.db.close(),await Tk("messenger"),"serviceWorker"in navigator){const s=await navigator.serviceWorker.getRegistrations();for(const o of s)await o.unregister()}window.location.href=window.location.origin+window.location.pathname}return e({show:()=>r.value=!0,hide:()=>r.value=!1}),(s,o)=>r.value?(St(),It("div",Nk,[de("div",Kk,[Uk,de("div",$k,[de("button",{class:"btn btn-primary me-2",onClick:i},"Yes"),de("button",{class:"btn btn-secondary",onClick:o[0]||(o[0]=a=>r.value=!1)},"No")])]),de("div",{class:"overlay-outside",onClick:n})])):Jr("",!0)}},jk={key:0,class:"overlay"},Hk={class:"overlay-container d-flex flex-column bg-light border rounded shadow p-3 z-1"},Vk=de("span",{class:"fw-bold mb-3"},"Enter code",-1),qk={class:"input-group mb-3"},Wk=de("span",{class:"input-group-text bi bi-qr-code",id:"basic-code"},null,-1),Gk={class:"d-flex justify-content-end"},Yk={__name:"AddCodeModal",emits:["update_results"],setup(t,{expose:e,emit:r}){const n=Ke(!1),i=r,s=Ke("");async function o(){n.value=!1}async function a(){s.value.length&&(c(s.value),n.value=!1,s.value="")}async function c(l){if(await ve.db.getFromIndex("contacts","secret",l))return;const f=ve.peer.connect(l,{reliable:!0,metadata:{from:ht.secret,to:l}});f.on("open",()=>{f.send({type:"handshake",name:ht.name,secret:ht.secret,pubkey:ht.pubkey.armor()})}),f.on("data",async x=>{x.type=="handshake"&&(ve.connections[x.secret]={conn:null,items:[],notification:!1,pubkey:x.pubkey,online:!1,last_seen:0},ve.contacts.push({name:x.name,secret:x.secret,pubkey:x.pubkey}),await ve.db.transaction("contacts","readwrite").store.put({name:x.name,secret:x.secret,pubkey:x.pubkey}),i("update_results"),f.close())})}return e({show:()=>n.value=!0,hide:()=>n.value=!1}),(l,u)=>n.value?(St(),It("div",jk,[de("div",Hk,[Vk,de("div",qk,[Wk,N0(de("input",{"onUpdate:modelValue":u[0]||(u[0]=f=>s.value=f),type:"text",class:"form-control",placeholder:"Code","aria-label":"Code","aria-describedby":"basic-code",onKeypress:z4(a,["enter"]),autofocus:""},null,544),[[qf,s.value]])]),de("div",Gk,[de("button",{class:"btn btn-primary me-2",onClick:a},"Add"),de("button",{class:"btn btn-secondary",onClick:u[1]||(u[1]=f=>n.value=!1)},"Cancel")])]),de("div",{class:"overlay-outside",onClick:o})])):Jr("",!0)}},Jk={key:0,class:"overlay"},Xk={class:"overlay-container d-flex flex-column bg-light border rounded shadow p-3 z-1"},Qk=de("span",{class:"fw-bold mb-3"},"Enter a new name",-1),Zk={class:"input-group mb-3"},eF=de("span",{class:"input-group-text",id:"basic-addon1"},"@",-1),tF={class:"d-flex justify-content-end"},em={__name:"ChangeNameModal",setup(t,{expose:e}){const r=Ke(!1),n=Ke("");async function i(){r.value=!1}async function s(){if(!n.value.length)return;if(!ve.contact){ht.name=n.value,await ve.db.put("keys",ht.name,"name"),r.value=!1;return}const o=ve.contacts.findIndex(c=>c.secret==ve.contact.secret);ve.contacts[o].name=n.value,await ve.db.transaction("contacts","readwrite").store.put({name:n.value.value,secret:ve.contact.secret,pubkey:ve.contact.pubkey}),r.value=!1,n.value=""}return e({show:()=>r.value=!0,hide:()=>r.value=!1}),(o,a)=>r.value?(St(),It("div",Jk,[de("div",Xk,[Qk,de("div",Zk,[eF,N0(de("input",{"onUpdate:modelValue":a[0]||(a[0]=c=>n.value=c),type:"text",class:"form-control",placeholder:"Username","aria-label":"Username","aria-describedby":"basic-addon1",onKeypress:z4(s,["enter"]),autofocus:""},null,544),[[qf,n.value]])]),de("div",tF,[de("button",{class:"btn btn-primary me-2",onClick:s},"Save"),de("button",{class:"btn btn-secondary",onClick:a[1]||(a[1]=c=>r.value=!1)},"Cancel")])]),de("div",{class:"overlay-outside",onClick:i})])):Jr("",!0)}};var rF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rm={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(typeof self<"u"?self:rF,function(){return function(r){var n={};function i(s){if(n[s])return n[s].exports;var o=n[s]={i:s,l:!1,exports:{}};return r[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=r,i.c=n,i.d=function(s,o,a){i.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:a})},i.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(o,"a",o),o},i.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},i.p="",i(i.s=3)}([function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function o(a,c){this.width=c,this.height=a.length/c,this.data=a}return o.createEmpty=function(a,c){return new o(new Uint8ClampedArray(a*c),a)},o.prototype.get=function(a,c){return a<0||a>=this.width||c<0||c>=this.height?!1:!!this.data[c*this.width+a]},o.prototype.set=function(a,c,l){this.data[c*this.width+a]=l?1:0},o.prototype.setRegion=function(a,c,l,u,f){for(var x=c;x<c+u;x++)for(var h=a;h<a+l;h++)this.set(h,x,!!f)},o}();n.BitMatrix=s},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(2);function o(c,l){return c^l}n.addOrSubtractGF=o;var a=function(){function c(l,u,f){this.primitive=l,this.size=u,this.generatorBase=f,this.expTable=new Array(this.size),this.logTable=new Array(this.size);for(var x=1,h=0;h<this.size;h++)this.expTable[h]=x,x=x*2,x>=this.size&&(x=(x^this.primitive)&this.size-1);for(var h=0;h<this.size-1;h++)this.logTable[this.expTable[h]]=h;this.zero=new s.default(this,Uint8ClampedArray.from([0])),this.one=new s.default(this,Uint8ClampedArray.from([1]))}return c.prototype.multiply=function(l,u){return l===0||u===0?0:this.expTable[(this.logTable[l]+this.logTable[u])%(this.size-1)]},c.prototype.inverse=function(l){if(l===0)throw new Error("Can't invert 0");return this.expTable[this.size-this.logTable[l]-1]},c.prototype.buildMonomial=function(l,u){if(l<0)throw new Error("Invalid monomial degree less than 0");if(u===0)return this.zero;var f=new Uint8ClampedArray(l+1);return f[0]=u,new s.default(this,f)},c.prototype.log=function(l){if(l===0)throw new Error("Can't take log(0)");return this.logTable[l]},c.prototype.exp=function(l){return this.expTable[l]},c}();n.default=a},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(1),o=function(){function a(c,l){if(l.length===0)throw new Error("No coefficients.");this.field=c;var u=l.length;if(u>1&&l[0]===0){for(var f=1;f<u&&l[f]===0;)f++;if(f===u)this.coefficients=c.zero.coefficients;else{this.coefficients=new Uint8ClampedArray(u-f);for(var x=0;x<this.coefficients.length;x++)this.coefficients[x]=l[f+x]}}else this.coefficients=l}return a.prototype.degree=function(){return this.coefficients.length-1},a.prototype.isZero=function(){return this.coefficients[0]===0},a.prototype.getCoefficient=function(c){return this.coefficients[this.coefficients.length-1-c]},a.prototype.addOrSubtract=function(c){var l;if(this.isZero())return c;if(c.isZero())return this;var u=this.coefficients,f=c.coefficients;u.length>f.length&&(l=[f,u],u=l[0],f=l[1]);for(var x=new Uint8ClampedArray(f.length),h=f.length-u.length,C=0;C<h;C++)x[C]=f[C];for(var C=h;C<f.length;C++)x[C]=s.addOrSubtractGF(u[C-h],f[C]);return new a(this.field,x)},a.prototype.multiply=function(c){if(c===0)return this.field.zero;if(c===1)return this;for(var l=this.coefficients.length,u=new Uint8ClampedArray(l),f=0;f<l;f++)u[f]=this.field.multiply(this.coefficients[f],c);return new a(this.field,u)},a.prototype.multiplyPoly=function(c){if(this.isZero()||c.isZero())return this.field.zero;for(var l=this.coefficients,u=l.length,f=c.coefficients,x=f.length,h=new Uint8ClampedArray(u+x-1),C=0;C<u;C++)for(var w=l[C],k=0;k<x;k++)h[C+k]=s.addOrSubtractGF(h[C+k],this.field.multiply(w,f[k]));return new a(this.field,h)},a.prototype.multiplyByMonomial=function(c,l){if(c<0)throw new Error("Invalid degree less than 0");if(l===0)return this.field.zero;for(var u=this.coefficients.length,f=new Uint8ClampedArray(u+c),x=0;x<u;x++)f[x]=this.field.multiply(this.coefficients[x],l);return new a(this.field,f)},a.prototype.evaluateAt=function(c){var l=0;if(c===0)return this.getCoefficient(0);var u=this.coefficients.length;if(c===1)return this.coefficients.forEach(function(x){l=s.addOrSubtractGF(l,x)}),l;l=this.coefficients[0];for(var f=1;f<u;f++)l=s.addOrSubtractGF(this.field.multiply(c,l),this.coefficients[f]);return l},a}();n.default=o},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(4),o=i(5),a=i(11),c=i(12);function l(x){var h=c.locate(x);if(!h)return null;for(var C=0,w=h;C<w.length;C++){var k=w[C],O=a.extract(x,k),z=o.decode(O.matrix);if(z)return{binaryData:z.bytes,data:z.text,chunks:z.chunks,version:z.version,location:{topRightCorner:O.mappingFunction(k.dimension,0),topLeftCorner:O.mappingFunction(0,0),bottomRightCorner:O.mappingFunction(k.dimension,k.dimension),bottomLeftCorner:O.mappingFunction(0,k.dimension),topRightFinderPattern:k.topRight,topLeftFinderPattern:k.topLeft,bottomLeftFinderPattern:k.bottomLeft,bottomRightAlignmentPattern:k.alignmentPattern}}}return null}var u={inversionAttempts:"attemptBoth"};function f(x,h,C,w){w===void 0&&(w={});var k=u;Object.keys(k||{}).forEach(function(R){k[R]=w[R]||k[R]});var O=k.inversionAttempts==="attemptBoth"||k.inversionAttempts==="invertFirst",z=k.inversionAttempts==="onlyInvert"||k.inversionAttempts==="invertFirst",P=s.binarize(x,h,C,O),A=P.binarized,T=P.inverted,F=l(z?T:A);return!F&&(k.inversionAttempts==="attemptBoth"||k.inversionAttempts==="invertFirst")&&(F=l(z?A:T)),F}f.default=f,n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(0),o=8,a=24;function c(f,x,h){return f<x?x:f>h?h:f}var l=function(){function f(x,h){this.width=x,this.data=new Uint8ClampedArray(x*h)}return f.prototype.get=function(x,h){return this.data[h*this.width+x]},f.prototype.set=function(x,h,C){this.data[h*this.width+x]=C},f}();function u(f,x,h,C){if(f.length!==x*h*4)throw new Error("Malformed data passed to binarizer.");for(var w=new l(x,h),k=0;k<x;k++)for(var O=0;O<h;O++){var z=f[(O*x+k)*4+0],P=f[(O*x+k)*4+1],A=f[(O*x+k)*4+2];w.set(k,O,.2126*z+.7152*P+.0722*A)}for(var T=Math.ceil(x/o),F=Math.ceil(h/o),R=new l(T,F),d=0;d<F;d++)for(var p=0;p<T;p++){for(var _=0,b=1/0,m=0,O=0;O<o;O++)for(var k=0;k<o;k++){var E=w.get(p*o+k,d*o+O);_+=E,b=Math.min(b,E),m=Math.max(m,E)}var S=_/Math.pow(o,2);if(m-b<=a&&(S=b/2,d>0&&p>0)){var Q=(R.get(p,d-1)+2*R.get(p-1,d)+R.get(p-1,d-1))/4;b<Q&&(S=Q)}R.set(p,d,S)}var Z=s.BitMatrix.createEmpty(x,h),M=null;C&&(M=s.BitMatrix.createEmpty(x,h));for(var d=0;d<F;d++)for(var p=0;p<T;p++){for(var te=c(p,2,T-3),ie=c(d,2,F-3),_=0,ue=-2;ue<=2;ue++)for(var ne=-2;ne<=2;ne++)_+=R.get(te+ue,ie+ne);for(var le=_/25,ue=0;ue<o;ue++)for(var ne=0;ne<o;ne++){var k=p*o+ue,O=d*o+ne,Ae=w.get(k,O);Z.set(k,O,Ae<=le),C&&M.set(k,O,!(Ae<=le))}}return C?{binarized:Z,inverted:M}:{binarized:Z}}n.binarize=u},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(0),o=i(6),a=i(9),c=i(10);function l(A,T){for(var F=A^T,R=0;F;)R++,F&=F-1;return R}function u(A,T){return T<<1|A}var f=[{bits:21522,formatInfo:{errorCorrectionLevel:1,dataMask:0}},{bits:20773,formatInfo:{errorCorrectionLevel:1,dataMask:1}},{bits:24188,formatInfo:{errorCorrectionLevel:1,dataMask:2}},{bits:23371,formatInfo:{errorCorrectionLevel:1,dataMask:3}},{bits:17913,formatInfo:{errorCorrectionLevel:1,dataMask:4}},{bits:16590,formatInfo:{errorCorrectionLevel:1,dataMask:5}},{bits:20375,formatInfo:{errorCorrectionLevel:1,dataMask:6}},{bits:19104,formatInfo:{errorCorrectionLevel:1,dataMask:7}},{bits:30660,formatInfo:{errorCorrectionLevel:0,dataMask:0}},{bits:29427,formatInfo:{errorCorrectionLevel:0,dataMask:1}},{bits:32170,formatInfo:{errorCorrectionLevel:0,dataMask:2}},{bits:30877,formatInfo:{errorCorrectionLevel:0,dataMask:3}},{bits:26159,formatInfo:{errorCorrectionLevel:0,dataMask:4}},{bits:25368,formatInfo:{errorCorrectionLevel:0,dataMask:5}},{bits:27713,formatInfo:{errorCorrectionLevel:0,dataMask:6}},{bits:26998,formatInfo:{errorCorrectionLevel:0,dataMask:7}},{bits:5769,formatInfo:{errorCorrectionLevel:3,dataMask:0}},{bits:5054,formatInfo:{errorCorrectionLevel:3,dataMask:1}},{bits:7399,formatInfo:{errorCorrectionLevel:3,dataMask:2}},{bits:6608,formatInfo:{errorCorrectionLevel:3,dataMask:3}},{bits:1890,formatInfo:{errorCorrectionLevel:3,dataMask:4}},{bits:597,formatInfo:{errorCorrectionLevel:3,dataMask:5}},{bits:3340,formatInfo:{errorCorrectionLevel:3,dataMask:6}},{bits:2107,formatInfo:{errorCorrectionLevel:3,dataMask:7}},{bits:13663,formatInfo:{errorCorrectionLevel:2,dataMask:0}},{bits:12392,formatInfo:{errorCorrectionLevel:2,dataMask:1}},{bits:16177,formatInfo:{errorCorrectionLevel:2,dataMask:2}},{bits:14854,formatInfo:{errorCorrectionLevel:2,dataMask:3}},{bits:9396,formatInfo:{errorCorrectionLevel:2,dataMask:4}},{bits:8579,formatInfo:{errorCorrectionLevel:2,dataMask:5}},{bits:11994,formatInfo:{errorCorrectionLevel:2,dataMask:6}},{bits:11245,formatInfo:{errorCorrectionLevel:2,dataMask:7}}],x=[function(A){return(A.y+A.x)%2===0},function(A){return A.y%2===0},function(A){return A.x%3===0},function(A){return(A.y+A.x)%3===0},function(A){return(Math.floor(A.y/2)+Math.floor(A.x/3))%2===0},function(A){return A.x*A.y%2+A.x*A.y%3===0},function(A){return(A.y*A.x%2+A.y*A.x%3)%2===0},function(A){return((A.y+A.x)%2+A.y*A.x%3)%2===0}];function h(A){var T=17+4*A.versionNumber,F=s.BitMatrix.createEmpty(T,T);F.setRegion(0,0,9,9,!0),F.setRegion(T-8,0,8,9,!0),F.setRegion(0,T-8,9,8,!0);for(var R=0,d=A.alignmentPatternCenters;R<d.length;R++)for(var p=d[R],_=0,b=A.alignmentPatternCenters;_<b.length;_++){var m=b[_];p===6&&m===6||p===6&&m===T-7||p===T-7&&m===6||F.setRegion(p-2,m-2,5,5,!0)}return F.setRegion(6,9,1,T-17,!0),F.setRegion(9,6,T-17,1,!0),A.versionNumber>6&&(F.setRegion(T-11,0,3,6,!0),F.setRegion(0,T-11,6,3,!0)),F}function C(A,T,F){for(var R=x[F.dataMask],d=A.height,p=h(T),_=[],b=0,m=0,E=!0,S=d-1;S>0;S-=2){S===6&&S--;for(var Q=0;Q<d;Q++)for(var Z=E?d-1-Q:Q,M=0;M<2;M++){var te=S-M;if(!p.get(te,Z)){m++;var ie=A.get(te,Z);R({y:Z,x:te})&&(ie=!ie),b=u(ie,b),m===8&&(_.push(b),m=0,b=0)}}E=!E}return _}function w(A){var T=A.height,F=Math.floor((T-17)/4);if(F<=6)return c.VERSIONS[F-1];for(var R=0,d=5;d>=0;d--)for(var p=T-9;p>=T-11;p--)R=u(A.get(p,d),R);for(var _=0,p=5;p>=0;p--)for(var d=T-9;d>=T-11;d--)_=u(A.get(p,d),_);for(var b=1/0,m,E=0,S=c.VERSIONS;E<S.length;E++){var Q=S[E];if(Q.infoBits===R||Q.infoBits===_)return Q;var Z=l(R,Q.infoBits);Z<b&&(m=Q,b=Z),Z=l(_,Q.infoBits),Z<b&&(m=Q,b=Z)}if(b<=3)return m}function k(A){for(var T=0,F=0;F<=8;F++)F!==6&&(T=u(A.get(F,8),T));for(var R=7;R>=0;R--)R!==6&&(T=u(A.get(8,R),T));for(var d=A.height,p=0,R=d-1;R>=d-7;R--)p=u(A.get(8,R),p);for(var F=d-8;F<d;F++)p=u(A.get(F,8),p);for(var _=1/0,b=null,m=0,E=f;m<E.length;m++){var S=E[m],Q=S.bits,Z=S.formatInfo;if(Q===T||Q===p)return Z;var M=l(T,Q);M<_&&(b=Z,_=M),T!==p&&(M=l(p,Q),M<_&&(b=Z,_=M))}return _<=3?b:null}function O(A,T,F){var R=T.errorCorrectionLevels[F],d=[],p=0;if(R.ecBlocks.forEach(function(ie){for(var ue=0;ue<ie.numBlocks;ue++)d.push({numDataCodewords:ie.dataCodewordsPerBlock,codewords:[]}),p+=ie.dataCodewordsPerBlock+R.ecCodewordsPerBlock}),A.length<p)return null;A=A.slice(0,p);for(var _=R.ecBlocks[0].dataCodewordsPerBlock,b=0;b<_;b++)for(var m=0,E=d;m<E.length;m++){var S=E[m];S.codewords.push(A.shift())}if(R.ecBlocks.length>1)for(var Q=R.ecBlocks[0].numBlocks,Z=R.ecBlocks[1].numBlocks,b=0;b<Z;b++)d[Q+b].codewords.push(A.shift());for(;A.length>0;)for(var M=0,te=d;M<te.length;M++){var S=te[M];S.codewords.push(A.shift())}return d}function z(A){var T=w(A);if(!T)return null;var F=k(A);if(!F)return null;var R=C(A,T,F),d=O(R,T,F.errorCorrectionLevel);if(!d)return null;for(var p=d.reduce(function(M,te){return M+te.numDataCodewords},0),_=new Uint8ClampedArray(p),b=0,m=0,E=d;m<E.length;m++){var S=E[m],Q=a.decode(S.codewords,S.codewords.length-S.numDataCodewords);if(!Q)return null;for(var Z=0;Z<S.numDataCodewords;Z++)_[b++]=Q[Z]}try{return o.decode(_,T.versionNumber)}catch{return null}}function P(A){if(A==null)return null;var T=z(A);if(T)return T;for(var F=0;F<A.width;F++)for(var R=F+1;R<A.height;R++)A.get(F,R)!==A.get(R,F)&&(A.set(F,R,!A.get(F,R)),A.set(R,F,!A.get(R,F)));return z(A)}n.decode=P},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(7),o=i(8),a;(function(w){w.Numeric="numeric",w.Alphanumeric="alphanumeric",w.Byte="byte",w.Kanji="kanji",w.ECI="eci"})(a=n.Mode||(n.Mode={}));var c;(function(w){w[w.Terminator=0]="Terminator",w[w.Numeric=1]="Numeric",w[w.Alphanumeric=2]="Alphanumeric",w[w.Byte=4]="Byte",w[w.Kanji=8]="Kanji",w[w.ECI=7]="ECI"})(c||(c={}));function l(w,k){for(var O=[],z="",P=[10,12,14][k],A=w.readBits(P);A>=3;){var T=w.readBits(10);if(T>=1e3)throw new Error("Invalid numeric value above 999");var F=Math.floor(T/100),R=Math.floor(T/10)%10,d=T%10;O.push(48+F,48+R,48+d),z+=F.toString()+R.toString()+d.toString(),A-=3}if(A===2){var T=w.readBits(7);if(T>=100)throw new Error("Invalid numeric value above 99");var F=Math.floor(T/10),R=T%10;O.push(48+F,48+R),z+=F.toString()+R.toString()}else if(A===1){var T=w.readBits(4);if(T>=10)throw new Error("Invalid numeric value above 9");O.push(48+T),z+=T.toString()}return{bytes:O,text:z}}var u=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function f(w,k){for(var O=[],z="",P=[9,11,13][k],A=w.readBits(P);A>=2;){var T=w.readBits(11),F=Math.floor(T/45),R=T%45;O.push(u[F].charCodeAt(0),u[R].charCodeAt(0)),z+=u[F]+u[R],A-=2}if(A===1){var F=w.readBits(6);O.push(u[F].charCodeAt(0)),z+=u[F]}return{bytes:O,text:z}}function x(w,k){for(var O=[],z="",P=[8,16,16][k],A=w.readBits(P),T=0;T<A;T++){var F=w.readBits(8);O.push(F)}try{z+=decodeURIComponent(O.map(function(R){return"%"+("0"+R.toString(16)).substr(-2)}).join(""))}catch{}return{bytes:O,text:z}}function h(w,k){for(var O=[],z="",P=[8,10,12][k],A=w.readBits(P),T=0;T<A;T++){var F=w.readBits(13),R=Math.floor(F/192)<<8|F%192;R<7936?R+=33088:R+=49472,O.push(R>>8,R&255),z+=String.fromCharCode(o.shiftJISTable[R])}return{bytes:O,text:z}}function C(w,k){for(var O,z,P,A,T=new s.BitStream(w),F=k<=9?0:k<=26?1:2,R={text:"",bytes:[],chunks:[],version:k};T.available()>=4;){var d=T.readBits(4);if(d===c.Terminator)return R;if(d===c.ECI)T.readBits(1)===0?R.chunks.push({type:a.ECI,assignmentNumber:T.readBits(7)}):T.readBits(1)===0?R.chunks.push({type:a.ECI,assignmentNumber:T.readBits(14)}):T.readBits(1)===0?R.chunks.push({type:a.ECI,assignmentNumber:T.readBits(21)}):R.chunks.push({type:a.ECI,assignmentNumber:-1});else if(d===c.Numeric){var p=l(T,F);R.text+=p.text,(O=R.bytes).push.apply(O,p.bytes),R.chunks.push({type:a.Numeric,text:p.text})}else if(d===c.Alphanumeric){var _=f(T,F);R.text+=_.text,(z=R.bytes).push.apply(z,_.bytes),R.chunks.push({type:a.Alphanumeric,text:_.text})}else if(d===c.Byte){var b=x(T,F);R.text+=b.text,(P=R.bytes).push.apply(P,b.bytes),R.chunks.push({type:a.Byte,bytes:b.bytes,text:b.text})}else if(d===c.Kanji){var m=h(T,F);R.text+=m.text,(A=R.bytes).push.apply(A,m.bytes),R.chunks.push({type:a.Kanji,bytes:m.bytes,text:m.text})}}if(T.available()===0||T.readBits(T.available())===0)return R}n.decode=C},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function o(a){this.byteOffset=0,this.bitOffset=0,this.bytes=a}return o.prototype.readBits=function(a){if(a<1||a>32||a>this.available())throw new Error("Cannot read "+a.toString()+" bits");var c=0;if(this.bitOffset>0){var l=8-this.bitOffset,u=a<l?a:l,f=l-u,x=255>>8-u<<f;c=(this.bytes[this.byteOffset]&x)>>f,a-=u,this.bitOffset+=u,this.bitOffset===8&&(this.bitOffset=0,this.byteOffset++)}if(a>0){for(;a>=8;)c=c<<8|this.bytes[this.byteOffset]&255,this.byteOffset++,a-=8;if(a>0){var f=8-a,x=255>>f<<f;c=c<<a|(this.bytes[this.byteOffset]&x)>>f,this.bitOffset+=a}}return c},o.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},o}();n.BitStream=s},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.shiftJISTable={32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:165,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:8254,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:92,33120:12316,33121:8214,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:8722,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:162,33170:163,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:172,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(1),o=i(2);function a(f,x,h,C){var w;x.degree()<h.degree()&&(w=[h,x],x=w[0],h=w[1]);for(var k=x,O=h,z=f.zero,P=f.one;O.degree()>=C/2;){var A=k,T=z;if(k=O,z=P,k.isZero())return null;O=A;for(var F=f.zero,R=k.getCoefficient(k.degree()),d=f.inverse(R);O.degree()>=k.degree()&&!O.isZero();){var p=O.degree()-k.degree(),_=f.multiply(O.getCoefficient(O.degree()),d);F=F.addOrSubtract(f.buildMonomial(p,_)),O=O.addOrSubtract(k.multiplyByMonomial(p,_))}if(P=F.multiplyPoly(z).addOrSubtract(T),O.degree()>=k.degree())return null}var b=P.getCoefficient(0);if(b===0)return null;var m=f.inverse(b);return[P.multiply(m),O.multiply(m)]}function c(f,x){var h=x.degree();if(h===1)return[x.getCoefficient(1)];for(var C=new Array(h),w=0,k=1;k<f.size&&w<h;k++)x.evaluateAt(k)===0&&(C[w]=f.inverse(k),w++);return w!==h?null:C}function l(f,x,h){for(var C=h.length,w=new Array(C),k=0;k<C;k++){for(var O=f.inverse(h[k]),z=1,P=0;P<C;P++)k!==P&&(z=f.multiply(z,s.addOrSubtractGF(1,f.multiply(h[P],O))));w[k]=f.multiply(x.evaluateAt(O),f.inverse(z)),f.generatorBase!==0&&(w[k]=f.multiply(w[k],O))}return w}function u(f,x){var h=new Uint8ClampedArray(f.length);h.set(f);for(var C=new s.default(285,256,0),w=new o.default(C,h),k=new Uint8ClampedArray(x),O=!1,z=0;z<x;z++){var P=w.evaluateAt(C.exp(z+C.generatorBase));k[k.length-1-z]=P,P!==0&&(O=!0)}if(!O)return h;var A=new o.default(C,k),T=a(C,C.buildMonomial(x,1),A,x);if(T===null)return null;var F=c(C,T[0]);if(F==null)return null;for(var R=l(C,T[1],F),d=0;d<F.length;d++){var p=h.length-1-C.log(F[d]);if(p<0)return null;h[p]=s.addOrSubtractGF(h[p],R[d])}return h}n.decode=u},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.VERSIONS=[{infoBits:null,versionNumber:1,alignmentPatternCenters:[],errorCorrectionLevels:[{ecCodewordsPerBlock:7,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:13,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:17,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:2,alignmentPatternCenters:[6,18],errorCorrectionLevels:[{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:34}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:28}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]}]},{infoBits:null,versionNumber:3,alignmentPatternCenters:[6,22],errorCorrectionLevels:[{ecCodewordsPerBlock:15,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:55}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:13}]}]},{infoBits:null,versionNumber:4,alignmentPatternCenters:[6,26],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:80}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:32}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:5,alignmentPatternCenters:[6,30],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:43}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:11},{numBlocks:2,dataCodewordsPerBlock:12}]}]},{infoBits:null,versionNumber:6,alignmentPatternCenters:[6,34],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:27}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:31892,versionNumber:7,alignmentPatternCenters:[6,22,38],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:78}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:31}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:13},{numBlocks:1,dataCodewordsPerBlock:14}]}]},{infoBits:34236,versionNumber:8,alignmentPatternCenters:[6,24,42],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:97}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:38},{numBlocks:2,dataCodewordsPerBlock:39}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:18},{numBlocks:2,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:14},{numBlocks:2,dataCodewordsPerBlock:15}]}]},{infoBits:39577,versionNumber:9,alignmentPatternCenters:[6,26,46],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:12},{numBlocks:4,dataCodewordsPerBlock:13}]}]},{infoBits:42195,versionNumber:10,alignmentPatternCenters:[6,28,50],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68},{numBlocks:2,dataCodewordsPerBlock:69}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:43},{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]}]},{infoBits:48118,versionNumber:11,alignmentPatternCenters:[6,30,54],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:81}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:50},{numBlocks:4,dataCodewordsPerBlock:51}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:22},{numBlocks:4,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:12},{numBlocks:8,dataCodewordsPerBlock:13}]}]},{infoBits:51042,versionNumber:12,alignmentPatternCenters:[6,32,58],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:92},{numBlocks:2,dataCodewordsPerBlock:93}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:20},{numBlocks:6,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:55367,versionNumber:13,alignmentPatternCenters:[6,34,62],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:37},{numBlocks:1,dataCodewordsPerBlock:38}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:20},{numBlocks:4,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:11},{numBlocks:4,dataCodewordsPerBlock:12}]}]},{infoBits:58893,versionNumber:14,alignmentPatternCenters:[6,26,46,66],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:40},{numBlocks:5,dataCodewordsPerBlock:41}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:16},{numBlocks:5,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:5,dataCodewordsPerBlock:13}]}]},{infoBits:63784,versionNumber:15,alignmentPatternCenters:[6,26,48,70],errorCorrectionLevels:[{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:87},{numBlocks:1,dataCodewordsPerBlock:88}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:41},{numBlocks:5,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:7,dataCodewordsPerBlock:13}]}]},{infoBits:68472,versionNumber:16,alignmentPatternCenters:[6,26,50,74],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:98},{numBlocks:1,dataCodewordsPerBlock:99}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:70749,versionNumber:17,alignmentPatternCenters:[6,30,54,78],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:1,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22},{numBlocks:15,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:17,dataCodewordsPerBlock:15}]}]},{infoBits:76311,versionNumber:18,alignmentPatternCenters:[6,30,56,82],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:120},{numBlocks:1,dataCodewordsPerBlock:121}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:43},{numBlocks:4,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:1,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:19,dataCodewordsPerBlock:15}]}]},{infoBits:79154,versionNumber:19,alignmentPatternCenters:[6,30,58,86],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:113},{numBlocks:4,dataCodewordsPerBlock:114}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:44},{numBlocks:11,dataCodewordsPerBlock:45}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:21},{numBlocks:4,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:13},{numBlocks:16,dataCodewordsPerBlock:14}]}]},{infoBits:84390,versionNumber:20,alignmentPatternCenters:[6,34,62,90],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:41},{numBlocks:13,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:5,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:15},{numBlocks:10,dataCodewordsPerBlock:16}]}]},{infoBits:87683,versionNumber:21,alignmentPatternCenters:[6,28,50,72,94],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:116},{numBlocks:4,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:16},{numBlocks:6,dataCodewordsPerBlock:17}]}]},{infoBits:92361,versionNumber:22,alignmentPatternCenters:[6,26,50,74,98],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:111},{numBlocks:7,dataCodewordsPerBlock:112}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:13}]}]},{infoBits:96236,versionNumber:23,alignmentPatternCenters:[6,30,54,74,102],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:121},{numBlocks:5,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:47},{numBlocks:14,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:16,dataCodewordsPerBlock:15},{numBlocks:14,dataCodewordsPerBlock:16}]}]},{infoBits:102084,versionNumber:24,alignmentPatternCenters:[6,28,54,80,106],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:45},{numBlocks:14,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:30,dataCodewordsPerBlock:16},{numBlocks:2,dataCodewordsPerBlock:17}]}]},{infoBits:102881,versionNumber:25,alignmentPatternCenters:[6,32,58,84,110],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:106},{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:47},{numBlocks:13,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:110507,versionNumber:26,alignmentPatternCenters:[6,30,58,86,114],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:114},{numBlocks:2,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:46},{numBlocks:4,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:28,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:33,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]}]},{infoBits:110734,versionNumber:27,alignmentPatternCenters:[6,34,62,90,118],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:23},{numBlocks:26,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:117786,versionNumber:28,alignmentPatternCenters:[6,26,50,74,98,122],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:117},{numBlocks:10,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:45},{numBlocks:23,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:24},{numBlocks:31,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:31,dataCodewordsPerBlock:16}]}]},{infoBits:119615,versionNumber:29,alignmentPatternCenters:[6,30,54,78,102,126],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:116},{numBlocks:7,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:21,dataCodewordsPerBlock:45},{numBlocks:7,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:23},{numBlocks:37,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:26,dataCodewordsPerBlock:16}]}]},{infoBits:126325,versionNumber:30,alignmentPatternCenters:[6,26,52,78,104,130],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:115},{numBlocks:10,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:47},{numBlocks:10,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:25,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:25,dataCodewordsPerBlock:16}]}]},{infoBits:127568,versionNumber:31,alignmentPatternCenters:[6,30,56,82,108,134],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:3,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:46},{numBlocks:29,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:24},{numBlocks:1,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:133589,versionNumber:32,alignmentPatternCenters:[6,34,60,86,112,138],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:24},{numBlocks:35,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:35,dataCodewordsPerBlock:16}]}]},{infoBits:136944,versionNumber:33,alignmentPatternCenters:[6,30,58,86,114,142],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:21,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:24},{numBlocks:19,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:141498,versionNumber:34,alignmentPatternCenters:[6,34,62,90,118,146],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:6,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:44,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:59,dataCodewordsPerBlock:16},{numBlocks:1,dataCodewordsPerBlock:17}]}]},{infoBits:145311,versionNumber:35,alignmentPatternCenters:[6,30,54,78,102,126,150],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:121},{numBlocks:7,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:47},{numBlocks:26,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:39,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:41,dataCodewordsPerBlock:16}]}]},{infoBits:150283,versionNumber:36,alignmentPatternCenters:[6,24,50,76,102,128,154],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:121},{numBlocks:14,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:47},{numBlocks:34,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:46,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:64,dataCodewordsPerBlock:16}]}]},{infoBits:152622,versionNumber:37,alignmentPatternCenters:[6,28,54,80,106,132,158],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:46},{numBlocks:14,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:49,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:24,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:158308,versionNumber:38,alignmentPatternCenters:[6,32,58,84,110,136,162],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:122},{numBlocks:18,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:46},{numBlocks:32,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:48,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:15},{numBlocks:32,dataCodewordsPerBlock:16}]}]},{infoBits:161089,versionNumber:39,alignmentPatternCenters:[6,26,54,82,110,138,166],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:40,dataCodewordsPerBlock:47},{numBlocks:7,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:43,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:15},{numBlocks:67,dataCodewordsPerBlock:16}]}]},{infoBits:167017,versionNumber:40,alignmentPatternCenters:[6,30,58,86,114,142,170],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:118},{numBlocks:6,dataCodewordsPerBlock:119}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:18,dataCodewordsPerBlock:47},{numBlocks:31,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:24},{numBlocks:34,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:15},{numBlocks:61,dataCodewordsPerBlock:16}]}]}]},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(0);function o(u,f,x,h){var C=u.x-f.x+x.x-h.x,w=u.y-f.y+x.y-h.y;if(C===0&&w===0)return{a11:f.x-u.x,a12:f.y-u.y,a13:0,a21:x.x-f.x,a22:x.y-f.y,a23:0,a31:u.x,a32:u.y,a33:1};var k=f.x-x.x,O=h.x-x.x,z=f.y-x.y,P=h.y-x.y,A=k*P-O*z,T=(C*P-O*w)/A,F=(k*w-C*z)/A;return{a11:f.x-u.x+T*f.x,a12:f.y-u.y+T*f.y,a13:T,a21:h.x-u.x+F*h.x,a22:h.y-u.y+F*h.y,a23:F,a31:u.x,a32:u.y,a33:1}}function a(u,f,x,h){var C=o(u,f,x,h);return{a11:C.a22*C.a33-C.a23*C.a32,a12:C.a13*C.a32-C.a12*C.a33,a13:C.a12*C.a23-C.a13*C.a22,a21:C.a23*C.a31-C.a21*C.a33,a22:C.a11*C.a33-C.a13*C.a31,a23:C.a13*C.a21-C.a11*C.a23,a31:C.a21*C.a32-C.a22*C.a31,a32:C.a12*C.a31-C.a11*C.a32,a33:C.a11*C.a22-C.a12*C.a21}}function c(u,f){return{a11:u.a11*f.a11+u.a21*f.a12+u.a31*f.a13,a12:u.a12*f.a11+u.a22*f.a12+u.a32*f.a13,a13:u.a13*f.a11+u.a23*f.a12+u.a33*f.a13,a21:u.a11*f.a21+u.a21*f.a22+u.a31*f.a23,a22:u.a12*f.a21+u.a22*f.a22+u.a32*f.a23,a23:u.a13*f.a21+u.a23*f.a22+u.a33*f.a23,a31:u.a11*f.a31+u.a21*f.a32+u.a31*f.a33,a32:u.a12*f.a31+u.a22*f.a32+u.a32*f.a33,a33:u.a13*f.a31+u.a23*f.a32+u.a33*f.a33}}function l(u,f){for(var x=a({x:3.5,y:3.5},{x:f.dimension-3.5,y:3.5},{x:f.dimension-6.5,y:f.dimension-6.5},{x:3.5,y:f.dimension-3.5}),h=o(f.topLeft,f.topRight,f.alignmentPattern,f.bottomLeft),C=c(h,x),w=s.BitMatrix.createEmpty(f.dimension,f.dimension),k=function(F,R){var d=C.a13*F+C.a23*R+C.a33;return{x:(C.a11*F+C.a21*R+C.a31)/d,y:(C.a12*F+C.a22*R+C.a32)/d}},O=0;O<f.dimension;O++)for(var z=0;z<f.dimension;z++){var P=z+.5,A=O+.5,T=k(P,A);w.set(z,O,u.get(Math.floor(T.x),Math.floor(T.y)))}return{matrix:w,mappingFunction:k}}n.extract=l},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=4,o=.5,a=1.5,c=function(P,A){return Math.sqrt(Math.pow(A.x-P.x,2)+Math.pow(A.y-P.y,2))};function l(P){return P.reduce(function(A,T){return A+T})}function u(P,A,T){var F,R,d,p,_=c(P,A),b=c(A,T),m=c(P,T),E,S,Q;return b>=_&&b>=m?(F=[A,P,T],E=F[0],S=F[1],Q=F[2]):m>=b&&m>=_?(R=[P,A,T],E=R[0],S=R[1],Q=R[2]):(d=[P,T,A],E=d[0],S=d[1],Q=d[2]),(Q.x-S.x)*(E.y-S.y)-(Q.y-S.y)*(E.x-S.x)<0&&(p=[Q,E],E=p[0],Q=p[1]),{bottomLeft:E,topLeft:S,topRight:Q}}function f(P,A,T,F){var R=(l(h(P,T,F,5))/7+l(h(P,A,F,5))/7+l(h(T,P,F,5))/7+l(h(A,P,F,5))/7)/4;if(R<1)throw new Error("Invalid module size");var d=Math.round(c(P,A)/R),p=Math.round(c(P,T)/R),_=Math.floor((d+p)/2)+7;switch(_%4){case 0:_++;break;case 2:_--;break}return{dimension:_,moduleSize:R}}function x(P,A,T,F){var R=[{x:Math.floor(P.x),y:Math.floor(P.y)}],d=Math.abs(A.y-P.y)>Math.abs(A.x-P.x),p,_,b,m;d?(p=Math.floor(P.y),_=Math.floor(P.x),b=Math.floor(A.y),m=Math.floor(A.x)):(p=Math.floor(P.x),_=Math.floor(P.y),b=Math.floor(A.x),m=Math.floor(A.y));for(var E=Math.abs(b-p),S=Math.abs(m-_),Q=Math.floor(-E/2),Z=p<b?1:-1,M=_<m?1:-1,te=!0,ie=p,ue=_;ie!==b+Z;ie+=Z){var ne=d?ue:ie,le=d?ie:ue;if(T.get(ne,le)!==te&&(te=!te,R.push({x:ne,y:le}),R.length===F+1))break;if(Q+=S,Q>0){if(ue===m)break;ue+=M,Q-=E}}for(var Ae=[],me=0;me<F;me++)R[me]&&R[me+1]?Ae.push(c(R[me],R[me+1])):Ae.push(0);return Ae}function h(P,A,T,F){var R,d=A.y-P.y,p=A.x-P.x,_=x(P,A,T,Math.ceil(F/2)),b=x(P,{x:P.x-p,y:P.y-d},T,Math.ceil(F/2)),m=_.shift()+b.shift()-1;return(R=b.concat(m)).concat.apply(R,_)}function C(P,A){var T=l(P)/l(A),F=0;return A.forEach(function(R,d){F+=Math.pow(P[d]-R*T,2)}),{averageSize:T,error:F}}function w(P,A,T){try{var F=h(P,{x:-1,y:P.y},T,A.length),R=h(P,{x:P.x,y:-1},T,A.length),d={x:Math.max(0,P.x-P.y)-1,y:Math.max(0,P.y-P.x)-1},p=h(P,d,T,A.length),_={x:Math.min(T.width,P.x+P.y)+1,y:Math.min(T.height,P.y+P.x)+1},b=h(P,_,T,A.length),m=C(F,A),E=C(R,A),S=C(p,A),Q=C(b,A),Z=Math.sqrt(m.error*m.error+E.error*E.error+S.error*S.error+Q.error*Q.error),M=(m.averageSize+E.averageSize+S.averageSize+Q.averageSize)/4,te=(Math.pow(m.averageSize-M,2)+Math.pow(E.averageSize-M,2)+Math.pow(S.averageSize-M,2)+Math.pow(Q.averageSize-M,2))/M;return Z+te}catch{return 1/0}}function k(P,A){for(var T=Math.round(A.x);P.get(T,Math.round(A.y));)T--;for(var F=Math.round(A.x);P.get(F,Math.round(A.y));)F++;for(var R=(T+F)/2,d=Math.round(A.y);P.get(Math.round(R),d);)d--;for(var p=Math.round(A.y);P.get(Math.round(R),p);)p++;var _=(d+p)/2;return{x:R,y:_}}function O(P){for(var A=[],T=[],F=[],R=[],d=function(ne){for(var le=0,Ae=!1,me=[0,0,0,0,0],W=function(K){var v=P.get(K,ne);if(v===Ae)le++;else{me=[me[1],me[2],me[3],me[4],le],le=1,Ae=v;var J=l(me)/7,xe=Math.abs(me[0]-J)<J&&Math.abs(me[1]-J)<J&&Math.abs(me[2]-3*J)<3*J&&Math.abs(me[3]-J)<J&&Math.abs(me[4]-J)<J&&!v,fe=l(me.slice(-3))/3,he=Math.abs(me[2]-fe)<fe&&Math.abs(me[3]-fe)<fe&&Math.abs(me[4]-fe)<fe&&v;if(xe){var y=K-me[3]-me[4],g=y-me[2],B={startX:g,endX:y,y:ne},I=T.filter(function(q){return g>=q.bottom.startX&&g<=q.bottom.endX||y>=q.bottom.startX&&g<=q.bottom.endX||g<=q.bottom.startX&&y>=q.bottom.endX&&me[2]/(q.bottom.endX-q.bottom.startX)<a&&me[2]/(q.bottom.endX-q.bottom.startX)>o});I.length>0?I[0].bottom=B:T.push({top:B,bottom:B})}if(he){var j=K-me[4],$=j-me[3],B={startX:$,y:ne,endX:j},I=R.filter(function(oe){return $>=oe.bottom.startX&&$<=oe.bottom.endX||j>=oe.bottom.startX&&$<=oe.bottom.endX||$<=oe.bottom.startX&&j>=oe.bottom.endX&&me[2]/(oe.bottom.endX-oe.bottom.startX)<a&&me[2]/(oe.bottom.endX-oe.bottom.startX)>o});I.length>0?I[0].bottom=B:R.push({top:B,bottom:B})}}},re=-1;re<=P.width;re++)W(re);A.push.apply(A,T.filter(function(K){return K.bottom.y!==ne&&K.bottom.y-K.top.y>=2})),T=T.filter(function(K){return K.bottom.y===ne}),F.push.apply(F,R.filter(function(K){return K.bottom.y!==ne})),R=R.filter(function(K){return K.bottom.y===ne})},p=0;p<=P.height;p++)d(p);A.push.apply(A,T.filter(function(ne){return ne.bottom.y-ne.top.y>=2})),F.push.apply(F,R);var _=A.filter(function(ne){return ne.bottom.y-ne.top.y>=2}).map(function(ne){var le=(ne.top.startX+ne.top.endX+ne.bottom.startX+ne.bottom.endX)/4,Ae=(ne.top.y+ne.bottom.y+1)/2;if(P.get(Math.round(le),Math.round(Ae))){var me=[ne.top.endX-ne.top.startX,ne.bottom.endX-ne.bottom.startX,ne.bottom.y-ne.top.y+1],W=l(me)/me.length,re=w({x:Math.round(le),y:Math.round(Ae)},[1,1,3,1,1],P);return{score:re,x:le,y:Ae,size:W}}}).filter(function(ne){return!!ne}).sort(function(ne,le){return ne.score-le.score}).map(function(ne,le,Ae){if(le>s)return null;var me=Ae.filter(function(re,K){return le!==K}).map(function(re){return{x:re.x,y:re.y,score:re.score+Math.pow(re.size-ne.size,2)/ne.size,size:re.size}}).sort(function(re,K){return re.score-K.score});if(me.length<2)return null;var W=ne.score+me[0].score+me[1].score;return{points:[ne].concat(me.slice(0,2)),score:W}}).filter(function(ne){return!!ne}).sort(function(ne,le){return ne.score-le.score});if(_.length===0)return null;var b=u(_[0].points[0],_[0].points[1],_[0].points[2]),m=b.topRight,E=b.topLeft,S=b.bottomLeft,Q=z(P,F,m,E,S),Z=[];Q&&Z.push({alignmentPattern:{x:Q.alignmentPattern.x,y:Q.alignmentPattern.y},bottomLeft:{x:S.x,y:S.y},dimension:Q.dimension,topLeft:{x:E.x,y:E.y},topRight:{x:m.x,y:m.y}});var M=k(P,m),te=k(P,E),ie=k(P,S),ue=z(P,F,M,te,ie);return ue&&Z.push({alignmentPattern:{x:ue.alignmentPattern.x,y:ue.alignmentPattern.y},bottomLeft:{x:ie.x,y:ie.y},topLeft:{x:te.x,y:te.y},topRight:{x:M.x,y:M.y},dimension:ue.dimension}),Z.length===0?null:Z}n.locate=O;function z(P,A,T,F,R){var d,p,_;try{d=f(F,T,R,P),p=d.dimension,_=d.moduleSize}catch{return null}var b={x:T.x-F.x+R.x,y:T.y-F.y+R.y},m=(c(F,R)+c(F,T))/2/_,E=1-3/m,S={x:F.x+E*(b.x-F.x),y:F.y+E*(b.y-F.y)},Q=A.map(function(M){var te=(M.top.startX+M.top.endX+M.bottom.startX+M.bottom.endX)/4,ie=(M.top.y+M.bottom.y+1)/2;if(P.get(Math.floor(te),Math.floor(ie))){var ue=[M.top.endX-M.top.startX,M.bottom.endX-M.bottom.startX,M.bottom.y-M.top.y+1];l(ue)/ue.length;var ne=w({x:Math.floor(te),y:Math.floor(ie)},[1,1,1],P),le=ne+c({x:te,y:ie},S);return{x:te,y:ie,score:le}}}).filter(function(M){return!!M}).sort(function(M,te){return M.score-te.score}),Z=m>=15&&Q.length?Q[0]:S;return{alignmentPattern:Z,dimension:p}}}]).default})})(rm);var nF=rm.exports;const iF=tm(nF),sF={key:0,class:"overlay-dark p-3"},oF={class:"d-flex flex-column rounded p-3 z-1"},aF=de("span",{class:"text-center text-light mt-3"},"Scan a Messenger QR code",-1),cF={__name:"ScanModal",emits:["update_results"],setup(t,{expose:e,emit:r}){const n=Ke(!1),i=r,s=Ke(null),o=Ke(null),a=Ke(null);async function c(){n.value=!1,s.value.srcObject.getTracks().forEach(h=>h.stop()),s.value.remove(),o.value.remove(),a.value=null,s.value=null,o.value=null}async function l(){n.value=!0,await ec(),s.value=document.createElement("video"),a.value=o.value.getContext("2d"),navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1}).then(h=>{s.value.srcObject=h,s.value.setAttribute("playsinline",!0),s.value.play(),requestAnimationFrame(f)}).catch(h=>{console.error(`An error occurred: ${h}`)})}function u(h,C,w){a.value.beginPath(),a.value.moveTo(h.x,h.y),a.value.lineTo(C.x,C.y),a.value.lineWidth=4,a.value.strokeStyle=w,a.value.stroke()}function f(){if(n.value){if(s.value.readyState===s.value.HAVE_ENOUGH_DATA){o.value.height=s.value.videoHeight,o.value.width=s.value.videoWidth,a.value.drawImage(s.value,0,0,o.value.width,o.value.height);let h=a.value.getImageData(0,0,o.value.width,o.value.height),C=iF(h.data,h.width,h.height,{inversionAttempts:"dontInvert"});C&&(u(C.location.topLeftCorner,C.location.topRightCorner,"#FF3B58"),u(C.location.topRightCorner,C.location.bottomRightCorner,"#FF3B58"),u(C.location.bottomRightCorner,C.location.bottomLeftCorner,"#FF3B58"),u(C.location.bottomLeftCorner,C.location.topLeftCorner,"#FF3B58"),x(C.data),c())}requestAnimationFrame(f)}}async function x(h){if(await ve.db.getFromIndex("contacts","secret",h))return;const w=ve.peer.connect(h,{reliable:!0,metadata:{from:ht.secret,to:h}});w.on("open",()=>{w.send({type:"handshake",name:ht.name,secret:ht.secret,pubkey:ht.pubkey.armor()})}),w.on("data",async k=>{k.type=="handshake"&&(ve.connections[k.secret]={conn:null,items:[],notification:!1,pubkey:k.pubkey,online:!1,last_seen:0},ve.contacts.push({name:k.name,secret:k.secret,pubkey:k.pubkey}),await ve.db.transaction("contacts","readwrite").store.put({name:k.name,secret:k.secret,pubkey:k.pubkey}),i("update_results"),w.close())})}return e({show:l}),(h,C)=>n.value?(St(),It("div",sF,[de("div",oF,[de("canvas",{ref_key:"canvas",ref:o},null,512),aF,de("button",{class:"btn btn-outline-light mt-1 mx-auto",onClick:c},"Cancel")])])):Jr("",!0)}};var tl={},lF=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},nm={},nn={};let X8;const uF=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];nn.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};nn.getSymbolTotalCodewords=function(e){return uF[e]};nn.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};nn.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');X8=e};nn.isKanjiModeEnabled=function(){return typeof X8<"u"};nn.toSJIS=function(e){return X8(e)};var rd={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}t.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},t.from=function(n,i){if(t.isValid(n))return n;try{return e(n)}catch{return i}}})(rd);function im(){this.buffer=[],this.length=0}im.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let r=0;r<e;r++)this.putBit((t>>>e-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var fF=im;function rl(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}rl.prototype.set=function(t,e,r,n){const i=t*this.size+e;this.data[i]=r,n&&(this.reservedBit[i]=!0)};rl.prototype.get=function(t,e){return this.data[t*this.size+e]};rl.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r};rl.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var dF=rl,sm={};(function(t){const e=nn.getSymbolSize;t.getRowColCoords=function(n){if(n===1)return[];const i=Math.floor(n/7)+2,s=e(n),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let c=1;c<i-1;c++)a[c]=a[c-1]-o;return a.push(6),a.reverse()},t.getPositions=function(n){const i=[],s=t.getRowColCoords(n),o=s.length;for(let a=0;a<o;a++)for(let c=0;c<o;c++)a===0&&c===0||a===0&&c===o-1||a===o-1&&c===0||i.push([s[a],s[c]]);return i}})(sm);var om={};const xF=nn.getSymbolSize,R5=7;om.getPositions=function(e){const r=xF(e);return[[0,0],[r-R5,0],[0,r-R5]]};var am={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,c=0,l=null,u=null;for(let f=0;f<s;f++){a=c=0,l=u=null;for(let x=0;x<s;x++){let h=i.get(f,x);h===l?a++:(a>=5&&(o+=e.N1+(a-5)),l=h,a=1),h=i.get(x,f),h===u?c++:(c>=5&&(o+=e.N1+(c-5)),u=h,c=1)}a>=5&&(o+=e.N1+(a-5)),c>=5&&(o+=e.N1+(c-5))}return o},t.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let c=0;c<s-1;c++){const l=i.get(a,c)+i.get(a,c+1)+i.get(a+1,c)+i.get(a+1,c+1);(l===4||l===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,c=0;for(let l=0;l<s;l++){a=c=0;for(let u=0;u<s;u++)a=a<<1&2047|i.get(l,u),u>=10&&(a===1488||a===93)&&o++,c=c<<1&2047|i.get(u,l),u>=10&&(c===1488||c===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let c=0;c<o;c++)s+=i.data[c];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function r(n,i,s){switch(n){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}t.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let c=0;c<o;c++)s.isReserved(c,a)||s.xor(c,a,r(i,c,a))},t.getBestMask=function(i,s){const o=Object.keys(t.Patterns).length;let a=0,c=1/0;for(let l=0;l<o;l++){s(l),t.applyMask(l,i);const u=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(l,i),u<c&&(c=u,a=l)}return a}})(am);var nd={};const _s=rd,Fl=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Sl=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];nd.getBlocksCount=function(e,r){switch(r){case _s.L:return Fl[(e-1)*4+0];case _s.M:return Fl[(e-1)*4+1];case _s.Q:return Fl[(e-1)*4+2];case _s.H:return Fl[(e-1)*4+3];default:return}};nd.getTotalCodewordsCount=function(e,r){switch(r){case _s.L:return Sl[(e-1)*4+0];case _s.M:return Sl[(e-1)*4+1];case _s.Q:return Sl[(e-1)*4+2];case _s.H:return Sl[(e-1)*4+3];default:return}};var cm={},id={};const sc=new Uint8Array(512),zu=new Uint8Array(256);(function(){let e=1;for(let r=0;r<255;r++)sc[r]=e,zu[e]=r,e<<=1,e&256&&(e^=285);for(let r=255;r<512;r++)sc[r]=sc[r-255]})();id.log=function(e){if(e<1)throw new Error("log("+e+")");return zu[e]};id.exp=function(e){return sc[e]};id.mul=function(e,r){return e===0||r===0?0:sc[zu[e]+zu[r]]};(function(t){const e=id;t.mul=function(n,i){const s=new Uint8Array(n.length+i.length-1);for(let o=0;o<n.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=e.mul(n[o],i[a]);return s},t.mod=function(n,i){let s=new Uint8Array(n);for(;s.length-i.length>=0;){const o=s[0];for(let c=0;c<i.length;c++)s[c]^=e.mul(i[c],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},t.generateECPolynomial=function(n){let i=new Uint8Array([1]);for(let s=0;s<n;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(cm);const lm=cm;function Q8(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}Q8.prototype.initialize=function(e){this.degree=e,this.genPoly=lm.generateECPolynomial(this.degree)};Q8.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(e.length+this.degree);r.set(e);const n=lm.mod(r,this.genPoly),i=this.degree-n.length;if(i>0){const s=new Uint8Array(this.degree);return s.set(n,i),s}return n};var hF=Q8,um={},Qs={},Z8={};Z8.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var Ei={};const fm="[0-9]+",pF="[A-Z $%*+\\-./:]+";let Bc="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Bc=Bc.replace(/u/g,"\\u");const mF="(?:(?![A-Z0-9 $%*+\\-./:]|"+Bc+`)(?:.|[\r
]))+`;Ei.KANJI=new RegExp(Bc,"g");Ei.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Ei.BYTE=new RegExp(mF,"g");Ei.NUMERIC=new RegExp(fm,"g");Ei.ALPHANUMERIC=new RegExp(pF,"g");const gF=new RegExp("^"+Bc+"$"),yF=new RegExp("^"+fm+"$"),EF=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Ei.testKanji=function(e){return gF.test(e)};Ei.testNumeric=function(e){return yF.test(e)};Ei.testAlphanumeric=function(e){return EF.test(e)};(function(t){const e=Z8,r=Ei;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return r.testNumeric(s)?t.NUMERIC:r.testAlphanumeric(s)?t.ALPHANUMERIC:r.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,o){if(t.isValid(s))return s;try{return n(s)}catch{return o}}})(Qs);(function(t){const e=nn,r=nd,n=rd,i=Qs,s=Z8,o=7973,a=e.getBCHDigit(o);function c(x,h,C){for(let w=1;w<=40;w++)if(h<=t.getCapacity(w,C,x))return w}function l(x,h){return i.getCharCountIndicator(x,h)+4}function u(x,h){let C=0;return x.forEach(function(w){const k=l(w.mode,h);C+=k+w.getBitsLength()}),C}function f(x,h){for(let C=1;C<=40;C++)if(u(x,C)<=t.getCapacity(C,h,i.MIXED))return C}t.from=function(h,C){return s.isValid(h)?parseInt(h,10):C},t.getCapacity=function(h,C,w){if(!s.isValid(h))throw new Error("Invalid QR Code version");typeof w>"u"&&(w=i.BYTE);const k=e.getSymbolTotalCodewords(h),O=r.getTotalCodewordsCount(h,C),z=(k-O)*8;if(w===i.MIXED)return z;const P=z-l(w,h);switch(w){case i.NUMERIC:return Math.floor(P/10*3);case i.ALPHANUMERIC:return Math.floor(P/11*2);case i.KANJI:return Math.floor(P/13);case i.BYTE:default:return Math.floor(P/8)}},t.getBestVersionForData=function(h,C){let w;const k=n.from(C,n.M);if(Array.isArray(h)){if(h.length>1)return f(h,k);if(h.length===0)return 1;w=h[0]}else w=h;return c(w.mode,w.getLength(),k)},t.getEncodedBits=function(h){if(!s.isValid(h)||h<7)throw new Error("Invalid QR Code version");let C=h<<12;for(;e.getBCHDigit(C)-a>=0;)C^=o<<e.getBCHDigit(C)-a;return h<<12|C}})(um);var dm={};const X1=nn,xm=1335,bF=21522,O5=X1.getBCHDigit(xm);dm.getEncodedBits=function(e,r){const n=e.bit<<3|r;let i=n<<10;for(;X1.getBCHDigit(i)-O5>=0;)i^=xm<<X1.getBCHDigit(i)-O5;return(n<<10|i)^bF};var hm={};const CF=Qs;function ta(t){this.mode=CF.NUMERIC,this.data=t.toString()}ta.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};ta.prototype.getLength=function(){return this.data.length};ta.prototype.getBitsLength=function(){return ta.getBitsLength(this.data.length)};ta.prototype.write=function(e){let r,n,i;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),i=parseInt(n,10),e.put(i,10);const s=this.data.length-r;s>0&&(n=this.data.substr(r),i=parseInt(n,10),e.put(i,s*3+1))};var AF=ta;const vF=Qs,ux=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function ra(t){this.mode=vF.ALPHANUMERIC,this.data=t}ra.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};ra.prototype.getLength=function(){return this.data.length};ra.prototype.getBitsLength=function(){return ra.getBitsLength(this.data.length)};ra.prototype.write=function(e){let r;for(r=0;r+2<=this.data.length;r+=2){let n=ux.indexOf(this.data[r])*45;n+=ux.indexOf(this.data[r+1]),e.put(n,11)}this.data.length%2&&e.put(ux.indexOf(this.data[r]),6)};var _F=ra,wF=function(e){for(var r=[],n=e.length,i=0;i<n;i++){var s=e.charCodeAt(i);if(s>=55296&&s<=56319&&n>i+1){var o=e.charCodeAt(i+1);o>=56320&&o<=57343&&(s=(s-55296)*1024+o-56320+65536,i+=1)}if(s<128){r.push(s);continue}if(s<2048){r.push(s>>6|192),r.push(s&63|128);continue}if(s<55296||s>=57344&&s<65536){r.push(s>>12|224),r.push(s>>6&63|128),r.push(s&63|128);continue}if(s>=65536&&s<=1114111){r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(s&63|128);continue}r.push(239,191,189)}return new Uint8Array(r).buffer};const BF=wF,DF=Qs;function na(t){this.mode=DF.BYTE,typeof t=="string"&&(t=BF(t)),this.data=new Uint8Array(t)}na.getBitsLength=function(e){return e*8};na.prototype.getLength=function(){return this.data.length};na.prototype.getBitsLength=function(){return na.getBitsLength(this.data.length)};na.prototype.write=function(t){for(let e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)};var kF=na;const FF=Qs,SF=nn;function ia(t){this.mode=FF.KANJI,this.data=t}ia.getBitsLength=function(e){return e*13};ia.prototype.getLength=function(){return this.data.length};ia.prototype.getBitsLength=function(){return ia.getBitsLength(this.data.length)};ia.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let r=SF.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),t.put(r,13)}};var PF=ia,pm={exports:{}};(function(t){var e={single_source_shortest_paths:function(r,n,i){var s={},o={};o[n]=0;var a=e.PriorityQueue.make();a.push(n,0);for(var c,l,u,f,x,h,C,w,k;!a.empty();){c=a.pop(),l=c.value,f=c.cost,x=r[l]||{};for(u in x)x.hasOwnProperty(u)&&(h=x[u],C=f+h,w=o[u],k=typeof o[u]>"u",(k||w>C)&&(o[u]=C,a.push(u,C),s[u]=l))}if(typeof i<"u"&&typeof o[i]>"u"){var O=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(O)}return s},extract_shortest_path_from_predecessor_list:function(r,n){for(var i=[],s=n;s;)i.push(s),r[s],s=r[s];return i.reverse(),i},find_path:function(r,n,i){var s=e.single_source_shortest_paths(r,n,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(r){var n=e.PriorityQueue,i={},s;r=r||{};for(s in n)n.hasOwnProperty(s)&&(i[s]=n[s]);return i.queue=[],i.sorter=r.sorter||n.default_sorter,i},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var i={value:r,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(pm);var TF=pm.exports;(function(t){const e=Qs,r=AF,n=_F,i=kF,s=PF,o=Ei,a=nn,c=TF;function l(O){return unescape(encodeURIComponent(O)).length}function u(O,z,P){const A=[];let T;for(;(T=O.exec(P))!==null;)A.push({data:T[0],index:T.index,mode:z,length:T[0].length});return A}function f(O){const z=u(o.NUMERIC,e.NUMERIC,O),P=u(o.ALPHANUMERIC,e.ALPHANUMERIC,O);let A,T;return a.isKanjiModeEnabled()?(A=u(o.BYTE,e.BYTE,O),T=u(o.KANJI,e.KANJI,O)):(A=u(o.BYTE_KANJI,e.BYTE,O),T=[]),z.concat(P,A,T).sort(function(R,d){return R.index-d.index}).map(function(R){return{data:R.data,mode:R.mode,length:R.length}})}function x(O,z){switch(z){case e.NUMERIC:return r.getBitsLength(O);case e.ALPHANUMERIC:return n.getBitsLength(O);case e.KANJI:return s.getBitsLength(O);case e.BYTE:return i.getBitsLength(O)}}function h(O){return O.reduce(function(z,P){const A=z.length-1>=0?z[z.length-1]:null;return A&&A.mode===P.mode?(z[z.length-1].data+=P.data,z):(z.push(P),z)},[])}function C(O){const z=[];for(let P=0;P<O.length;P++){const A=O[P];switch(A.mode){case e.NUMERIC:z.push([A,{data:A.data,mode:e.ALPHANUMERIC,length:A.length},{data:A.data,mode:e.BYTE,length:A.length}]);break;case e.ALPHANUMERIC:z.push([A,{data:A.data,mode:e.BYTE,length:A.length}]);break;case e.KANJI:z.push([A,{data:A.data,mode:e.BYTE,length:l(A.data)}]);break;case e.BYTE:z.push([{data:A.data,mode:e.BYTE,length:l(A.data)}])}}return z}function w(O,z){const P={},A={start:{}};let T=["start"];for(let F=0;F<O.length;F++){const R=O[F],d=[];for(let p=0;p<R.length;p++){const _=R[p],b=""+F+p;d.push(b),P[b]={node:_,lastCount:0},A[b]={};for(let m=0;m<T.length;m++){const E=T[m];P[E]&&P[E].node.mode===_.mode?(A[E][b]=x(P[E].lastCount+_.length,_.mode)-x(P[E].lastCount,_.mode),P[E].lastCount+=_.length):(P[E]&&(P[E].lastCount=_.length),A[E][b]=x(_.length,_.mode)+4+e.getCharCountIndicator(_.mode,z))}}T=d}for(let F=0;F<T.length;F++)A[T[F]].end=0;return{map:A,table:P}}function k(O,z){let P;const A=e.getBestModeForData(O);if(P=e.from(z,A),P!==e.BYTE&&P.bit<A.bit)throw new Error('"'+O+'" cannot be encoded with mode '+e.toString(P)+`.
 Suggested mode is: `+e.toString(A));switch(P===e.KANJI&&!a.isKanjiModeEnabled()&&(P=e.BYTE),P){case e.NUMERIC:return new r(O);case e.ALPHANUMERIC:return new n(O);case e.KANJI:return new s(O);case e.BYTE:return new i(O)}}t.fromArray=function(z){return z.reduce(function(P,A){return typeof A=="string"?P.push(k(A,null)):A.data&&P.push(k(A.data,A.mode)),P},[])},t.fromString=function(z,P){const A=f(z,a.isKanjiModeEnabled()),T=C(A),F=w(T,P),R=c.find_path(F.map,"start","end"),d=[];for(let p=1;p<R.length-1;p++)d.push(F.table[R[p]].node);return t.fromArray(h(d))},t.rawSplit=function(z){return t.fromArray(f(z,a.isKanjiModeEnabled()))}})(hm);const sd=nn,fx=rd,MF=fF,IF=dF,RF=sm,OF=om,Q1=am,Z1=nd,LF=hF,ju=um,NF=dm,KF=Qs,dx=hm;function UF(t,e){const r=t.size,n=OF.getPositions(e);for(let i=0;i<n.length;i++){const s=n[i][0],o=n[i][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||r<=s+a))for(let c=-1;c<=7;c++)o+c<=-1||r<=o+c||(a>=0&&a<=6&&(c===0||c===6)||c>=0&&c<=6&&(a===0||a===6)||a>=2&&a<=4&&c>=2&&c<=4?t.set(s+a,o+c,!0,!0):t.set(s+a,o+c,!1,!0))}}function $F(t){const e=t.size;for(let r=8;r<e-8;r++){const n=r%2===0;t.set(r,6,n,!0),t.set(6,r,n,!0)}}function zF(t,e){const r=RF.getPositions(e);for(let n=0;n<r.length;n++){const i=r[n][0],s=r[n][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?t.set(i+o,s+a,!0,!0):t.set(i+o,s+a,!1,!0)}}function jF(t,e){const r=t.size,n=ju.getEncodedBits(e);let i,s,o;for(let a=0;a<18;a++)i=Math.floor(a/3),s=a%3+r-8-3,o=(n>>a&1)===1,t.set(i,s,o,!0),t.set(s,i,o,!0)}function xx(t,e,r){const n=t.size,i=NF.getEncodedBits(e,r);let s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?t.set(s,8,o,!0):s<8?t.set(s+1,8,o,!0):t.set(n-15+s,8,o,!0),s<8?t.set(8,n-s-1,o,!0):s<9?t.set(8,15-s-1+1,o,!0):t.set(8,15-s-1,o,!0);t.set(n-8,8,1,!0)}function HF(t,e){const r=t.size;let n=-1,i=r-1,s=7,o=0;for(let a=r-1;a>0;a-=2)for(a===6&&a--;;){for(let c=0;c<2;c++)if(!t.isReserved(i,a-c)){let l=!1;o<e.length&&(l=(e[o]>>>s&1)===1),t.set(i,a-c,l),s--,s===-1&&(o++,s=7)}if(i+=n,i<0||r<=i){i-=n,n=-n;break}}}function VF(t,e,r){const n=new MF;r.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),KF.getCharCountIndicator(c.mode,t)),c.write(n)});const i=sd.getSymbolTotalCodewords(t),s=Z1.getTotalCodewordsCount(t,e),o=(i-s)*8;for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const a=(o-n.getLengthInBits())/8;for(let c=0;c<a;c++)n.put(c%2?17:236,8);return qF(n,t,e)}function qF(t,e,r){const n=sd.getSymbolTotalCodewords(e),i=Z1.getTotalCodewordsCount(e,r),s=n-i,o=Z1.getBlocksCount(e,r),a=n%o,c=o-a,l=Math.floor(n/o),u=Math.floor(s/o),f=u+1,x=l-u,h=new LF(x);let C=0;const w=new Array(o),k=new Array(o);let O=0;const z=new Uint8Array(t.buffer);for(let R=0;R<o;R++){const d=R<c?u:f;w[R]=z.slice(C,C+d),k[R]=h.encode(w[R]),C+=d,O=Math.max(O,d)}const P=new Uint8Array(n);let A=0,T,F;for(T=0;T<O;T++)for(F=0;F<o;F++)T<w[F].length&&(P[A++]=w[F][T]);for(T=0;T<x;T++)for(F=0;F<o;F++)P[A++]=k[F][T];return P}function WF(t,e,r,n){let i;if(Array.isArray(t))i=dx.fromArray(t);else if(typeof t=="string"){let l=e;if(!l){const u=dx.rawSplit(t);l=ju.getBestVersionForData(u,r)}i=dx.fromString(t,l||40)}else throw new Error("Invalid data");const s=ju.getBestVersionForData(i,r);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const o=VF(e,r,i),a=sd.getSymbolSize(e),c=new IF(a);return UF(c,e),$F(c),zF(c,e),xx(c,r,0),e>=7&&jF(c,e),HF(c,o),isNaN(n)&&(n=Q1.getBestMask(c,xx.bind(null,c,r))),Q1.applyMask(n,c),xx(c,r,n),{modules:c,version:e,errorCorrectionLevel:r,maskPattern:n,segments:i}}nm.create=function(e,r){if(typeof e>"u"||e==="")throw new Error("No input text");let n=fx.M,i,s;return typeof r<"u"&&(n=fx.from(r.errorCorrectionLevel,fx.M),i=ju.from(r.version),s=Q1.from(r.maskPattern),r.toSJISFunc&&sd.setToSJISFunction(r.toSJISFunc)),WF(e,i,n,s)};var mm={},e9={};(function(t){function e(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(s){return[s,s]}))),n.length===6&&n.push("F","F");const i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}t.getOptions=function(n){n||(n={}),n.color||(n.color={});const i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,s=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},t.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},t.getImageWidth=function(n,i){const s=t.getScale(n,i);return Math.floor((n+i.margin*2)*s)},t.qrToImageData=function(n,i,s){const o=i.modules.size,a=i.modules.data,c=t.getScale(o,s),l=Math.floor((o+s.margin*2)*c),u=s.margin*c,f=[s.color.light,s.color.dark];for(let x=0;x<l;x++)for(let h=0;h<l;h++){let C=(x*l+h)*4,w=s.color.light;if(x>=u&&h>=u&&x<l-u&&h<l-u){const k=Math.floor((x-u)/c),O=Math.floor((h-u)/c);w=f[a[k*o+O]?1:0]}n[C++]=w.r,n[C++]=w.g,n[C++]=w.b,n[C]=w.a}}})(e9);(function(t){const e=e9;function r(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,o,a){let c=a,l=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(l=n()),c=e.getOptions(c);const u=e.getImageWidth(s.modules.size,c),f=l.getContext("2d"),x=f.createImageData(u,u);return e.qrToImageData(x.data,s,c),r(f,l,u),f.putImageData(x,0,0),l},t.renderToDataURL=function(s,o,a){let c=a;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const l=t.render(s,o,c),u=c.type||"image/png",f=c.rendererOpts||{};return l.toDataURL(u,f.quality)}})(mm);var gm={};const GF=e9;function L5(t,e){const r=t.a/255,n=e+'="'+t.hex+'"';return r<1?n+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function hx(t,e,r){let n=t+e;return typeof r<"u"&&(n+=" "+r),n}function YF(t,e,r){let n="",i=0,s=!1,o=0;for(let a=0;a<t.length;a++){const c=Math.floor(a%e),l=Math.floor(a/e);!c&&!s&&(s=!0),t[a]?(o++,a>0&&c>0&&t[a-1]||(n+=s?hx("M",c+r,.5+l+r):hx("m",i,0),i=0,s=!1),c+1<e&&t[a+1]||(n+=hx("h",o),o=0)):i++}return n}gm.render=function(e,r,n){const i=GF.getOptions(r),s=e.modules.size,o=e.modules.data,a=s+i.margin*2,c=i.color.light.a?"<path "+L5(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",l="<path "+L5(i.color.dark,"stroke")+' d="'+YF(o,s,i.margin)+'"/>',u='viewBox="0 0 '+a+" "+a+'"',x='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+u+' shape-rendering="crispEdges">'+c+l+`</svg>
`;return typeof n=="function"&&n(null,x),x};const JF=lF,eh=nm,ym=mm,XF=gm;function t9(t,e,r,n,i){const s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!JF())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(i=r,r=e,e=n=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=r,r=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(r=e,e=n=void 0):o===2&&!e.getContext&&(n=r,r=e,e=void 0),new Promise(function(c,l){try{const u=eh.create(r,n);c(t(u,e,n))}catch(u){l(u)}})}try{const c=eh.create(r,n);i(null,t(c,e,n))}catch(c){i(c)}}tl.create=eh.create;tl.toCanvas=t9.bind(null,ym.render);tl.toDataURL=t9.bind(null,ym.renderToDataURL);tl.toString=t9.bind(null,function(t,e,r){return XF.render(t,r)});const QF={key:0,class:"overlay"},ZF={class:"overlay-container d-flex flex-column bg-white border rounded shadow p-3 z-1"},eS=de("p",{class:"mb-0"},"Scan this QR code to connect or click on it to copy.",-1),tS=["src"],rS={__name:"QRModal",setup(t,{expose:e}){const r=Ke(!1),n=Ke(null);function i(){r.value=!1}async function s(){n.value=await tl.toDataURL(ht.secret,{errorCorrectionLevel:"H",type:"image/jpeg",quality:1,margin:1,width:256,color:{dark:"#000000",light:"#ffffff"}}),r.value=!0}async function o(){await navigator.clipboard.writeText(ht.secret)}return e({show:s,hide:i}),(a,c)=>r.value?(St(),It("div",QF,[de("div",ZF,[de("div",{class:"d-flex justify-content-end mb-3"},[de("button",{class:"btn btn-close",onClick:i})]),eS,de("img",{src:n.value,class:"qr-code",onClick:o},null,8,tS)]),de("div",{class:"overlay-outside",onClick:i})])):Jr("",!0)}},nS={class:"col-12 col-md-3 left-pane"},iS={class:"d-flex flex-column h-100"},sS={class:"d-flex align-items-end p-3"},oS=de("div",{class:"d-flex flex-wrap align-items-center"},[de("img",{class:"logo",src:NA}),de("h5",{class:"fw-bold text-break p-1 mb-0"},"Messenger")],-1),aS={class:"dropdown ms-auto"},cS={class:"dropdown-menu"},lS={class:"dropdown-li"},uS=de("span",{class:"bi bi-pencil-fill pe-1"},null,-1),fS={class:"dropdown-li"},dS=de("span",{class:"bi bi-qr-code pe-1"},null,-1),xS={class:"dropdown-li"},hS=de("span",{class:"bi bi-qr-code-scan pe-1"},null,-1),pS={class:"dropdown-li"},mS=de("span",{class:"bi bi-key-fill pe-1"},null,-1),gS={class:"dropdown-li"},yS=de("span",{class:"bi bi-door-open-fill pe-1"},null,-1),ES={class:"d-flex px-3 mb-3"},bS={class:"fw-bold selectable"},CS={class:"input-group px-3 mb-2"},AS=de("span",{class:"input-group-text bi bi-search",id:"username-search"},null,-1),vS={class:"contacts"},_S=["onClick"],wS={class:"d-flex align-items-center"},BS=de("img",{src:eo,class:"avatar me-2"},null,-1),DS={class:"d-flex flex-column"},kS={class:"name"},FS={class:"d-flex justify-content-end align-items-start ms-1"},SS={__name:"Hub",emits:["open_chat"],setup(t,{expose:e,emit:r}){const n=Ke(""),i=Ke([]),s=Ke(null),o=r,a=Ke(null),c=Ke(null),l=Ke(null),u=Ke(null),f=Ke(null);async function x(O){o("open_chat",O)}async function h(){Notification.permission!=="granted"&&Notification.requestPermission().then(O=>{window.location.href=window.location.origin+window.location.pathname})}async function C(){if(!n.value.length){i.value=ve.contacts;return}i.value=s.value.search(n.value).map(O=>O.item)}async function w(){s.value.setCollection(ve.contacts),i.value=ve.contacts}async function k(){f.value.hide()}return e({update_results:w,hide_qr:k}),B4(()=>{s.value=new ya(ve.contacts,{keys:["name","secret"],threshold:.3})}),(O,z)=>(St(),It(fr,null,[de("div",nS,[de("div",iS,[de("div",sS,[oS,de("div",aS,[de("span",{class:"material-symbols-outlined dropdown-toggle",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",onClick:h}," more_vert "),de("ul",cS,[de("li",lS,[de("a",{class:"dropdown-item",onClick:z[0]||(z[0]=(...P)=>l.value.show&&l.value.show(...P))},[uS,Pi(" Change name ")])]),de("li",fS,[de("a",{class:"dropdown-item",onClick:z[1]||(z[1]=(...P)=>f.value.show&&f.value.show(...P))},[dS,Pi(" Show QR ")])]),de("li",xS,[de("a",{class:"dropdown-item",onClick:z[2]||(z[2]=(...P)=>u.value.show&&u.value.show(...P))},[hS,Pi(" Scan QR ")])]),de("li",pS,[de("a",{class:"dropdown-item",onClick:z[3]||(z[3]=(...P)=>c.value.show&&c.value.show(...P))},[mS,Pi(" Add code ")])]),de("li",gS,[de("a",{class:"dropdown-item",onClick:z[4]||(z[4]=(...P)=>a.value.show&&a.value.show(...P))},[yS,Pi(" Log out ")])])])])]),de("div",ES,[de("span",bS,dr(cn(ht).name),1)]),de("div",CS,[AS,N0(de("input",{"onUpdate:modelValue":z[5]||(z[5]=P=>n.value=P),type:"text",class:"form-control",placeholder:"Search...","aria-label":"Username","aria-describedby":"username-search",onInput:C},null,544),[[qf,n.value]])]),de("div",vS,[(St(!0),It(fr,null,k4(i.value,P=>(St(),It("div",{class:"contact",onClick:A=>x(P)},[de("div",wS,[BS,de("div",DS,[de("span",kS,dr(P.name),1)])]),de("div",FS,[N0(de("small",{class:"notification"},dr(cn(ve).connections[P.secret].notification),513),[[P8,cn(ve).connections[P.secret].notification]])])],8,_S))),256))])])]),zt(zk,{ref_key:"logout_modal",ref:a},null,512),zt(Yk,{ref_key:"addcode_modal",ref:c,onUpdate_results:w},null,512),zt(em,{ref_key:"changename_modal",ref:l,onUpdate_results:w},null,512),zt(cF,{ref_key:"scan_modal",ref:u},null,512),zt(rS,{ref_key:"qr_modal",ref:f},null,512)],64))}};/*! OpenPGP.js v5.11.0 - 2023-10-25 - this is LGPL licensed code, see LICENSE/our website https://openpgpjs.org/ for more information. */const Xr=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Bo=Symbol("doneWritingPromise"),Em=Symbol("doneWritingResolve"),bm=Symbol("doneWritingReject"),Sa=Symbol("readingIndex");class ni extends Array{constructor(){super(),this[Bo]=new Promise((e,r)=>{this[Em]=e,this[bm]=r}),this[Bo].catch(()=>{})}}function Rt(t){return t&&t.getReader&&Array.isArray(t)}function Ka(t){if(!Rt(t)){const e=t.getWriter(),r=e.releaseLock;return e.releaseLock=()=>{e.closed.catch(function(){}),r.call(e)},e}this.stream=t}ni.prototype.getReader=function(){return this[Sa]===void 0&&(this[Sa]=0),{read:async()=>(await this[Bo],this[Sa]===this.length?{value:void 0,done:!0}:{value:this[this[Sa]++],done:!1})}},ni.prototype.readToEnd=async function(t){await this[Bo];const e=t(this.slice(this[Sa]));return this.length=0,e},ni.prototype.clone=function(){const t=new ni;return t[Bo]=this[Bo].then(()=>{t.push(...this)}),t},Ka.prototype.write=async function(t){this.stream.push(t)},Ka.prototype.close=async function(){this.stream[Em]()},Ka.prototype.abort=async function(t){return this.stream[bm](t),t},Ka.prototype.releaseLock=function(){};const od=typeof Xr.process=="object"&&typeof Xr.process.versions=="object",N5=od&&void 0;function $r(t){return Rt(t)?"array":Xr.ReadableStream&&Xr.ReadableStream.prototype.isPrototypeOf(t)?"web":zi&&zi.prototype.isPrototypeOf(t)?"ponyfill":N5&&N5.prototype.isPrototypeOf(t)?"node":!(!t||!t.getReader)&&"web-like"}function ad(t){return Uint8Array.prototype.isPrototypeOf(t)}function Cm(t){if(t.length===1)return t[0];let e=0;for(let i=0;i<t.length;i++){if(!ad(t[i]))throw Error("concatUint8Array: Data must be in the form of a Uint8Array");e+=t[i].length}const r=new Uint8Array(e);let n=0;return t.forEach(function(i){r.set(i,n),n+=i.length}),r}const PS=od&&void 0,K5=od&&void 0;let cd,r9;if(K5){cd=function(e){let r=!1;return new zi({start(n){e.pause(),e.on("data",i=>{r||(PS.isBuffer(i)&&(i=new Uint8Array(i.buffer,i.byteOffset,i.byteLength)),n.enqueue(i),e.pause())}),e.on("end",()=>{r||n.close()}),e.on("error",i=>n.error(i))},pull(){e.resume()},cancel(n){r=!0,e.destroy(n)}})};class t extends K5{constructor(r,n){super(n),this._reader=bi(r)}async _read(r){try{for(;;){const{done:n,value:i}=await this._reader.read();if(n){this.push(null);break}if(!this.push(i))break}}catch(n){this.destroy(n)}}async _destroy(r,n){this._reader.cancel(r).then(n,n)}}r9=function(e,r){return new t(e,r)}}const U5=new WeakSet,bt=Symbol("externalBuffer");function jn(t){if(this.stream=t,t[bt]&&(this[bt]=t[bt].slice()),Rt(t)){const n=t.getReader();return this._read=n.read.bind(n),this._releaseLock=()=>{},void(this._cancel=async()=>{})}let e=$r(t);if(e==="node"&&(t=cd(t)),e){const n=t.getReader();return this._read=n.read.bind(n),this._releaseLock=()=>{n.closed.catch(function(){}),n.releaseLock()},void(this._cancel=n.cancel.bind(n))}let r=!1;this._read=async()=>r||U5.has(t)?{value:void 0,done:!0}:(r=!0,{value:t,done:!1}),this._releaseLock=()=>{if(r)try{U5.add(t)}catch{}}}jn.prototype.read=async function(){return this[bt]&&this[bt].length?{done:!1,value:this[bt].shift()}:this._read()},jn.prototype.releaseLock=function(){this[bt]&&(this.stream[bt]=this[bt]),this._releaseLock()},jn.prototype.cancel=function(t){return this._cancel(t)},jn.prototype.readLine=async function(){let t,e=[];for(;!t;){let{done:r,value:n}=await this.read();if(n+="",r)return e.length?Lr(e):void 0;const i=n.indexOf(`
`)+1;i&&(t=Lr(e.concat(n.substr(0,i))),e=[]),i!==n.length&&e.push(n.substr(i))}return this.unshift(...e),t},jn.prototype.readByte=async function(){const{done:t,value:e}=await this.read();if(t)return;const r=e[0];return this.unshift(nr(e,1)),r},jn.prototype.readBytes=async function(t){const e=[];let r=0;for(;;){const{done:n,value:i}=await this.read();if(n)return e.length?Lr(e):void 0;if(e.push(i),r+=i.length,r>=t){const s=Lr(e);return this.unshift(nr(s,t)),nr(s,0,t)}}},jn.prototype.peekBytes=async function(t){const e=await this.readBytes(t);return this.unshift(e),e},jn.prototype.unshift=function(...t){this[bt]||(this[bt]=[]),t.length===1&&ad(t[0])&&this[bt].length&&t[0].length&&this[bt][0].byteOffset>=t[0].length?this[bt][0]=new Uint8Array(this[bt][0].buffer,this[bt][0].byteOffset-t[0].length,this[bt][0].byteLength+t[0].length):this[bt].unshift(...t.filter(e=>e&&e.length))},jn.prototype.readToEnd=async function(t=Lr){const e=[];for(;;){const{done:r,value:n}=await this.read();if(r)break;e.push(n)}return t(e)};let th,Am,{ReadableStream:zi,WritableStream:vm,TransformStream:sa}=Xr;async function _m(){if(sa)return;const[t,e]=await Promise.all([Promise.resolve().then(function(){return UM}),Promise.resolve().then(function(){return VM})]);({ReadableStream:zi,WritableStream:vm,TransformStream:sa}=t);const{createReadableStreamWrapper:r}=e;Xr.ReadableStream&&zi!==Xr.ReadableStream&&(th=r(zi),Am=r(Xr.ReadableStream))}const oc=od&&void 0;function nl(t){let e=$r(t);return e==="node"?cd(t):e==="web"&&th?th(t):e?t:new zi({start(r){r.enqueue(t),r.close()}})}function wm(t){if($r(t))return t;const e=new ni;return(async()=>{const r=zr(e);await r.write(t),await r.close()})(),e}function Lr(t){return t.some(e=>$r(e)&&!Rt(e))?function(e){e=e.map(nl);const r=Dm(async function(s){await Promise.all(i.map(o=>rh(o,s)))});let n=Promise.resolve();const i=e.map((s,o)=>qi(s,(a,c)=>(n=n.then(()=>js(a,r.writable,{preventClose:o!==e.length-1})),n)));return r.readable}(t):t.some(e=>Rt(e))?function(e){const r=new ni;let n=Promise.resolve();return e.forEach((i,s)=>(n=n.then(()=>js(i,r,{preventClose:s!==e.length-1})),n)),r}(t):typeof t[0]=="string"?t.join(""):oc&&oc.isBuffer(t[0])?oc.concat(t):Cm(t)}function bi(t){return new jn(t)}function zr(t){return new Ka(t)}async function js(t,e,{preventClose:r=!1,preventAbort:n=!1,preventCancel:i=!1}={}){if($r(t)&&!Rt(t)){t=nl(t);try{if(t[bt]){const a=zr(e);for(let c=0;c<t[bt].length;c++)await a.ready,await a.write(t[bt][c]);a.releaseLock()}await t.pipeTo(e,{preventClose:r,preventAbort:n,preventCancel:i})}catch{}return}const s=bi(t=wm(t)),o=zr(e);try{for(;;){await o.ready;const{done:a,value:c}=await s.read();if(a){r||await o.close();break}await o.write(c)}}catch(a){n||await o.abort(a)}finally{s.releaseLock(),o.releaseLock()}}function Bm(t,e){const r=new sa(e);return js(t,r.writable),r.readable}function Dm(t){let e,r,n=!1;return{readable:new zi({start(i){r=i},pull(){e?e():n=!0},cancel:t},{highWaterMark:0}),writable:new vm({write:async function(i){r.enqueue(i),n?n=!1:(await new Promise(s=>{e=s}),e=null)},close:r.close.bind(r),abort:r.error.bind(r)})}}function Ft(t,e=()=>{},r=()=>{}){if(Rt(t)){const s=new ni;return(async()=>{const o=zr(s);try{const a=await Lt(t),c=e(a),l=r();let u;u=c!==void 0&&l!==void 0?Lr([c,l]):c!==void 0?c:l,await o.write(u),await o.close()}catch(a){await o.abort(a)}})(),s}if($r(t))return Bm(t,{async transform(s,o){try{const a=await e(s);a!==void 0&&o.enqueue(a)}catch(a){o.error(a)}},async flush(s){try{const o=await r();o!==void 0&&s.enqueue(o)}catch(o){s.error(o)}}});const n=e(t),i=r();return n!==void 0&&i!==void 0?Lr([n,i]):n!==void 0?n:i}function qi(t,e){if($r(t)&&!Rt(t)){let n;const i=new sa({start(a){n=a}}),s=js(t,i.writable),o=Dm(async function(a){n.error(a),await s,await new Promise(setTimeout)});return e(i.readable,o.writable),o.readable}t=wm(t);const r=new ni;return e(t,r),r}function ld(t,e){let r;const n=qi(t,(i,s)=>{const o=bi(i);o.remainder=()=>(o.releaseLock(),js(i,s),n),r=e(o)});return r}function z0(t){if(Rt(t))return t.clone();if($r(t)){const e=function(r){if(Rt(r))throw Error("ArrayStream cannot be tee()d, use clone() instead");if($r(r)){const n=nl(r).tee();return n[0][bt]=n[1][bt]=r[bt],n}return[nr(r),nr(r)]}(t);return km(t,e[0]),e[1]}return nr(t)}function No(t){return Rt(t)?z0(t):$r(t)?new zi({start(e){const r=qi(t,async(n,i)=>{const s=bi(n),o=zr(i);try{for(;;){await o.ready;const{done:a,value:c}=await s.read();if(a){try{e.close()}catch{}return void await o.close()}try{e.enqueue(c)}catch{}await o.write(c)}}catch(a){e.error(a),await o.abort(a)}});km(t,r)}}):nr(t)}function km(t,e){Object.entries(Object.getOwnPropertyDescriptors(t.constructor.prototype)).forEach(([r,n])=>{r!=="constructor"&&(n.value?n.value=n.value.bind(e):n.get=n.get.bind(e),Object.defineProperty(t,r,n))})}function nr(t,e=0,r=1/0){if(Rt(t))throw Error("Not implemented");if($r(t)){if(e>=0&&r>=0){let n=0;return Bm(t,{transform(i,s){n<r?(n+i.length>=e&&s.enqueue(nr(i,Math.max(e-n,0),r-n)),n+=i.length):s.terminate()}})}if(e<0&&(r<0||r===1/0)){let n=[];return Ft(t,i=>{i.length>=-e?n=[i]:n.push(i)},()=>nr(Lr(n),e,r))}if(e===0&&r<0){let n;return Ft(t,i=>{const s=n?Lr([n,i]):i;if(s.length>=-r)return n=nr(s,r),nr(s,e,r);n=s})}return console.warn(`stream.slice(input, ${e}, ${r}) not implemented efficiently.`),Zs(async()=>nr(await Lt(t),e,r))}return t[bt]&&(t=Lr(t[bt].concat([t]))),!ad(t)||oc&&oc.isBuffer(t)?t.slice(e,r):(r===1/0&&(r=t.length),t.subarray(e,r))}async function Lt(t,e=Lr){return Rt(t)?t.readToEnd(e):$r(t)?bi(t).readToEnd(e):t}async function rh(t,e){if($r(t)){if(t.cancel)return t.cancel(e);if(t.destroy)return t.destroy(e),await new Promise(setTimeout),e}}function Zs(t){const e=new ni;return(async()=>{const r=zr(e);try{await r.write(await t()),await r.close()}catch(n){await r.abort(n)}})(),e}class br{constructor(e){if(e===void 0)throw Error("Invalid BigInteger input");if(e instanceof Uint8Array){const r=e,n=Array(r.length);for(let i=0;i<r.length;i++){const s=r[i].toString(16);n[i]=r[i]<=15?"0"+s:s}this.value=BigInt("0x0"+n.join(""))}else this.value=BigInt(e)}clone(){return new br(this.value)}iinc(){return this.value++,this}inc(){return this.clone().iinc()}idec(){return this.value--,this}dec(){return this.clone().idec()}iadd(e){return this.value+=e.value,this}add(e){return this.clone().iadd(e)}isub(e){return this.value-=e.value,this}sub(e){return this.clone().isub(e)}imul(e){return this.value*=e.value,this}mul(e){return this.clone().imul(e)}imod(e){return this.value%=e.value,this.isNegative()&&this.iadd(e),this}mod(e){return this.clone().imod(e)}modExp(e,r){if(r.isZero())throw Error("Modulo cannot be zero");if(r.isOne())return new br(0);if(e.isNegative())throw Error("Unsopported negative exponent");let n=e.value,i=this.value;i%=r.value;let s=BigInt(1);for(;n>BigInt(0);){const o=n&BigInt(1);n>>=BigInt(1);const a=s*i%r.value;s=o?a:s,i=i*i%r.value}return new br(s)}modInv(e){const{gcd:r,x:n}=this._egcd(e);if(!r.isOne())throw Error("Inverse does not exist");return n.add(e).mod(e)}_egcd(e){let r=BigInt(0),n=BigInt(1),i=BigInt(1),s=BigInt(0),o=this.value;for(e=e.value;e!==BigInt(0);){const a=o/e;let c=r;r=i-a*r,i=c,c=n,n=s-a*n,s=c,c=e,e=o%e,o=c}return{x:new br(i),y:new br(s),gcd:new br(o)}}gcd(e){let r=this.value;for(e=e.value;e!==BigInt(0);){const n=e;e=r%e,r=n}return new br(r)}ileftShift(e){return this.value<<=e.value,this}leftShift(e){return this.clone().ileftShift(e)}irightShift(e){return this.value>>=e.value,this}rightShift(e){return this.clone().irightShift(e)}equal(e){return this.value===e.value}lt(e){return this.value<e.value}lte(e){return this.value<=e.value}gt(e){return this.value>e.value}gte(e){return this.value>=e.value}isZero(){return this.value===BigInt(0)}isOne(){return this.value===BigInt(1)}isNegative(){return this.value<BigInt(0)}isEven(){return!(this.value&BigInt(1))}abs(){const e=this.clone();return this.isNegative()&&(e.value=-e.value),e}toString(){return this.value.toString()}toNumber(){const e=Number(this.value);if(e>Number.MAX_SAFE_INTEGER)throw Error("Number can only safely store up to 53 bits");return e}getBit(e){return(this.value>>BigInt(e)&BigInt(1))===BigInt(0)?0:1}bitLength(){const e=new br(0),r=new br(1),n=new br(-1),i=this.isNegative()?n:e;let s=1;const o=this.clone();for(;!o.irightShift(r).equal(i);)s++;return s}byteLength(){const e=new br(0),r=new br(-1),n=this.isNegative()?r:e,i=new br(8);let s=1;const o=this.clone();for(;!o.irightShift(i).equal(n);)s++;return s}toUint8Array(e="be",r){let n=this.value.toString(16);n.length%2==1&&(n="0"+n);const i=n.length/2,s=new Uint8Array(r||i),o=r?r-i:0;let a=0;for(;a<i;)s[a+o]=parseInt(n.slice(2*a,2*a+2),16),a++;return e!=="be"&&s.reverse(),s}}const TS=()=>typeof BigInt<"u",Pa=Symbol("byValue");var D={curve:{p256:"p256","P-256":"p256",secp256r1:"p256",prime256v1:"p256","1.2.840.10045.3.1.7":"p256","2a8648ce3d030107":"p256","2A8648CE3D030107":"p256",p384:"p384","P-384":"p384",secp384r1:"p384","1.3.132.0.34":"p384","2b81040022":"p384","2B81040022":"p384",p521:"p521","P-521":"p521",secp521r1:"p521","1.3.132.0.35":"p521","2b81040023":"p521","2B81040023":"p521",secp256k1:"secp256k1","1.3.132.0.10":"secp256k1","2b8104000a":"secp256k1","2B8104000A":"secp256k1",ed25519Legacy:"ed25519",ED25519:"ed25519",ed25519:"ed25519",Ed25519:"ed25519","1.3.6.1.4.1.11591.15.1":"ed25519","2b06010401da470f01":"ed25519","2B06010401DA470F01":"ed25519",curve25519Legacy:"curve25519",X25519:"curve25519",cv25519:"curve25519",curve25519:"curve25519",Curve25519:"curve25519","1.3.6.1.4.1.3029.1.5.1":"curve25519","2b060104019755010501":"curve25519","2B060104019755010501":"curve25519",brainpoolP256r1:"brainpoolP256r1","1.3.36.3.3.2.8.1.1.7":"brainpoolP256r1","2b2403030208010107":"brainpoolP256r1","2B2403030208010107":"brainpoolP256r1",brainpoolP384r1:"brainpoolP384r1","1.3.36.3.3.2.8.1.1.11":"brainpoolP384r1","2b240303020801010b":"brainpoolP384r1","2B240303020801010B":"brainpoolP384r1",brainpoolP512r1:"brainpoolP512r1","1.3.36.3.3.2.8.1.1.13":"brainpoolP512r1","2b240303020801010d":"brainpoolP512r1","2B240303020801010D":"brainpoolP512r1"},s2k:{simple:0,salted:1,iterated:3,gnu:101},publicKey:{rsaEncryptSign:1,rsaEncrypt:2,rsaSign:3,elgamal:16,dsa:17,ecdh:18,ecdsa:19,eddsaLegacy:22,ed25519Legacy:22,eddsa:22,aedh:23,aedsa:24,x25519:25,x448:26,ed25519:27,ed448:28},symmetric:{plaintext:0,idea:1,tripledes:2,cast5:3,blowfish:4,aes128:7,aes192:8,aes256:9,twofish:10},compression:{uncompressed:0,zip:1,zlib:2,bzip2:3},hash:{md5:1,sha1:2,ripemd:3,sha256:8,sha384:9,sha512:10,sha224:11},webHash:{"SHA-1":2,"SHA-256":8,"SHA-384":9,"SHA-512":10},aead:{eax:1,ocb:2,experimentalGCM:100},packet:{publicKeyEncryptedSessionKey:1,signature:2,symEncryptedSessionKey:3,onePassSignature:4,secretKey:5,publicKey:6,secretSubkey:7,compressedData:8,symmetricallyEncryptedData:9,marker:10,literalData:11,trust:12,userID:13,publicSubkey:14,userAttribute:17,symEncryptedIntegrityProtectedData:18,modificationDetectionCode:19,aeadEncryptedData:20},literal:{binary:98,text:116,utf8:117,mime:109},signature:{binary:0,text:1,standalone:2,certGeneric:16,certPersona:17,certCasual:18,certPositive:19,certRevocation:48,subkeyBinding:24,keyBinding:25,key:31,keyRevocation:32,subkeyRevocation:40,timestamp:64,thirdParty:80},signatureSubpacket:{signatureCreationTime:2,signatureExpirationTime:3,exportableCertification:4,trustSignature:5,regularExpression:6,revocable:7,keyExpirationTime:9,placeholderBackwardsCompatibility:10,preferredSymmetricAlgorithms:11,revocationKey:12,issuer:16,notationData:20,preferredHashAlgorithms:21,preferredCompressionAlgorithms:22,keyServerPreferences:23,preferredKeyServer:24,primaryUserID:25,policyURI:26,keyFlags:27,signersUserID:28,reasonForRevocation:29,features:30,signatureTarget:31,embeddedSignature:32,issuerFingerprint:33,preferredAEADAlgorithms:34},keyFlags:{certifyKeys:1,signData:2,encryptCommunication:4,encryptStorage:8,splitPrivateKey:16,authentication:32,sharedPrivateKey:128},armor:{multipartSection:0,multipartLast:1,signed:2,message:3,publicKey:4,privateKey:5,signature:6},reasonForRevocation:{noReason:0,keySuperseded:1,keyCompromised:2,keyRetired:3,userIDInvalid:32},features:{modificationDetection:1,aead:2,v5Keys:4},write:function(t,e){if(typeof e=="number"&&(e=this.read(t,e)),t[e]!==void 0)return t[e];throw Error("Invalid enum value.")},read:function(t,e){if(t[Pa]||(t[Pa]=[],Object.entries(t).forEach(([r,n])=>{t[Pa][n]=r})),t[Pa][e]!==void 0)return t[Pa][e];throw Error("Invalid enum value.")}};const $5=(()=>{try{return!1}catch{}return!1})(),U={isString:function(t){return typeof t=="string"||t instanceof String},isArray:function(t){return t instanceof Array},isUint8Array:ad,isStream:$r,readNumber:function(t){let e=0;for(let r=0;r<t.length;r++)e+=256**r*t[t.length-1-r];return e},writeNumber:function(t,e){const r=new Uint8Array(e);for(let n=0;n<e;n++)r[n]=t>>8*(e-n-1)&255;return r},readDate:function(t){const e=U.readNumber(t);return new Date(1e3*e)},writeDate:function(t){const e=Math.floor(t.getTime()/1e3);return U.writeNumber(e,4)},normalizeDate:function(t=Date.now()){return t===null||t===1/0?t:new Date(1e3*Math.floor(+t/1e3))},readMPI:function(t){const e=(t[0]<<8|t[1])+7>>>3;return t.subarray(2,2+e)},leftPad(t,e){const r=new Uint8Array(e),n=e-t.length;return r.set(t,n),r},uint8ArrayToMPI:function(t){const e=U.uint8ArrayBitLength(t);if(e===0)throw Error("Zero MPI");const r=t.subarray(t.length-Math.ceil(e/8)),n=new Uint8Array([(65280&e)>>8,255&e]);return U.concatUint8Array([n,r])},uint8ArrayBitLength:function(t){let e;for(e=0;e<t.length&&t[e]===0;e++);if(e===t.length)return 0;const r=t.subarray(e);return 8*(r.length-1)+U.nbits(r[0])},hexToUint8Array:function(t){const e=new Uint8Array(t.length>>1);for(let r=0;r<t.length>>1;r++)e[r]=parseInt(t.substr(r<<1,2),16);return e},uint8ArrayToHex:function(t){const e=[],r=t.length;let n,i=0;for(;i<r;){for(n=t[i++].toString(16);n.length<2;)n="0"+n;e.push(""+n)}return e.join("")},stringToUint8Array:function(t){return Ft(t,e=>{if(!U.isString(e))throw Error("stringToUint8Array: Data must be in the form of a string");const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r})},uint8ArrayToString:function(t){const e=[],n=(t=new Uint8Array(t)).length;for(let i=0;i<n;i+=16384)e.push(String.fromCharCode.apply(String,t.subarray(i,i+16384<n?i+16384:n)));return e.join("")},encodeUTF8:function(t){const e=new TextEncoder("utf-8");function r(n,i=!1){return e.encode(n,{stream:!i})}return Ft(t,r,()=>r("",!0))},decodeUTF8:function(t){const e=new TextDecoder("utf-8");function r(n,i=!1){return e.decode(n,{stream:!i})}return Ft(t,r,()=>r(new Uint8Array,!0))},concat:Lr,concatUint8Array:Cm,equalsUint8Array:function(t,e){if(!U.isUint8Array(t)||!U.isUint8Array(e))throw Error("Data must be in the form of a Uint8Array");if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0},writeChecksum:function(t){let e=0;for(let r=0;r<t.length;r++)e=e+t[r]&65535;return U.writeNumber(e,2)},printDebug:function(t){$5&&console.log("[OpenPGP.js debug]",t)},printDebugError:function(t){$5&&console.error("[OpenPGP.js debug]",t)},nbits:function(t){let e=1,r=t>>>16;return r!==0&&(t=r,e+=16),r=t>>8,r!==0&&(t=r,e+=8),r=t>>4,r!==0&&(t=r,e+=4),r=t>>2,r!==0&&(t=r,e+=2),r=t>>1,r!==0&&(t=r,e+=1),e},double:function(t){const e=new Uint8Array(t.length),r=t.length-1;for(let n=0;n<r;n++)e[n]=t[n]<<1^t[n+1]>>7;return e[r]=t[r]<<1^135*(t[0]>>7),e},shiftRight:function(t,e){if(e)for(let r=t.length-1;r>=0;r--)t[r]>>=e,r>0&&(t[r]|=t[r-1]<<8-e);return t},getWebCrypto:function(){return Xr!==void 0&&Xr.crypto&&Xr.crypto.subtle},getBigInteger:async function(){if(TS())return br;{const{default:t}=await Promise.resolve().then(function(){return qM});return t}},getNodeCrypto:function(){},getNodeZlib:function(){},getNodeBuffer:function(){return{}.Buffer},getHardwareConcurrency:function(){return typeof navigator<"u"?navigator.hardwareConcurrency||1:(void 0).cpus().length},isEmailAddress:function(t){return U.isString(t)?/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+([a-zA-Z]{2,}[0-9]*|xn--[a-zA-Z\-0-9]+)))$/.test(t):!1},canonicalizeEOL:function(t){let e=!1;return Ft(t,r=>{let n;e&&(r=U.concatUint8Array([new Uint8Array([13]),r])),r[r.length-1]===13?(e=!0,r=r.subarray(0,-1)):e=!1;const i=[];for(let a=0;n=r.indexOf(10,a)+1,n;a=n)r[n-2]!==13&&i.push(n);if(!i.length)return r;const s=new Uint8Array(r.length+i.length);let o=0;for(let a=0;a<i.length;a++){const c=r.subarray(i[a-1]||0,i[a]);s.set(c,o),o+=c.length,s[o-1]=13,s[o]=10,o++}return s.set(r.subarray(i[i.length-1]||0),o),s},()=>e?new Uint8Array([13]):void 0)},nativeEOL:function(t){let e=!1;return Ft(t,r=>{let n;(r=e&&r[0]!==10?U.concatUint8Array([new Uint8Array([13]),r]):new Uint8Array(r))[r.length-1]===13?(e=!0,r=r.subarray(0,-1)):e=!1;let i=0;for(let s=0;s!==r.length;s=n){n=r.indexOf(13,s)+1,n||(n=r.length);const o=n-(r[n]===10?1:0);s&&r.copyWithin(i,s,o),i+=o-s}return r.subarray(0,i)},()=>e?new Uint8Array([13]):void 0)},removeTrailingSpaces:function(t){return t.split(`
`).map(e=>{let r=e.length-1;for(;r>=0&&(e[r]===" "||e[r]==="	"||e[r]==="\r");r--);return e.substr(0,r+1)}).join(`
`)},wrapError:function(t,e){if(!e)return Error(t);try{e.message=t+": "+e.message}catch{}return e},constructAllowedPackets:function(t){const e={};return t.forEach(r=>{if(!r.tag)throw Error("Invalid input: expected a packet class");e[r.tag]=r}),e},anyPromise:function(t){return new Promise(async(e,r)=>{let n;await Promise.all(t.map(async i=>{try{e(await i)}catch(s){n=s}})),r(n)})},selectUint8Array:function(t,e,r){const n=Math.max(e.length,r.length),i=new Uint8Array(n);let s=0;for(let o=0;o<i.length;o++)i[o]=e[o]&256-t|r[o]&255+t,s+=t&o<e.length|1-t&o<r.length;return i.subarray(0,s)},selectUint8:function(t,e,r){return e&256-t|r&255+t},isAES:function(t){return t===D.symmetric.aes128||t===D.symmetric.aes192||t===D.symmetric.aes256}},px=U.getNodeBuffer();let Hu,Vu;function Di(t){let e=new Uint8Array;return Ft(t,r=>{e=U.concatUint8Array([e,r]);const n=[],i=Math.floor(e.length/45),s=45*i,o=Hu(e.subarray(0,s));for(let a=0;a<i;a++)n.push(o.substr(60*a,60)),n.push(`
`);return e=e.subarray(s),n.join("")},()=>e.length?Hu(e)+`
`:"")}function Fm(t){let e="";return Ft(t,r=>{e+=r;let n=0;const i=[" ","	","\r",`
`];for(let a=0;a<i.length;a++){const c=i[a];for(let l=e.indexOf(c);l!==-1;l=e.indexOf(c,l+1))n++}let s=e.length;for(;s>0&&(s-n)%4!=0;s--)i.includes(e[s])&&n--;const o=Vu(e.substr(0,s));return e=e.substr(s),o},()=>Vu(e))}function Ti(t){return Fm(t.replace(/-/g,"+").replace(/_/g,"/"))}function qr(t,e){let r=Di(t).replace(/[\r\n]/g,"");return e&&(r=r.replace(/[+]/g,"-").replace(/[/]/g,"_").replace(/[=]/g,"")),r}px?(Hu=t=>px.from(t).toString("base64"),Vu=t=>{const e=px.from(t,"base64");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}):(Hu=t=>btoa(U.uint8ArrayToString(t)),Vu=t=>U.stringToUint8Array(atob(t)));var Be={preferredHashAlgorithm:D.hash.sha256,preferredSymmetricAlgorithm:D.symmetric.aes256,preferredCompressionAlgorithm:D.compression.uncompressed,deflateLevel:6,aeadProtect:!1,preferredAEADAlgorithm:D.aead.eax,aeadChunkSizeByte:12,v5Keys:!1,s2kIterationCountByte:224,allowUnauthenticatedMessages:!1,allowUnauthenticatedStream:!1,checksumRequired:!1,minRSABits:2047,passwordCollisionCheck:!1,revocationsExpire:!1,allowInsecureDecryptionWithSigningKeys:!1,allowInsecureVerificationWithReformattedKeys:!1,constantTimePKCS1Decryption:!1,constantTimePKCS1DecryptionSupportedSymmetricAlgorithms:new Set([D.symmetric.aes128,D.symmetric.aes192,D.symmetric.aes256]),minBytesForWebCrypto:1e3,ignoreUnsupportedPackets:!0,ignoreMalformedPackets:!1,additionalAllowedPackets:[],showVersion:!1,showComment:!1,versionString:"OpenPGP.js 5.11.0",commentString:"https://openpgpjs.org",maxUserIDLength:5120,knownNotations:[],useIndutnyElliptic:!0,rejectHashAlgorithms:new Set([D.hash.md5,D.hash.ripemd]),rejectMessageHashAlgorithms:new Set([D.hash.md5,D.hash.ripemd,D.hash.sha1]),rejectPublicKeyAlgorithms:new Set([D.publicKey.elgamal,D.publicKey.dsa]),rejectCurves:new Set([D.curve.secp256k1])};function MS(t){const e=t.match(/^-----BEGIN PGP (MESSAGE, PART \d+\/\d+|MESSAGE, PART \d+|SIGNED MESSAGE|MESSAGE|PUBLIC KEY BLOCK|PRIVATE KEY BLOCK|SIGNATURE)-----$/m);if(!e)throw Error("Unknown ASCII armor type");return/MESSAGE, PART \d+\/\d+/.test(e[1])?D.armor.multipartSection:/MESSAGE, PART \d+/.test(e[1])?D.armor.multipartLast:/SIGNED MESSAGE/.test(e[1])?D.armor.signed:/MESSAGE/.test(e[1])?D.armor.message:/PUBLIC KEY BLOCK/.test(e[1])?D.armor.publicKey:/PRIVATE KEY BLOCK/.test(e[1])?D.armor.privateKey:/SIGNATURE/.test(e[1])?D.armor.signature:void 0}function s0(t,e){let r="";return e.showVersion&&(r+="Version: "+e.versionString+`
`),e.showComment&&(r+="Comment: "+e.commentString+`
`),t&&(r+="Comment: "+t+`
`),r+=`
`,r}function fs(t){return Di(function(e){let r=13501623;return Ft(e,n=>{const i=IS?Math.floor(n.length/4):0,s=new Uint32Array(n.buffer,n.byteOffset,i);for(let o=0;o<i;o++)r^=s[o],r=Qt[0][r>>24&255]^Qt[1][r>>16&255]^Qt[2][r>>8&255]^Qt[3][r>>0&255];for(let o=4*i;o<n.length;o++)r=r>>8^Qt[0][255&r^n[o]]},()=>new Uint8Array([r,r>>8,r>>16]))}(t))}const Qt=[Array(255),Array(255),Array(255),Array(255)];for(let t=0;t<=255;t++){let e=t<<16;for(let r=0;r<8;r++)e=e<<1^(8388608&e?8801531:0);Qt[0][t]=(16711680&e)>>16|65280&e|(255&e)<<16}for(let t=0;t<=255;t++)Qt[1][t]=Qt[0][t]>>8^Qt[0][255&Qt[0][t]];for(let t=0;t<=255;t++)Qt[2][t]=Qt[1][t]>>8^Qt[0][255&Qt[1][t]];for(let t=0;t<=255;t++)Qt[3][t]=Qt[2][t]>>8^Qt[0][255&Qt[2][t]];const IS=function(){const t=new ArrayBuffer(2);return new DataView(t).setInt16(0,255,!0),new Int16Array(t)[0]===255}();function z5(t){for(let e=0;e<t.length;e++)/^([^\s:]|[^\s:][^:]*[^\s:]): .+$/.test(t[e])||U.printDebugError(Error("Improperly formatted armor header: "+t[e])),/^(Version|Comment|MessageID|Hash|Charset): .+$/.test(t[e])||U.printDebugError(Error("Unknown header: "+t[e]))}function RS(t){let e=t,r="";const n=t.lastIndexOf("=");return n>=0&&n!==t.length-1&&(e=t.slice(0,n),r=t.slice(n+1).substr(0,4)),{body:e,checksum:r}}function ud(t,e=Be){return new Promise(async(r,n)=>{try{const i=/^-----[^-]+-----$/m,s=/^[ \f\r\t\u00a0\u2000-\u200a\u202f\u205f\u3000]*$/;let o;const a=[];let c,l,u,f=a,x=[],h=Fm(qi(t,async(C,w)=>{const k=bi(C);try{for(;;){let z=await k.readLine();if(z===void 0)throw Error("Misformed armored text");if(z=U.removeTrailingSpaces(z.replace(/[\r\n]/g,"")),o)if(c)l||o!==2||(i.test(z)?(x=x.join(`\r
`),l=!0,z5(f),f=[],c=!1):x.push(z.replace(/^- /,"")));else if(i.test(z)&&n(Error("Mandatory blank line missing between armor headers and armor data")),s.test(z)){if(z5(f),c=!0,l||o!==2){r({text:x,data:h,headers:a,type:o});break}}else f.push(z);else i.test(z)&&(o=MS(z))}}catch(z){return void n(z)}const O=zr(w);try{for(;;){await O.ready;const{done:z,value:P}=await k.read();if(z)throw Error("Misformed armored text");const A=P+"";if(A.indexOf("=")!==-1||A.indexOf("-")!==-1){let T=await k.readToEnd();T.length||(T=""),T=A+T,T=U.removeTrailingSpaces(T.replace(/\r/g,""));const F=T.split(i);if(F.length===1)throw Error("Misformed armored text");const R=RS(F[0].slice(0,-1));u=R.checksum,await O.write(R.body);break}await O.write(A)}await O.ready,await O.close()}catch(z){await O.abort(z)}}));h=qi(h,async(C,w)=>{const k=Lt(fs(No(C)));k.catch(()=>{}),await js(C,w,{preventClose:!0});const O=zr(w);try{const z=(await k).replace(`
`,"");if(u!==z&&(u||e.checksumRequired))throw Error("Ascii armor integrity check failed");await O.ready,await O.close()}catch(z){await O.abort(z)}})}catch(i){n(i)}}).then(async r=>(Rt(r.data)&&(r.data=await Lt(r.data)),r))}function il(t,e,r,n,i,s=Be){let o,a;t===D.armor.signed&&(o=e.text,a=e.hash,e=e.data);const c=No(e),l=[];switch(t){case D.armor.multipartSection:l.push("-----BEGIN PGP MESSAGE, PART "+r+"/"+n+`-----
`),l.push(s0(i,s)),l.push(Di(e)),l.push("=",fs(c)),l.push("-----END PGP MESSAGE, PART "+r+"/"+n+`-----
`);break;case D.armor.multipartLast:l.push("-----BEGIN PGP MESSAGE, PART "+r+`-----
`),l.push(s0(i,s)),l.push(Di(e)),l.push("=",fs(c)),l.push("-----END PGP MESSAGE, PART "+r+`-----
`);break;case D.armor.signed:l.push(`-----BEGIN PGP SIGNED MESSAGE-----
`),l.push("Hash: "+a+`

`),l.push(o.replace(/^-/gm,"- -")),l.push(`
-----BEGIN PGP SIGNATURE-----
`),l.push(s0(i,s)),l.push(Di(e)),l.push("=",fs(c)),l.push(`-----END PGP SIGNATURE-----
`);break;case D.armor.message:l.push(`-----BEGIN PGP MESSAGE-----
`),l.push(s0(i,s)),l.push(Di(e)),l.push("=",fs(c)),l.push(`-----END PGP MESSAGE-----
`);break;case D.armor.publicKey:l.push(`-----BEGIN PGP PUBLIC KEY BLOCK-----
`),l.push(s0(i,s)),l.push(Di(e)),l.push("=",fs(c)),l.push(`-----END PGP PUBLIC KEY BLOCK-----
`);break;case D.armor.privateKey:l.push(`-----BEGIN PGP PRIVATE KEY BLOCK-----
`),l.push(s0(i,s)),l.push(Di(e)),l.push("=",fs(c)),l.push(`-----END PGP PRIVATE KEY BLOCK-----
`);break;case D.armor.signature:l.push(`-----BEGIN PGP SIGNATURE-----
`),l.push(s0(i,s)),l.push(Di(e)),l.push("=",fs(c)),l.push(`-----END PGP SIGNATURE-----
`)}return U.concat(l)}class Hs{constructor(){this.bytes=""}read(e){return this.bytes=U.uint8ArrayToString(e.subarray(0,8)),this.bytes.length}write(){return U.stringToUint8Array(this.bytes)}toHex(){return U.uint8ArrayToHex(U.stringToUint8Array(this.bytes))}equals(e,r=!1){return r&&(e.isWildcard()||this.isWildcard())||this.bytes===e.bytes}isNull(){return this.bytes===""}isWildcard(){return/^0+$/.test(this.toHex())}static mapToHex(e){return e.toHex()}static fromID(e){const r=new Hs;return r.read(U.hexToUint8Array(e)),r}static wildcard(){const e=new Hs;return e.read(new Uint8Array(8)),e}}var et=function(){var t,e,r=!1;function n(f,x){var h=t[(e[f]+e[x])%255];return f!==0&&x!==0||(h=0),h}var i,s,o,a,c=!1;function l(){function f(w){var k,O,z;for(O=z=function(P){var A=t[255-e[P]];return P===0&&(A=0),A}(w),k=0;k<4;k++)z^=O=255&(O<<1|O>>>7);return z^=99}r||function(){t=[],e=[];var w,k,O=1;for(w=0;w<255;w++)t[w]=O,k=128&O,O<<=1,O&=255,k===128&&(O^=27),O^=t[w],e[t[w]]=w;t[255]=t[0],e[0]=0,r=!0}(),i=[],s=[],o=[[],[],[],[]],a=[[],[],[],[]];for(var x=0;x<256;x++){var h=f(x);i[x]=h,s[h]=x,o[0][x]=n(2,h)<<24|h<<16|h<<8|n(3,h),a[0][h]=n(14,x)<<24|n(9,x)<<16|n(13,x)<<8|n(11,x);for(var C=1;C<4;C++)o[C][x]=o[C-1][x]>>>8|o[C-1][x]<<24,a[C][h]=a[C-1][h]>>>8|a[C-1][h]<<24}c=!0}var u=function(f,x){c||l();var h=new Uint32Array(x);h.set(i,512),h.set(s,768);for(var C=0;C<4;C++)h.set(o[C],4096+1024*C>>2),h.set(a[C],8192+1024*C>>2);var w=function(k,O,z){var P=0,A=0,T=0,F=0,R=0,d=0,p=0,_=0,b=0,m=0,E=0,S=0,Q=0,Z=0,M=0,te=0,ie=0,ue=0,ne=0,le=0,Ae=0,me=new k.Uint32Array(z),W=new k.Uint8Array(z);function re(N,L,be,Ee,Pe,Ye,Ne,ke){N=N|0,L=L|0,be=be|0,Ee=Ee|0,Pe=Pe|0,Ye=Ye|0,Ne=Ne|0,ke=ke|0;var rt=0,Ve=0,Ze=0,Ot=0,Le=0,ze=0,nt=0,Me=0;for(rt=be|1024,Ve=be|2048,Ze=be|3072,Pe=Pe^me[(N|0)>>2],Ye=Ye^me[(N|4)>>2],Ne=Ne^me[(N|8)>>2],ke=ke^me[(N|12)>>2],Me=16;(Me|0)<=Ee<<4;Me=Me+16|0)Ot=me[(be|Pe>>22&1020)>>2]^me[(rt|Ye>>14&1020)>>2]^me[(Ve|Ne>>6&1020)>>2]^me[(Ze|ke<<2&1020)>>2]^me[(N|Me|0)>>2],Le=me[(be|Ye>>22&1020)>>2]^me[(rt|Ne>>14&1020)>>2]^me[(Ve|ke>>6&1020)>>2]^me[(Ze|Pe<<2&1020)>>2]^me[(N|Me|4)>>2],ze=me[(be|Ne>>22&1020)>>2]^me[(rt|ke>>14&1020)>>2]^me[(Ve|Pe>>6&1020)>>2]^me[(Ze|Ye<<2&1020)>>2]^me[(N|Me|8)>>2],nt=me[(be|ke>>22&1020)>>2]^me[(rt|Pe>>14&1020)>>2]^me[(Ve|Ye>>6&1020)>>2]^me[(Ze|Ne<<2&1020)>>2]^me[(N|Me|12)>>2],Pe=Ot,Ye=Le,Ne=ze,ke=nt;P=me[(L|Pe>>22&1020)>>2]<<24^me[(L|Ye>>14&1020)>>2]<<16^me[(L|Ne>>6&1020)>>2]<<8^me[(L|ke<<2&1020)>>2]^me[(N|Me|0)>>2],A=me[(L|Ye>>22&1020)>>2]<<24^me[(L|Ne>>14&1020)>>2]<<16^me[(L|ke>>6&1020)>>2]<<8^me[(L|Pe<<2&1020)>>2]^me[(N|Me|4)>>2],T=me[(L|Ne>>22&1020)>>2]<<24^me[(L|ke>>14&1020)>>2]<<16^me[(L|Pe>>6&1020)>>2]<<8^me[(L|Ye<<2&1020)>>2]^me[(N|Me|8)>>2],F=me[(L|ke>>22&1020)>>2]<<24^me[(L|Pe>>14&1020)>>2]<<16^me[(L|Ye>>6&1020)>>2]<<8^me[(L|Ne<<2&1020)>>2]^me[(N|Me|12)>>2]}function K(N,L,be,Ee){N=N|0,L=L|0,be=be|0,Ee=Ee|0,re(0,2048,4096,Ae,N,L,be,Ee)}function v(N,L,be,Ee){N=N|0,L=L|0,be=be|0,Ee=Ee|0;var Pe=0;re(1024,3072,8192,Ae,N,Ee,be,L),Pe=A,A=F,F=Pe}function J(N,L,be,Ee){N=N|0,L=L|0,be=be|0,Ee=Ee|0,re(0,2048,4096,Ae,R^N,d^L,p^be,_^Ee),R=P,d=A,p=T,_=F}function xe(N,L,be,Ee){N=N|0,L=L|0,be=be|0,Ee=Ee|0;var Pe=0;re(1024,3072,8192,Ae,N,Ee,be,L),Pe=A,A=F,F=Pe,P=P^R,A=A^d,T=T^p,F=F^_,R=N,d=L,p=be,_=Ee}function fe(N,L,be,Ee){N=N|0,L=L|0,be=be|0,Ee=Ee|0,re(0,2048,4096,Ae,R,d,p,_),R=P=P^N,d=A=A^L,p=T=T^be,_=F=F^Ee}function he(N,L,be,Ee){N=N|0,L=L|0,be=be|0,Ee=Ee|0,re(0,2048,4096,Ae,R,d,p,_),P=P^N,A=A^L,T=T^be,F=F^Ee,R=N,d=L,p=be,_=Ee}function y(N,L,be,Ee){N=N|0,L=L|0,be=be|0,Ee=Ee|0,re(0,2048,4096,Ae,R,d,p,_),R=P,d=A,p=T,_=F,P=P^N,A=A^L,T=T^be,F=F^Ee}function g(N,L,be,Ee){N=N|0,L=L|0,be=be|0,Ee=Ee|0,re(0,2048,4096,Ae,b,m,E,S),S=~te&S|te&S+1,E=~M&E|M&E+((S|0)==0),m=~Z&m|Z&m+((E|0)==0),b=~Q&b|Q&b+((m|0)==0),P=P^N,A=A^L,T=T^be,F=F^Ee}function B(N,L,be,Ee){N=N|0,L=L|0,be=be|0,Ee=Ee|0;var Pe=0,Ye=0,Ne=0,ke=0,rt=0,Ve=0,Ze=0,Ot=0,Le=0,ze=0;for(N=N^R,L=L^d,be=be^p,Ee=Ee^_,Pe=ie|0,Ye=ue|0,Ne=ne|0,ke=le|0;(Le|0)<128;Le=Le+1|0)Pe>>>31&&(rt=rt^N,Ve=Ve^L,Ze=Ze^be,Ot=Ot^Ee),Pe=Pe<<1|Ye>>>31,Ye=Ye<<1|Ne>>>31,Ne=Ne<<1|ke>>>31,ke=ke<<1,ze=Ee&1,Ee=Ee>>>1|be<<31,be=be>>>1|L<<31,L=L>>>1|N<<31,N=N>>>1,ze&&(N=N^3774873600);R=rt,d=Ve,p=Ze,_=Ot}function I(N){N=N|0,Ae=N}function j(N,L,be,Ee){N=N|0,L=L|0,be=be|0,Ee=Ee|0,P=N,A=L,T=be,F=Ee}function $(N,L,be,Ee){N=N|0,L=L|0,be=be|0,Ee=Ee|0,R=N,d=L,p=be,_=Ee}function q(N,L,be,Ee){N=N|0,L=L|0,be=be|0,Ee=Ee|0,b=N,m=L,E=be,S=Ee}function ae(N,L,be,Ee){N=N|0,L=L|0,be=be|0,Ee=Ee|0,Q=N,Z=L,M=be,te=Ee}function oe(N,L,be,Ee){N=N|0,L=L|0,be=be|0,Ee=Ee|0,S=~te&S|te&Ee,E=~M&E|M&be,m=~Z&m|Z&L,b=~Q&b|Q&N}function ce(N){return N=N|0,N&15?-1:(W[N|0]=P>>>24,W[N|1]=P>>>16&255,W[N|2]=P>>>8&255,W[N|3]=P&255,W[N|4]=A>>>24,W[N|5]=A>>>16&255,W[N|6]=A>>>8&255,W[N|7]=A&255,W[N|8]=T>>>24,W[N|9]=T>>>16&255,W[N|10]=T>>>8&255,W[N|11]=T&255,W[N|12]=F>>>24,W[N|13]=F>>>16&255,W[N|14]=F>>>8&255,W[N|15]=F&255,16)}function H(N){return N=N|0,N&15?-1:(W[N|0]=R>>>24,W[N|1]=R>>>16&255,W[N|2]=R>>>8&255,W[N|3]=R&255,W[N|4]=d>>>24,W[N|5]=d>>>16&255,W[N|6]=d>>>8&255,W[N|7]=d&255,W[N|8]=p>>>24,W[N|9]=p>>>16&255,W[N|10]=p>>>8&255,W[N|11]=p&255,W[N|12]=_>>>24,W[N|13]=_>>>16&255,W[N|14]=_>>>8&255,W[N|15]=_&255,16)}function V(){K(0,0,0,0),ie=P,ue=A,ne=T,le=F}function Y(N,L,be){N=N|0,L=L|0,be=be|0;var Ee=0;if(L&15)return-1;for(;(be|0)>=16;)X[N&7](W[L|0]<<24|W[L|1]<<16|W[L|2]<<8|W[L|3],W[L|4]<<24|W[L|5]<<16|W[L|6]<<8|W[L|7],W[L|8]<<24|W[L|9]<<16|W[L|10]<<8|W[L|11],W[L|12]<<24|W[L|13]<<16|W[L|14]<<8|W[L|15]),W[L|0]=P>>>24,W[L|1]=P>>>16&255,W[L|2]=P>>>8&255,W[L|3]=P&255,W[L|4]=A>>>24,W[L|5]=A>>>16&255,W[L|6]=A>>>8&255,W[L|7]=A&255,W[L|8]=T>>>24,W[L|9]=T>>>16&255,W[L|10]=T>>>8&255,W[L|11]=T&255,W[L|12]=F>>>24,W[L|13]=F>>>16&255,W[L|14]=F>>>8&255,W[L|15]=F&255,Ee=Ee+16|0,L=L+16|0,be=be-16|0;return Ee|0}function G(N,L,be){N=N|0,L=L|0,be=be|0;var Ee=0;if(L&15)return-1;for(;(be|0)>=16;)ee[N&1](W[L|0]<<24|W[L|1]<<16|W[L|2]<<8|W[L|3],W[L|4]<<24|W[L|5]<<16|W[L|6]<<8|W[L|7],W[L|8]<<24|W[L|9]<<16|W[L|10]<<8|W[L|11],W[L|12]<<24|W[L|13]<<16|W[L|14]<<8|W[L|15]),Ee=Ee+16|0,L=L+16|0,be=be-16|0;return Ee|0}var X=[K,v,J,xe,fe,he,y,g],ee=[J,B];return{set_rounds:I,set_state:j,set_iv:$,set_nonce:q,set_mask:ae,set_counter:oe,get_state:ce,get_iv:H,gcm_init:V,cipher:Y,mac:G}}({Uint8Array,Uint32Array},f,x);return w.set_key=function(k,O,z,P,A,T,F,R,d){var p=h.subarray(0,60),_=h.subarray(256,316);p.set([O,z,P,A,T,F,R,d]);for(var b=k,m=1;b<4*k+28;b++){var E=p[b-1];(b%k==0||k===8&&b%k==4)&&(E=i[E>>>24]<<24^i[E>>>16&255]<<16^i[E>>>8&255]<<8^i[255&E]),b%k==0&&(E=E<<8^E>>>24^m<<24,m=m<<1^(128&m?27:0)),p[b]=p[b-k]^E}for(var S=0;S<b;S+=4)for(var Q=0;Q<4;Q++)E=p[b-(4+S)+(4-Q)%4],_[S+Q]=S<4||S>=b-4?E:a[0][i[E>>>24]]^a[1][i[E>>>16&255]]^a[2][i[E>>>8&255]]^a[3][i[255&E]];w.set_rounds(k+5)},w};return u.ENC={ECB:0,CBC:2,CFB:4,OFB:6,CTR:7},u.DEC={ECB:1,CBC:3,CFB:5,OFB:6,CTR:7},u.MAC={CBC:0,GCM:1},u.HEAP_DATA=16384,u}();function j5(t){return t instanceof Uint8Array}function n9(t,e){const r=t?t.byteLength:e||65536;if(4095&r||r<=0)throw Error("heap size must be a positive integer and a multiple of 4096");return t=t||new Uint8Array(new ArrayBuffer(r))}function A0(t,e,r,n,i){const s=t.length-e,o=s<i?s:i;return t.set(r.subarray(n,n+o),e),o}function Vs(...t){const e=t.reduce((i,s)=>i+s.length,0),r=new Uint8Array(e);let n=0;for(let i=0;i<t.length;i++)r.set(t[i],n),n+=t[i].length;return r}class nh extends Error{constructor(...e){super(...e)}}class Ri extends Error{constructor(...e){super(...e)}}class ih extends Error{constructor(...e){super(...e)}}const H5=[],V5=[];class sl{constructor(e,r,n=!0,i,s,o){this.pos=0,this.len=0,this.mode=i,this.pos=0,this.len=0,this.key=e,this.iv=r,this.padding=n,this.acquire_asm(s,o)}acquire_asm(e,r){return this.heap!==void 0&&this.asm!==void 0||(this.heap=e||H5.pop()||n9().subarray(et.HEAP_DATA),this.asm=r||V5.pop()||new et(null,this.heap.buffer),this.reset(this.key,this.iv)),{heap:this.heap,asm:this.asm}}release_asm(){this.heap!==void 0&&this.asm!==void 0&&(H5.push(this.heap),V5.push(this.asm)),this.heap=void 0,this.asm=void 0}reset(e,r){const{asm:n}=this.acquire_asm(),i=e.length;if(i!==16&&i!==24&&i!==32)throw new Ri("illegal key size");const s=new DataView(e.buffer,e.byteOffset,e.byteLength);if(n.set_key(i>>2,s.getUint32(0),s.getUint32(4),s.getUint32(8),s.getUint32(12),i>16?s.getUint32(16):0,i>16?s.getUint32(20):0,i>24?s.getUint32(24):0,i>24?s.getUint32(28):0),r!==void 0){if(r.length!==16)throw new Ri("illegal iv size");let o=new DataView(r.buffer,r.byteOffset,r.byteLength);n.set_iv(o.getUint32(0),o.getUint32(4),o.getUint32(8),o.getUint32(12))}else n.set_iv(0,0,0,0)}AES_Encrypt_process(e){if(!j5(e))throw new TypeError("data isn't of expected type");let{heap:r,asm:n}=this.acquire_asm(),i=et.ENC[this.mode],s=et.HEAP_DATA,o=this.pos,a=this.len,c=0,l=e.length||0,u=0,f=0,x=new Uint8Array(a+l&-16);for(;l>0;)f=A0(r,o+a,e,c,l),a+=f,c+=f,l-=f,f=n.cipher(i,s+o,a),f&&x.set(r.subarray(o,o+f),u),u+=f,f<a?(o+=f,a-=f):(o=0,a=0);return this.pos=o,this.len=a,x}AES_Encrypt_finish(){let{heap:e,asm:r}=this.acquire_asm(),n=et.ENC[this.mode],i=et.HEAP_DATA,s=this.pos,o=this.len,a=16-o%16,c=o;if(this.hasOwnProperty("padding")){if(this.padding){for(let u=0;u<a;++u)e[s+o+u]=a;o+=a,c=o}else if(o%16)throw new Ri("data length must be a multiple of the block size")}else o+=a;const l=new Uint8Array(c);return o&&r.cipher(n,i+s,o),c&&l.set(e.subarray(s,s+c)),this.pos=0,this.len=0,this.release_asm(),l}AES_Decrypt_process(e){if(!j5(e))throw new TypeError("data isn't of expected type");let{heap:r,asm:n}=this.acquire_asm(),i=et.DEC[this.mode],s=et.HEAP_DATA,o=this.pos,a=this.len,c=0,l=e.length||0,u=0,f=a+l&-16,x=0,h=0;this.padding&&(x=a+l-f||16,f-=x);const C=new Uint8Array(f);for(;l>0;)h=A0(r,o+a,e,c,l),a+=h,c+=h,l-=h,h=n.cipher(i,s+o,a-(l?0:x)),h&&C.set(r.subarray(o,o+h),u),u+=h,h<a?(o+=h,a-=h):(o=0,a=0);return this.pos=o,this.len=a,C}AES_Decrypt_finish(){let{heap:e,asm:r}=this.acquire_asm(),n=et.DEC[this.mode],i=et.HEAP_DATA,s=this.pos,o=this.len,a=o;if(o>0){if(o%16){if(this.hasOwnProperty("padding"))throw new Ri("data length must be a multiple of the block size");o+=16-o%16}if(r.cipher(n,i+s,o),this.hasOwnProperty("padding")&&this.padding){let l=e[s+a-1];if(l<1||l>16||l>a)throw new ih("bad padding");let u=0;for(let f=l;f>1;f--)u|=l^e[s+a-f];if(u)throw new ih("bad padding");a-=l}}const c=new Uint8Array(a);return a>0&&c.set(e.subarray(s,s+a)),this.pos=0,this.len=0,this.release_asm(),c}}class qu{static encrypt(e,r,n=!1){return new qu(r,n).encrypt(e)}static decrypt(e,r,n=!1){return new qu(r,n).decrypt(e)}constructor(e,r=!1,n){this.aes=n||new sl(e,void 0,r,"ECB")}encrypt(e){return Vs(this.aes.AES_Encrypt_process(e),this.aes.AES_Encrypt_finish())}decrypt(e){return Vs(this.aes.AES_Decrypt_process(e),this.aes.AES_Decrypt_finish())}}function i9(t){const e=function(r){const n=new qu(r);this.encrypt=function(i){return n.encrypt(i)},this.decrypt=function(i){return n.decrypt(i)}};return e.blockSize=e.prototype.blockSize=16,e.keySize=e.prototype.keySize=t/8,e}function ac(t,e,r,n,i,s){const o=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],a=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],c=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],l=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],u=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],f=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],x=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],h=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];let C,w,k,O,z,P,A,T,F,R,d,p,_,b,m=0,E=e.length;const S=t.length===32?3:9;T=S===3?r?[0,32,2]:[30,-2,-2]:r?[0,32,2,62,30,-2,64,96,2]:[94,62,-2,32,64,2,30,-2,-2],r&&(e=function(M,te){const ie=8-M.length%8;let ue;if(te===2&&ie<8)ue=32;else if(te===1)ue=ie;else{if(te||!(ie<8)){if(ie===8)return M;throw Error("des: invalid padding")}ue=0}const ne=new Uint8Array(M.length+ie);for(let le=0;le<M.length;le++)ne[le]=M[le];for(let le=0;le<ie;le++)ne[M.length+le]=ue;return ne}(e,s),E=e.length);let Q=new Uint8Array(E),Z=0;for(n===1&&(F=i[m++]<<24|i[m++]<<16|i[m++]<<8|i[m++],d=i[m++]<<24|i[m++]<<16|i[m++]<<8|i[m++],m=0);m<E;){for(P=e[m++]<<24|e[m++]<<16|e[m++]<<8|e[m++],A=e[m++]<<24|e[m++]<<16|e[m++]<<8|e[m++],n===1&&(r?(P^=F,A^=d):(R=F,p=d,F=P,d=A)),k=252645135&(P>>>4^A),A^=k,P^=k<<4,k=65535&(P>>>16^A),A^=k,P^=k<<16,k=858993459&(A>>>2^P),P^=k,A^=k<<2,k=16711935&(A>>>8^P),P^=k,A^=k<<8,k=1431655765&(P>>>1^A),A^=k,P^=k<<1,P=P<<1|P>>>31,A=A<<1|A>>>31,w=0;w<S;w+=3){for(_=T[w+1],b=T[w+2],C=T[w];C!==_;C+=b)O=A^t[C],z=(A>>>4|A<<28)^t[C+1],k=P,P=A,A=k^(a[O>>>24&63]|l[O>>>16&63]|f[O>>>8&63]|h[63&O]|o[z>>>24&63]|c[z>>>16&63]|u[z>>>8&63]|x[63&z]);k=P,P=A,A=k}P=P>>>1|P<<31,A=A>>>1|A<<31,k=1431655765&(P>>>1^A),A^=k,P^=k<<1,k=16711935&(A>>>8^P),P^=k,A^=k<<8,k=858993459&(A>>>2^P),P^=k,A^=k<<2,k=65535&(P>>>16^A),A^=k,P^=k<<16,k=252645135&(P>>>4^A),A^=k,P^=k<<4,n===1&&(r?(F=P,d=A):(P^=R,A^=p)),Q[Z++]=P>>>24,Q[Z++]=P>>>16&255,Q[Z++]=P>>>8&255,Q[Z++]=255&P,Q[Z++]=A>>>24,Q[Z++]=A>>>16&255,Q[Z++]=A>>>8&255,Q[Z++]=255&A}return r||(Q=function(M,te){let ie,ue=null;if(te===2)ie=32;else if(te===1)ue=M[M.length-1];else{if(te)throw Error("des: invalid padding");ie=0}if(!ue){for(ue=1;M[M.length-ue]===ie;)ue++;ue--}return M.subarray(0,M.length-ue)}(Q,s)),Q}function cc(t){const e=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],s=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],o=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],a=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],l=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],u=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],f=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],x=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],h=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],C=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],w=t.length>8?3:1,k=Array(32*w),O=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0];let z,P,A,T=0,F=0;for(let R=0;R<w;R++){let d=t[T++]<<24|t[T++]<<16|t[T++]<<8|t[T++],p=t[T++]<<24|t[T++]<<16|t[T++]<<8|t[T++];A=252645135&(d>>>4^p),p^=A,d^=A<<4,A=65535&(p>>>-16^d),d^=A,p^=A<<-16,A=858993459&(d>>>2^p),p^=A,d^=A<<2,A=65535&(p>>>-16^d),d^=A,p^=A<<-16,A=1431655765&(d>>>1^p),p^=A,d^=A<<1,A=16711935&(p>>>8^d),d^=A,p^=A<<8,A=1431655765&(d>>>1^p),p^=A,d^=A<<1,A=d<<8|p>>>20&240,d=p<<24|p<<8&16711680|p>>>8&65280|p>>>24&240,p=A;for(let _=0;_<16;_++)O[_]?(d=d<<2|d>>>26,p=p<<2|p>>>26):(d=d<<1|d>>>27,p=p<<1|p>>>27),d&=-15,p&=-15,z=e[d>>>28]|r[d>>>24&15]|n[d>>>20&15]|i[d>>>16&15]|s[d>>>12&15]|o[d>>>8&15]|a[d>>>4&15],P=c[p>>>28]|l[p>>>24&15]|u[p>>>20&15]|f[p>>>16&15]|x[p>>>12&15]|h[p>>>8&15]|C[p>>>4&15],A=65535&(P>>>16^z),k[F++]=z^A,k[F++]=P^A<<16}return k}function Ua(t){this.key=[];for(let e=0;e<3;e++)this.key.push(new Uint8Array(t.subarray(8*e,8*e+8)));this.encrypt=function(e){return ac(cc(this.key[2]),ac(cc(this.key[1]),ac(cc(this.key[0]),e,!0,0,null,null),!1,0,null,null),!0,0,null,null)}}function OS(){this.BlockSize=8,this.KeySize=16,this.setKey=function(o){if(this.masking=Array(16),this.rotate=Array(16),this.reset(),o.length!==this.KeySize)throw Error("CAST-128: keys must be 16 bytes");return this.keySchedule(o),!0},this.reset=function(){for(let o=0;o<16;o++)this.masking[o]=0,this.rotate[o]=0},this.getBlockSize=function(){return this.BlockSize},this.encrypt=function(o){const a=Array(o.length);for(let c=0;c<o.length;c+=8){let l,u=o[c]<<24|o[c+1]<<16|o[c+2]<<8|o[c+3],f=o[c+4]<<24|o[c+5]<<16|o[c+6]<<8|o[c+7];l=f,f=u^r(f,this.masking[0],this.rotate[0]),u=l,l=f,f=u^n(f,this.masking[1],this.rotate[1]),u=l,l=f,f=u^i(f,this.masking[2],this.rotate[2]),u=l,l=f,f=u^r(f,this.masking[3],this.rotate[3]),u=l,l=f,f=u^n(f,this.masking[4],this.rotate[4]),u=l,l=f,f=u^i(f,this.masking[5],this.rotate[5]),u=l,l=f,f=u^r(f,this.masking[6],this.rotate[6]),u=l,l=f,f=u^n(f,this.masking[7],this.rotate[7]),u=l,l=f,f=u^i(f,this.masking[8],this.rotate[8]),u=l,l=f,f=u^r(f,this.masking[9],this.rotate[9]),u=l,l=f,f=u^n(f,this.masking[10],this.rotate[10]),u=l,l=f,f=u^i(f,this.masking[11],this.rotate[11]),u=l,l=f,f=u^r(f,this.masking[12],this.rotate[12]),u=l,l=f,f=u^n(f,this.masking[13],this.rotate[13]),u=l,l=f,f=u^i(f,this.masking[14],this.rotate[14]),u=l,l=f,f=u^r(f,this.masking[15],this.rotate[15]),u=l,a[c]=f>>>24&255,a[c+1]=f>>>16&255,a[c+2]=f>>>8&255,a[c+3]=255&f,a[c+4]=u>>>24&255,a[c+5]=u>>>16&255,a[c+6]=u>>>8&255,a[c+7]=255&u}return a},this.decrypt=function(o){const a=Array(o.length);for(let c=0;c<o.length;c+=8){let l,u=o[c]<<24|o[c+1]<<16|o[c+2]<<8|o[c+3],f=o[c+4]<<24|o[c+5]<<16|o[c+6]<<8|o[c+7];l=f,f=u^r(f,this.masking[15],this.rotate[15]),u=l,l=f,f=u^i(f,this.masking[14],this.rotate[14]),u=l,l=f,f=u^n(f,this.masking[13],this.rotate[13]),u=l,l=f,f=u^r(f,this.masking[12],this.rotate[12]),u=l,l=f,f=u^i(f,this.masking[11],this.rotate[11]),u=l,l=f,f=u^n(f,this.masking[10],this.rotate[10]),u=l,l=f,f=u^r(f,this.masking[9],this.rotate[9]),u=l,l=f,f=u^i(f,this.masking[8],this.rotate[8]),u=l,l=f,f=u^n(f,this.masking[7],this.rotate[7]),u=l,l=f,f=u^r(f,this.masking[6],this.rotate[6]),u=l,l=f,f=u^i(f,this.masking[5],this.rotate[5]),u=l,l=f,f=u^n(f,this.masking[4],this.rotate[4]),u=l,l=f,f=u^r(f,this.masking[3],this.rotate[3]),u=l,l=f,f=u^i(f,this.masking[2],this.rotate[2]),u=l,l=f,f=u^n(f,this.masking[1],this.rotate[1]),u=l,l=f,f=u^r(f,this.masking[0],this.rotate[0]),u=l,a[c]=f>>>24&255,a[c+1]=f>>>16&255,a[c+2]=f>>>8&255,a[c+3]=255&f,a[c+4]=u>>>24&255,a[c+5]=u>>16&255,a[c+6]=u>>8&255,a[c+7]=255&u}return a};const t=[,,,,];t[0]=[,,,,],t[0][0]=[4,0,13,15,12,14,8],t[0][1]=[5,2,16,18,17,19,10],t[0][2]=[6,3,23,22,21,20,9],t[0][3]=[7,1,26,25,27,24,11],t[1]=[,,,,],t[1][0]=[0,6,21,23,20,22,16],t[1][1]=[1,4,0,2,1,3,18],t[1][2]=[2,5,7,6,5,4,17],t[1][3]=[3,7,10,9,11,8,19],t[2]=[,,,,],t[2][0]=[4,0,13,15,12,14,8],t[2][1]=[5,2,16,18,17,19,10],t[2][2]=[6,3,23,22,21,20,9],t[2][3]=[7,1,26,25,27,24,11],t[3]=[,,,,],t[3][0]=[0,6,21,23,20,22,16],t[3][1]=[1,4,0,2,1,3,18],t[3][2]=[2,5,7,6,5,4,17],t[3][3]=[3,7,10,9,11,8,19];const e=[,,,,];function r(o,a,c){const l=a+o,u=l<<c|l>>>32-c;return(s[0][u>>>24]^s[1][u>>>16&255])-s[2][u>>>8&255]+s[3][255&u]}function n(o,a,c){const l=a^o,u=l<<c|l>>>32-c;return s[0][u>>>24]-s[1][u>>>16&255]+s[2][u>>>8&255]^s[3][255&u]}function i(o,a,c){const l=a-o,u=l<<c|l>>>32-c;return(s[0][u>>>24]+s[1][u>>>16&255]^s[2][u>>>8&255])-s[3][255&u]}e[0]=[,,,,],e[0][0]=[24,25,23,22,18],e[0][1]=[26,27,21,20,22],e[0][2]=[28,29,19,18,25],e[0][3]=[30,31,17,16,28],e[1]=[,,,,],e[1][0]=[3,2,12,13,8],e[1][1]=[1,0,14,15,13],e[1][2]=[7,6,8,9,3],e[1][3]=[5,4,10,11,7],e[2]=[,,,,],e[2][0]=[19,18,28,29,25],e[2][1]=[17,16,30,31,28],e[2][2]=[23,22,24,25,18],e[2][3]=[21,20,26,27,22],e[3]=[,,,,],e[3][0]=[8,9,7,6,3],e[3][1]=[10,11,5,4,7],e[3][2]=[12,13,3,2,8],e[3][3]=[14,15,1,0,13],this.keySchedule=function(o){const a=[,,,,,,,,],c=Array(32);let l;for(let h=0;h<4;h++)l=4*h,a[h]=o[l]<<24|o[l+1]<<16|o[l+2]<<8|o[l+3];const u=[6,7,4,5];let f,x=0;for(let h=0;h<2;h++)for(let C=0;C<4;C++){for(l=0;l<4;l++){const w=t[C][l];f=a[w[1]],f^=s[4][a[w[2]>>>2]>>>24-8*(3&w[2])&255],f^=s[5][a[w[3]>>>2]>>>24-8*(3&w[3])&255],f^=s[6][a[w[4]>>>2]>>>24-8*(3&w[4])&255],f^=s[7][a[w[5]>>>2]>>>24-8*(3&w[5])&255],f^=s[u[l]][a[w[6]>>>2]>>>24-8*(3&w[6])&255],a[w[0]]=f}for(l=0;l<4;l++){const w=e[C][l];f=s[4][a[w[0]>>>2]>>>24-8*(3&w[0])&255],f^=s[5][a[w[1]>>>2]>>>24-8*(3&w[1])&255],f^=s[6][a[w[2]>>>2]>>>24-8*(3&w[2])&255],f^=s[7][a[w[3]>>>2]>>>24-8*(3&w[3])&255],f^=s[4+l][a[w[4]>>>2]>>>24-8*(3&w[4])&255],c[x]=f,x++}}for(let h=0;h<16;h++)this.masking[h]=c[h],this.rotate[h]=31&c[16+h]};const s=[,,,,,,,,];s[0]=[821772500,2678128395,1810681135,1059425402,505495343,2617265619,1610868032,3483355465,3218386727,2294005173,3791863952,2563806837,1852023008,365126098,3269944861,584384398,677919599,3229601881,4280515016,2002735330,1136869587,3744433750,2289869850,2731719981,2714362070,879511577,1639411079,575934255,717107937,2857637483,576097850,2731753936,1725645e3,2810460463,5111599,767152862,2543075244,1251459544,1383482551,3052681127,3089939183,3612463449,1878520045,1510570527,2189125840,2431448366,582008916,3163445557,1265446783,1354458274,3529918736,3202711853,3073581712,3912963487,3029263377,1275016285,4249207360,2905708351,3304509486,1442611557,3585198765,2712415662,2731849581,3248163920,2283946226,208555832,2766454743,1331405426,1447828783,3315356441,3108627284,2957404670,2981538698,3339933917,1669711173,286233437,1465092821,1782121619,3862771680,710211251,980974943,1651941557,430374111,2051154026,704238805,4128970897,3144820574,2857402727,948965521,3333752299,2227686284,718756367,2269778983,2731643755,718440111,2857816721,3616097120,1113355533,2478022182,410092745,1811985197,1944238868,2696854588,1415722873,1682284203,1060277122,1998114690,1503841958,82706478,2315155686,1068173648,845149890,2167947013,1768146376,1993038550,3566826697,3390574031,940016341,3355073782,2328040721,904371731,1205506512,4094660742,2816623006,825647681,85914773,2857843460,1249926541,1417871568,3287612,3211054559,3126306446,1975924523,1353700161,2814456437,2438597621,1800716203,722146342,2873936343,1151126914,4160483941,2877670899,458611604,2866078500,3483680063,770352098,2652916994,3367839148,3940505011,3585973912,3809620402,718646636,2504206814,2914927912,3631288169,2857486607,2860018678,575749918,2857478043,718488780,2069512688,3548183469,453416197,1106044049,3032691430,52586708,3378514636,3459808877,3211506028,1785789304,218356169,3571399134,3759170522,1194783844,1523787992,3007827094,1975193539,2555452411,1341901877,3045838698,3776907964,3217423946,2802510864,2889438986,1057244207,1636348243,3761863214,1462225785,2632663439,481089165,718503062,24497053,3332243209,3344655856,3655024856,3960371065,1195698900,2971415156,3710176158,2115785917,4027663609,3525578417,2524296189,2745972565,3564906415,1372086093,1452307862,2780501478,1476592880,3389271281,18495466,2378148571,901398090,891748256,3279637769,3157290713,2560960102,1447622437,4284372637,216884176,2086908623,1879786977,3588903153,2242455666,2938092967,3559082096,2810645491,758861177,1121993112,215018983,642190776,4169236812,1196255959,2081185372,3508738393,941322904,4124243163,2877523539,1848581667,2205260958,3180453958,2589345134,3694731276,550028657,2519456284,3789985535,2973870856,2093648313,443148163,46942275,2734146937,1117713533,1115362972,1523183689,3717140224,1551984063],s[1]=[522195092,4010518363,1776537470,960447360,4267822970,4005896314,1435016340,1929119313,2913464185,1310552629,3579470798,3724818106,2579771631,1594623892,417127293,2715217907,2696228731,1508390405,3994398868,3925858569,3695444102,4019471449,3129199795,3770928635,3520741761,990456497,4187484609,2783367035,21106139,3840405339,631373633,3783325702,532942976,396095098,3548038825,4267192484,2564721535,2011709262,2039648873,620404603,3776170075,2898526339,3612357925,4159332703,1645490516,223693667,1567101217,3362177881,1029951347,3470931136,3570957959,1550265121,119497089,972513919,907948164,3840628539,1613718692,3594177948,465323573,2659255085,654439692,2575596212,2699288441,3127702412,277098644,624404830,4100943870,2717858591,546110314,2403699828,3655377447,1321679412,4236791657,1045293279,4010672264,895050893,2319792268,494945126,1914543101,2777056443,3894764339,2219737618,311263384,4275257268,3458730721,669096869,3584475730,3835122877,3319158237,3949359204,2005142349,2713102337,2228954793,3769984788,569394103,3855636576,1425027204,108000370,2736431443,3671869269,3043122623,1750473702,2211081108,762237499,3972989403,2798899386,3061857628,2943854345,867476300,964413654,1591880597,1594774276,2179821409,552026980,3026064248,3726140315,2283577634,3110545105,2152310760,582474363,1582640421,1383256631,2043843868,3322775884,1217180674,463797851,2763038571,480777679,2718707717,2289164131,3118346187,214354409,200212307,3810608407,3025414197,2674075964,3997296425,1847405948,1342460550,510035443,4080271814,815934613,833030224,1620250387,1945732119,2703661145,3966000196,1388869545,3456054182,2687178561,2092620194,562037615,1356438536,3409922145,3261847397,1688467115,2150901366,631725691,3840332284,549916902,3455104640,394546491,837744717,2114462948,751520235,2221554606,2415360136,3999097078,2063029875,803036379,2702586305,821456707,3019566164,360699898,4018502092,3511869016,3677355358,2402471449,812317050,49299192,2570164949,3259169295,2816732080,3331213574,3101303564,2156015656,3705598920,3546263921,143268808,3200304480,1638124008,3165189453,3341807610,578956953,2193977524,3638120073,2333881532,807278310,658237817,2969561766,1641658566,11683945,3086995007,148645947,1138423386,4158756760,1981396783,2401016740,3699783584,380097457,2680394679,2803068651,3334260286,441530178,4016580796,1375954390,761952171,891809099,2183123478,157052462,3683840763,1592404427,341349109,2438483839,1417898363,644327628,2233032776,2353769706,2201510100,220455161,1815641738,182899273,2995019788,3627381533,3702638151,2890684138,1052606899,588164016,1681439879,4038439418,2405343923,4229449282,167996282,1336969661,1688053129,2739224926,1543734051,1046297529,1138201970,2121126012,115334942,1819067631,1902159161,1941945968,2206692869,1159982321],s[2]=[2381300288,637164959,3952098751,3893414151,1197506559,916448331,2350892612,2932787856,3199334847,4009478890,3905886544,1373570990,2450425862,4037870920,3778841987,2456817877,286293407,124026297,3001279700,1028597854,3115296800,4208886496,2691114635,2188540206,1430237888,1218109995,3572471700,308166588,570424558,2187009021,2455094765,307733056,1310360322,3135275007,1384269543,2388071438,863238079,2359263624,2801553128,3380786597,2831162807,1470087780,1728663345,4072488799,1090516929,532123132,2389430977,1132193179,2578464191,3051079243,1670234342,1434557849,2711078940,1241591150,3314043432,3435360113,3091448339,1812415473,2198440252,267246943,796911696,3619716990,38830015,1526438404,2806502096,374413614,2943401790,1489179520,1603809326,1920779204,168801282,260042626,2358705581,1563175598,2397674057,1356499128,2217211040,514611088,2037363785,2186468373,4022173083,2792511869,2913485016,1173701892,4200428547,3896427269,1334932762,2455136706,602925377,2835607854,1613172210,41346230,2499634548,2457437618,2188827595,41386358,4172255629,1313404830,2405527007,3801973774,2217704835,873260488,2528884354,2478092616,4012915883,2555359016,2006953883,2463913485,575479328,2218240648,2099895446,660001756,2341502190,3038761536,3888151779,3848713377,3286851934,1022894237,1620365795,3449594689,1551255054,15374395,3570825345,4249311020,4151111129,3181912732,310226346,1133119310,530038928,136043402,2476768958,3107506709,2544909567,1036173560,2367337196,1681395281,1758231547,3641649032,306774401,1575354324,3716085866,1990386196,3114533736,2455606671,1262092282,3124342505,2768229131,4210529083,1833535011,423410938,660763973,2187129978,1639812e3,3508421329,3467445492,310289298,272797111,2188552562,2456863912,310240523,677093832,1013118031,901835429,3892695601,1116285435,3036471170,1337354835,243122523,520626091,277223598,4244441197,4194248841,1766575121,594173102,316590669,742362309,3536858622,4176435350,3838792410,2501204839,1229605004,3115755532,1552908988,2312334149,979407927,3959474601,1148277331,176638793,3614686272,2083809052,40992502,1340822838,2731552767,3535757508,3560899520,1354035053,122129617,7215240,2732932949,3118912700,2718203926,2539075635,3609230695,3725561661,1928887091,2882293555,1988674909,2063640240,2491088897,1459647954,4189817080,2302804382,1113892351,2237858528,1927010603,4002880361,1856122846,1594404395,2944033133,3855189863,3474975698,1643104450,4054590833,3431086530,1730235576,2984608721,3084664418,2131803598,4178205752,267404349,1617849798,1616132681,1462223176,736725533,2327058232,551665188,2945899023,1749386277,2575514597,1611482493,674206544,2201269090,3642560800,728599968,1680547377,2620414464,1388111496,453204106,4156223445,1094905244,2754698257,2201108165,3757000246,2704524545,3922940700,3996465027],s[3]=[2645754912,532081118,2814278639,3530793624,1246723035,1689095255,2236679235,4194438865,2116582143,3859789411,157234593,2045505824,4245003587,1687664561,4083425123,605965023,672431967,1336064205,3376611392,214114848,4258466608,3232053071,489488601,605322005,3998028058,264917351,1912574028,756637694,436560991,202637054,135989450,85393697,2152923392,3896401662,2895836408,2145855233,3535335007,115294817,3147733898,1922296357,3464822751,4117858305,1037454084,2725193275,2127856640,1417604070,1148013728,1827919605,642362335,2929772533,909348033,1346338451,3547799649,297154785,1917849091,4161712827,2883604526,3968694238,1469521537,3780077382,3375584256,1763717519,136166297,4290970789,1295325189,2134727907,2798151366,1566297257,3672928234,2677174161,2672173615,965822077,2780786062,289653839,1133871874,3491843819,35685304,1068898316,418943774,672553190,642281022,2346158704,1954014401,3037126780,4079815205,2030668546,3840588673,672283427,1776201016,359975446,3750173538,555499703,2769985273,1324923,69110472,152125443,3176785106,3822147285,1340634837,798073664,1434183902,15393959,216384236,1303690150,3881221631,3711134124,3960975413,106373927,2578434224,1455997841,1801814300,1578393881,1854262133,3188178946,3258078583,2302670060,1539295533,3505142565,3078625975,2372746020,549938159,3278284284,2620926080,181285381,2865321098,3970029511,68876850,488006234,1728155692,2608167508,836007927,2435231793,919367643,3339422534,3655756360,1457871481,40520939,1380155135,797931188,234455205,2255801827,3990488299,397000196,739833055,3077865373,2871719860,4022553888,772369276,390177364,3853951029,557662966,740064294,1640166671,1699928825,3535942136,622006121,3625353122,68743880,1742502,219489963,1664179233,1577743084,1236991741,410585305,2366487942,823226535,1050371084,3426619607,3586839478,212779912,4147118561,1819446015,1911218849,530248558,3486241071,3252585495,2886188651,3410272728,2342195030,20547779,2982490058,3032363469,3631753222,312714466,1870521650,1493008054,3491686656,615382978,4103671749,2534517445,1932181,2196105170,278426614,6369430,3274544417,2913018367,697336853,2143000447,2946413531,701099306,1558357093,2805003052,3500818408,2321334417,3567135975,216290473,3591032198,23009561,1996984579,3735042806,2024298078,3739440863,569400510,2339758983,3016033873,3097871343,3639523026,3844324983,3256173865,795471839,2951117563,4101031090,4091603803,3603732598,971261452,534414648,428311343,3389027175,2844869880,694888862,1227866773,2456207019,3043454569,2614353370,3749578031,3676663836,459166190,4132644070,1794958188,51825668,2252611902,3084671440,2036672799,3436641603,1099053433,2469121526,3059204941,1323291266,2061838604,1018778475,2233344254,2553501054,334295216,3556750194,1065731521,183467730],s[4]=[2127105028,745436345,2601412319,2788391185,3093987327,500390133,1155374404,389092991,150729210,3891597772,3523549952,1935325696,716645080,946045387,2901812282,1774124410,3869435775,4039581901,3293136918,3438657920,948246080,363898952,3867875531,1286266623,1598556673,68334250,630723836,1104211938,1312863373,613332731,2377784574,1101634306,441780740,3129959883,1917973735,2510624549,3238456535,2544211978,3308894634,1299840618,4076074851,1756332096,3977027158,297047435,3790297736,2265573040,3621810518,1311375015,1667687725,47300608,3299642885,2474112369,201668394,1468347890,576830978,3594690761,3742605952,1958042578,1747032512,3558991340,1408974056,3366841779,682131401,1033214337,1545599232,4265137049,206503691,103024618,2855227313,1337551222,2428998917,2963842932,4015366655,3852247746,2796956967,3865723491,3747938335,247794022,3755824572,702416469,2434691994,397379957,851939612,2314769512,218229120,1380406772,62274761,214451378,3170103466,2276210409,3845813286,28563499,446592073,1693330814,3453727194,29968656,3093872512,220656637,2470637031,77972100,1667708854,1358280214,4064765667,2395616961,325977563,4277240721,4220025399,3605526484,3355147721,811859167,3069544926,3962126810,652502677,3075892249,4132761541,3498924215,1217549313,3250244479,3858715919,3053989961,1538642152,2279026266,2875879137,574252750,3324769229,2651358713,1758150215,141295887,2719868960,3515574750,4093007735,4194485238,1082055363,3417560400,395511885,2966884026,179534037,3646028556,3738688086,1092926436,2496269142,257381841,3772900718,1636087230,1477059743,2499234752,3811018894,2675660129,3285975680,90732309,1684827095,1150307763,1723134115,3237045386,1769919919,1240018934,815675215,750138730,2239792499,1234303040,1995484674,138143821,675421338,1145607174,1936608440,3238603024,2345230278,2105974004,323969391,779555213,3004902369,2861610098,1017501463,2098600890,2628620304,2940611490,2682542546,1171473753,3656571411,3687208071,4091869518,393037935,159126506,1662887367,1147106178,391545844,3452332695,1891500680,3016609650,1851642611,546529401,1167818917,3194020571,2848076033,3953471836,575554290,475796850,4134673196,450035699,2351251534,844027695,1080539133,86184846,1554234488,3692025454,1972511363,2018339607,1491841390,1141460869,1061690759,4244549243,2008416118,2351104703,2868147542,1598468138,722020353,1027143159,212344630,1387219594,1725294528,3745187956,2500153616,458938280,4129215917,1828119673,544571780,3503225445,2297937496,1241802790,267843827,2694610800,1397140384,1558801448,3782667683,1806446719,929573330,2234912681,400817706,616011623,4121520928,3603768725,1761550015,1968522284,4053731006,4192232858,4005120285,872482584,3140537016,3894607381,2287405443,1963876937,3663887957,1584857e3,2975024454,1833426440,4025083860],s[5]=[4143615901,749497569,1285769319,3795025788,2514159847,23610292,3974978748,844452780,3214870880,3751928557,2213566365,1676510905,448177848,3730751033,4086298418,2307502392,871450977,3222878141,4110862042,3831651966,2735270553,1310974780,2043402188,1218528103,2736035353,4274605013,2702448458,3936360550,2693061421,162023535,2827510090,687910808,23484817,3784910947,3371371616,779677500,3503626546,3473927188,4157212626,3500679282,4248902014,2466621104,3899384794,1958663117,925738300,1283408968,3669349440,1840910019,137959847,2679828185,1239142320,1315376211,1547541505,1690155329,739140458,3128809933,3933172616,3876308834,905091803,1548541325,4040461708,3095483362,144808038,451078856,676114313,2861728291,2469707347,993665471,373509091,2599041286,4025009006,4170239449,2149739950,3275793571,3749616649,2794760199,1534877388,572371878,2590613551,1753320020,3467782511,1405125690,4270405205,633333386,3026356924,3475123903,632057672,2846462855,1404951397,3882875879,3915906424,195638627,2385783745,3902872553,1233155085,3355999740,2380578713,2702246304,2144565621,3663341248,3894384975,2502479241,4248018925,3094885567,1594115437,572884632,3385116731,767645374,1331858858,1475698373,3793881790,3532746431,1321687957,619889600,1121017241,3440213920,2070816767,2833025776,1933951238,4095615791,890643334,3874130214,859025556,360630002,925594799,1764062180,3920222280,4078305929,979562269,2810700344,4087740022,1949714515,546639971,1165388173,3069891591,1495988560,922170659,1291546247,2107952832,1813327274,3406010024,3306028637,4241950635,153207855,2313154747,1608695416,1150242611,1967526857,721801357,1220138373,3691287617,3356069787,2112743302,3281662835,1111556101,1778980689,250857638,2298507990,673216130,2846488510,3207751581,3562756981,3008625920,3417367384,2198807050,529510932,3547516680,3426503187,2364944742,102533054,2294910856,1617093527,1204784762,3066581635,1019391227,1069574518,1317995090,1691889997,3661132003,510022745,3238594800,1362108837,1817929911,2184153760,805817662,1953603311,3699844737,120799444,2118332377,207536705,2282301548,4120041617,145305846,2508124933,3086745533,3261524335,1877257368,2977164480,3160454186,2503252186,4221677074,759945014,254147243,2767453419,3801518371,629083197,2471014217,907280572,3900796746,940896768,2751021123,2625262786,3161476951,3661752313,3260732218,1425318020,2977912069,1496677566,3988592072,2140652971,3126511541,3069632175,977771578,1392695845,1698528874,1411812681,1369733098,1343739227,3620887944,1142123638,67414216,3102056737,3088749194,1626167401,2546293654,3941374235,697522451,33404913,143560186,2595682037,994885535,1247667115,3859094837,2699155541,3547024625,4114935275,2968073508,3199963069,2732024527,1237921620,951448369,1898488916,1211705605,2790989240,2233243581,3598044975],s[6]=[2246066201,858518887,1714274303,3485882003,713916271,2879113490,3730835617,539548191,36158695,1298409750,419087104,1358007170,749914897,2989680476,1261868530,2995193822,2690628854,3443622377,3780124940,3796824509,2976433025,4259637129,1551479e3,512490819,1296650241,951993153,2436689437,2460458047,144139966,3136204276,310820559,3068840729,643875328,1969602020,1680088954,2185813161,3283332454,672358534,198762408,896343282,276269502,3014846926,84060815,197145886,376173866,3943890818,3813173521,3545068822,1316698879,1598252827,2633424951,1233235075,859989710,2358460855,3503838400,3409603720,1203513385,1193654839,2792018475,2060853022,207403770,1144516871,3068631394,1121114134,177607304,3785736302,326409831,1929119770,2983279095,4183308101,3474579288,3200513878,3228482096,119610148,1170376745,3378393471,3163473169,951863017,3337026068,3135789130,2907618374,1183797387,2015970143,4045674555,2182986399,2952138740,3928772205,384012900,2454997643,10178499,2879818989,2596892536,111523738,2995089006,451689641,3196290696,235406569,1441906262,3890558523,3013735005,4158569349,1644036924,376726067,1006849064,3664579700,2041234796,1021632941,1374734338,2566452058,371631263,4007144233,490221539,206551450,3140638584,1053219195,1853335209,3412429660,3562156231,735133835,1623211703,3104214392,2738312436,4096837757,3366392578,3110964274,3956598718,3196820781,2038037254,3877786376,2339753847,300912036,3766732888,2372630639,1516443558,4200396704,1574567987,4069441456,4122592016,2699739776,146372218,2748961456,2043888151,35287437,2596680554,655490400,1132482787,110692520,1031794116,2188192751,1324057718,1217253157,919197030,686247489,3261139658,1028237775,3135486431,3059715558,2460921700,986174950,2661811465,4062904701,2752986992,3709736643,367056889,1353824391,731860949,1650113154,1778481506,784341916,357075625,3608602432,1074092588,2480052770,3811426202,92751289,877911070,3600361838,1231880047,480201094,3756190983,3094495953,434011822,87971354,363687820,1717726236,1901380172,3926403882,2481662265,400339184,1490350766,2661455099,1389319756,2558787174,784598401,1983468483,30828846,3550527752,2716276238,3841122214,1765724805,1955612312,1277890269,1333098070,1564029816,2704417615,1026694237,3287671188,1260819201,3349086767,1016692350,1582273796,1073413053,1995943182,694588404,1025494639,3323872702,3551898420,4146854327,453260480,1316140391,1435673405,3038941953,3486689407,1622062951,403978347,817677117,950059133,4246079218,3278066075,1486738320,1417279718,481875527,2549965225,3933690356,760697757,1452955855,3897451437,1177426808,1702951038,4085348628,2447005172,1084371187,3516436277,3068336338,1073369276,1027665953,3284188590,1230553676,1368340146,2226246512,267243139,2274220762,4070734279,2497715176,2423353163,2504755875],s[7]=[3793104909,3151888380,2817252029,895778965,2005530807,3871412763,237245952,86829237,296341424,3851759377,3974600970,2475086196,709006108,1994621201,2972577594,937287164,3734691505,168608556,3189338153,2225080640,3139713551,3033610191,3025041904,77524477,185966941,1208824168,2344345178,1721625922,3354191921,1066374631,1927223579,1971335949,2483503697,1551748602,2881383779,2856329572,3003241482,48746954,1398218158,2050065058,313056748,4255789917,393167848,1912293076,940740642,3465845460,3091687853,2522601570,2197016661,1727764327,364383054,492521376,1291706479,3264136376,1474851438,1685747964,2575719748,1619776915,1814040067,970743798,1561002147,2925768690,2123093554,1880132620,3151188041,697884420,2550985770,2607674513,2659114323,110200136,1489731079,997519150,1378877361,3527870668,478029773,2766872923,1022481122,431258168,1112503832,897933369,2635587303,669726182,3383752315,918222264,163866573,3246985393,3776823163,114105080,1903216136,761148244,3571337562,1690750982,3166750252,1037045171,1888456500,2010454850,642736655,616092351,365016990,1185228132,4174898510,1043824992,2023083429,2241598885,3863320456,3279669087,3674716684,108438443,2132974366,830746235,606445527,4173263986,2204105912,1844756978,2532684181,4245352700,2969441100,3796921661,1335562986,4061524517,2720232303,2679424040,634407289,885462008,3294724487,3933892248,2094100220,339117932,4048830727,3202280980,1458155303,2689246273,1022871705,2464987878,3714515309,353796843,2822958815,4256850100,4052777845,551748367,618185374,3778635579,4020649912,1904685140,3069366075,2670879810,3407193292,2954511620,4058283405,2219449317,3135758300,1120655984,3447565834,1474845562,3577699062,550456716,3466908712,2043752612,881257467,869518812,2005220179,938474677,3305539448,3850417126,1315485940,3318264702,226533026,965733244,321539988,1136104718,804158748,573969341,3708209826,937399083,3290727049,2901666755,1461057207,4013193437,4066861423,3242773476,2421326174,1581322155,3028952165,786071460,3900391652,3918438532,1485433313,4023619836,3708277595,3678951060,953673138,1467089153,1930354364,1533292819,2492563023,1346121658,1685000834,1965281866,3765933717,4190206607,2052792609,3515332758,690371149,3125873887,2180283551,2903598061,3933952357,436236910,289419410,14314871,1242357089,2904507907,1616633776,2666382180,585885352,3471299210,2699507360,1432659641,277164553,3354103607,770115018,2303809295,3741942315,3177781868,2853364978,2269453327,3774259834,987383833,1290892879,225909803,1741533526,890078084,1496906255,1111072499,916028167,243534141,1252605537,2204162171,531204876,290011180,3916834213,102027703,237315147,209093447,1486785922,220223953,2758195998,4175039106,82940208,3127791296,2569425252,518464269,1353887104,3941492737,2377294467,3935040926]}function $a(t){this.cast5=new OS,this.cast5.setKey(t),this.encrypt=function(e){return this.cast5.encrypt(e)}}Ua.keySize=Ua.prototype.keySize=24,Ua.blockSize=Ua.prototype.blockSize=8,$a.blockSize=$a.prototype.blockSize=8,$a.keySize=$a.prototype.keySize=16;const on=4294967295;function Kn(t,e){return(t<<e|t>>>32-e)&on}function _i(t,e){return t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24}function cs(t,e,r){t.splice(e,4,255&r,r>>>8&255,r>>>16&255,r>>>24&255)}function Je(t,e){return t>>>8*e&255}function za(t){this.tf=function(){let e=null,r=null,n=-1,i=[],s=[[],[],[],[]];function o(u){return s[0][Je(u,0)]^s[1][Je(u,1)]^s[2][Je(u,2)]^s[3][Je(u,3)]}function a(u){return s[0][Je(u,3)]^s[1][Je(u,0)]^s[2][Je(u,1)]^s[3][Je(u,2)]}function c(u,f){let x=o(f[0]),h=a(f[1]);f[2]=Kn(f[2]^x+h+i[4*u+8]&on,31),f[3]=Kn(f[3],1)^x+2*h+i[4*u+9]&on,x=o(f[2]),h=a(f[3]),f[0]=Kn(f[0]^x+h+i[4*u+10]&on,31),f[1]=Kn(f[1],1)^x+2*h+i[4*u+11]&on}function l(u,f){let x=o(f[0]),h=a(f[1]);f[2]=Kn(f[2],1)^x+h+i[4*u+10]&on,f[3]=Kn(f[3]^x+2*h+i[4*u+11]&on,31),x=o(f[2]),h=a(f[3]),f[0]=Kn(f[0],1)^x+h+i[4*u+8]&on,f[1]=Kn(f[1]^x+2*h+i[4*u+9]&on,31)}return{name:"twofish",blocksize:16,open:function(u){let f,x,h,C,w;e=u;const k=[],O=[],z=[];let P;const A=[];let T,F,R;const d=[[8,1,7,13,6,15,3,2,0,11,5,9,14,12,10,4],[2,8,11,13,15,7,6,14,3,1,9,4,0,10,12,5]],p=[[14,12,11,8,1,2,3,5,15,4,10,6,7,0,9,13],[1,14,2,11,4,12,3,7,6,13,10,5,15,9,0,8]],_=[[11,10,5,14,6,13,9,0,12,8,15,3,2,4,7,1],[4,12,7,5,1,6,9,10,0,14,13,8,2,11,3,15]],b=[[13,7,15,4,1,2,6,14,9,11,3,0,8,5,12,10],[11,9,5,1,12,3,13,14,6,4,7,15,2,0,8,10]],m=[0,8,1,9,2,10,3,11,4,12,5,13,6,14,7,15],E=[0,9,2,11,4,13,6,15,8,1,10,3,12,5,14,7],S=[[],[]],Q=[[],[],[],[]];function Z(ne){return ne^ne>>2^[0,90,180,238][3&ne]}function M(ne){return ne^ne>>1^ne>>2^[0,238,180,90][3&ne]}function te(ne,le){let Ae,me,W;for(Ae=0;Ae<8;Ae++)me=le>>>24,le=le<<8&on|ne>>>24,ne=ne<<8&on,W=me<<1,128&me&&(W^=333),le^=me^W<<16,W^=me>>>1,1&me&&(W^=166),le^=W<<24|W<<8;return le}function ie(ne,le){const Ae=le>>4,me=15&le,W=d[ne][Ae^me],re=p[ne][m[me]^E[Ae]];return b[ne][m[re]^E[W]]<<4|_[ne][W^re]}function ue(ne,le){let Ae=Je(ne,0),me=Je(ne,1),W=Je(ne,2),re=Je(ne,3);switch(P){case 4:Ae=S[1][Ae]^Je(le[3],0),me=S[0][me]^Je(le[3],1),W=S[0][W]^Je(le[3],2),re=S[1][re]^Je(le[3],3);case 3:Ae=S[1][Ae]^Je(le[2],0),me=S[1][me]^Je(le[2],1),W=S[0][W]^Je(le[2],2),re=S[0][re]^Je(le[2],3);case 2:Ae=S[0][S[0][Ae]^Je(le[1],0)]^Je(le[0],0),me=S[0][S[1][me]^Je(le[1],1)]^Je(le[0],1),W=S[1][S[0][W]^Je(le[1],2)]^Je(le[0],2),re=S[1][S[1][re]^Je(le[1],3)]^Je(le[0],3)}return Q[0][Ae]^Q[1][me]^Q[2][W]^Q[3][re]}for(e=e.slice(0,32),f=e.length;f!==16&&f!==24&&f!==32;)e[f++]=0;for(f=0;f<e.length;f+=4)z[f>>2]=_i(e,f);for(f=0;f<256;f++)S[0][f]=ie(0,f),S[1][f]=ie(1,f);for(f=0;f<256;f++)T=S[1][f],F=Z(T),R=M(T),Q[0][f]=T+(F<<8)+(R<<16)+(R<<24),Q[2][f]=F+(R<<8)+(T<<16)+(R<<24),T=S[0][f],F=Z(T),R=M(T),Q[1][f]=R+(R<<8)+(F<<16)+(T<<24),Q[3][f]=F+(T<<8)+(R<<16)+(F<<24);for(P=z.length/2,f=0;f<P;f++)x=z[f+f],k[f]=x,h=z[f+f+1],O[f]=h,A[P-f-1]=te(x,h);for(f=0;f<40;f+=2)x=16843009*f,h=x+16843009,x=ue(x,k),h=Kn(ue(h,O),8),i[f]=x+h&on,i[f+1]=Kn(x+2*h,9);for(f=0;f<256;f++)switch(x=h=C=w=f,P){case 4:x=S[1][x]^Je(A[3],0),h=S[0][h]^Je(A[3],1),C=S[0][C]^Je(A[3],2),w=S[1][w]^Je(A[3],3);case 3:x=S[1][x]^Je(A[2],0),h=S[1][h]^Je(A[2],1),C=S[0][C]^Je(A[2],2),w=S[0][w]^Je(A[2],3);case 2:s[0][f]=Q[0][S[0][S[0][x]^Je(A[1],0)]^Je(A[0],0)],s[1][f]=Q[1][S[0][S[1][h]^Je(A[1],1)]^Je(A[0],1)],s[2][f]=Q[2][S[1][S[0][C]^Je(A[1],2)]^Je(A[0],2)],s[3][f]=Q[3][S[1][S[1][w]^Je(A[1],3)]^Je(A[0],3)]}},close:function(){i=[],s=[[],[],[],[]]},encrypt:function(u,f){r=u,n=f;const x=[_i(r,n)^i[0],_i(r,n+4)^i[1],_i(r,n+8)^i[2],_i(r,n+12)^i[3]];for(let h=0;h<8;h++)c(h,x);return cs(r,n,x[2]^i[4]),cs(r,n+4,x[3]^i[5]),cs(r,n+8,x[0]^i[6]),cs(r,n+12,x[1]^i[7]),n+=16,r},decrypt:function(u,f){r=u,n=f;const x=[_i(r,n)^i[4],_i(r,n+4)^i[5],_i(r,n+8)^i[6],_i(r,n+12)^i[7]];for(let h=7;h>=0;h--)l(h,x);cs(r,n,x[2]^i[0]),cs(r,n+4,x[3]^i[1]),cs(r,n+8,x[0]^i[2]),cs(r,n+12,x[1]^i[3]),n+=16},finalize:function(){return r}}}(),this.tf.open(Array.from(t),0),this.encrypt=function(e){return this.tf.encrypt(Array.from(e),0)}}function En(){}function ja(t){this.bf=new En,this.bf.init(t),this.encrypt=function(e){return this.bf.encryptBlock(e)}}za.keySize=za.prototype.keySize=32,za.blockSize=za.prototype.blockSize=16,En.prototype.BLOCKSIZE=8,En.prototype.SBOXES=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]],En.prototype.PARRAY=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],En.prototype.NN=16,En.prototype._clean=function(t){return t<0&&(t=(2147483647&t)+2147483648),t},En.prototype._F=function(t){let e;const r=255&t,n=255&(t>>>=8),i=255&(t>>>=8),s=255&(t>>>=8);return e=this.sboxes[0][s]+this.sboxes[1][i],e^=this.sboxes[2][n],e+=this.sboxes[3][r],e},En.prototype._encryptBlock=function(t){let e,r=t[0],n=t[1];for(e=0;e<this.NN;++e){r^=this.parray[e],n=this._F(r)^n;const i=r;r=n,n=i}r^=this.parray[this.NN+0],n^=this.parray[this.NN+1],t[0]=this._clean(n),t[1]=this._clean(r)},En.prototype.encryptBlock=function(t){let e;const r=[0,0],n=this.BLOCKSIZE/2;for(e=0;e<this.BLOCKSIZE/2;++e)r[0]=r[0]<<8|255&t[e+0],r[1]=r[1]<<8|255&t[e+n];this._encryptBlock(r);const i=[];for(e=0;e<this.BLOCKSIZE/2;++e)i[e+0]=r[0]>>>24-8*e&255,i[e+n]=r[1]>>>24-8*e&255;return i},En.prototype._decryptBlock=function(t){let e,r=t[0],n=t[1];for(e=this.NN+1;e>1;--e){r^=this.parray[e],n=this._F(r)^n;const i=r;r=n,n=i}r^=this.parray[1],n^=this.parray[0],t[0]=this._clean(n),t[1]=this._clean(r)},En.prototype.init=function(t){let e,r=0;for(this.parray=[],e=0;e<this.NN+2;++e){let i=0;for(let s=0;s<4;++s)i=i<<8|255&t[r],++r>=t.length&&(r=0);this.parray[e]=this.PARRAY[e]^i}for(this.sboxes=[],e=0;e<4;++e)for(this.sboxes[e]=[],r=0;r<256;++r)this.sboxes[e][r]=this.SBOXES[e][r];const n=[0,0];for(e=0;e<this.NN+2;e+=2)this._encryptBlock(n),this.parray[e+0]=n[0],this.parray[e+1]=n[1];for(e=0;e<4;++e)for(r=0;r<256;r+=2)this._encryptBlock(n),this.sboxes[e][r+0]=n[0],this.sboxes[e][r+1]=n[1]},ja.keySize=ja.prototype.keySize=16,ja.blockSize=ja.prototype.blockSize=8;const LS=i9(128),NS=i9(192),KS=i9(256),US=function(t){this.key=t,this.encrypt=function(e,r){return ac(cc(this.key),e,!0,0,null,r)},this.decrypt=function(e,r){return ac(cc(this.key),e,!1,0,null,r)}};var ol=Object.freeze({__proto__:null,aes128:LS,aes192:NS,aes256:KS,des:US,tripledes:Ua,cast5:$a,twofish:za,blowfish:ja,idea:function(){throw Error("IDEA symmetric-key algorithm not implemented")}}),Sm=function(t,e,r){var n=0,i=0,s=0,o=0,a=0,c=0,l=0,u=0,f=0,x=0,h=0,C=0,w=0,k=0,O=0,z=0,P=0,A=new t.Uint8Array(r);function T(M,te,ie,ue,ne,le,Ae,me,W,re,K,v,J,xe,fe,he){M=M|0,te=te|0,ie=ie|0,ue=ue|0,ne=ne|0,le=le|0,Ae=Ae|0,me=me|0,W=W|0,re=re|0,K=K|0,v=v|0,J=J|0,xe=xe|0,fe=fe|0,he=he|0;var y=0,g=0,B=0,I=0,j=0,$=0,q=0,ae=0,oe=0,ce=0,H=0,V=0,Y=0,G=0,X=0,ee=0,N=0,L=0,be=0,Ee=0,Pe=0,Ye=0,Ne=0,ke=0,rt=0,Ve=0,Ze=0,Ot=0,Le=0,ze=0,nt=0,Me=0,qe=0,xt=0,je=0,ge=0,ye=0,_e=0,De=0,Ue=0,Oe=0,Te=0,lt=0,We=0,ft=0,gr=0,yr=0,Sr=0,Pn=0,Tn=0,Mn=0,In=0,Rn=0,On=0,Ln=0,Ai=0,vi=0,es=0,ts=0,rs=0,ns=0,is=0,ss=0,r0=0,Td=0,Md=0,Id=0,Rd=0,c6=0,l6=0,u6=0;y=n,g=i,B=s,I=o,j=a,q=M+(y<<5|y>>>27)+j+(g&B|~g&I)+1518500249|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,q=te+(y<<5|y>>>27)+j+(g&B|~g&I)+1518500249|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,q=ie+(y<<5|y>>>27)+j+(g&B|~g&I)+1518500249|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,q=ue+(y<<5|y>>>27)+j+(g&B|~g&I)+1518500249|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,q=ne+(y<<5|y>>>27)+j+(g&B|~g&I)+1518500249|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,q=le+(y<<5|y>>>27)+j+(g&B|~g&I)+1518500249|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,q=Ae+(y<<5|y>>>27)+j+(g&B|~g&I)+1518500249|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,q=me+(y<<5|y>>>27)+j+(g&B|~g&I)+1518500249|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,q=W+(y<<5|y>>>27)+j+(g&B|~g&I)+1518500249|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,q=re+(y<<5|y>>>27)+j+(g&B|~g&I)+1518500249|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,q=K+(y<<5|y>>>27)+j+(g&B|~g&I)+1518500249|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,q=v+(y<<5|y>>>27)+j+(g&B|~g&I)+1518500249|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,q=J+(y<<5|y>>>27)+j+(g&B|~g&I)+1518500249|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,q=xe+(y<<5|y>>>27)+j+(g&B|~g&I)+1518500249|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,q=fe+(y<<5|y>>>27)+j+(g&B|~g&I)+1518500249|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,q=he+(y<<5|y>>>27)+j+(g&B|~g&I)+1518500249|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=xe^W^ie^M,ae=$<<1|$>>>31,q=ae+(y<<5|y>>>27)+j+(g&B|~g&I)+1518500249|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=fe^re^ue^te,oe=$<<1|$>>>31,q=oe+(y<<5|y>>>27)+j+(g&B|~g&I)+1518500249|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=he^K^ne^ie,ce=$<<1|$>>>31,q=ce+(y<<5|y>>>27)+j+(g&B|~g&I)+1518500249|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=ae^v^le^ue,H=$<<1|$>>>31,q=H+(y<<5|y>>>27)+j+(g&B|~g&I)+1518500249|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=oe^J^Ae^ne,V=$<<1|$>>>31,q=V+(y<<5|y>>>27)+j+(g^B^I)+1859775393|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=ce^xe^me^le,Y=$<<1|$>>>31,q=Y+(y<<5|y>>>27)+j+(g^B^I)+1859775393|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=H^fe^W^Ae,G=$<<1|$>>>31,q=G+(y<<5|y>>>27)+j+(g^B^I)+1859775393|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=V^he^re^me,X=$<<1|$>>>31,q=X+(y<<5|y>>>27)+j+(g^B^I)+1859775393|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=Y^ae^K^W,ee=$<<1|$>>>31,q=ee+(y<<5|y>>>27)+j+(g^B^I)+1859775393|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=G^oe^v^re,N=$<<1|$>>>31,q=N+(y<<5|y>>>27)+j+(g^B^I)+1859775393|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=X^ce^J^K,L=$<<1|$>>>31,q=L+(y<<5|y>>>27)+j+(g^B^I)+1859775393|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=ee^H^xe^v,be=$<<1|$>>>31,q=be+(y<<5|y>>>27)+j+(g^B^I)+1859775393|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=N^V^fe^J,Ee=$<<1|$>>>31,q=Ee+(y<<5|y>>>27)+j+(g^B^I)+1859775393|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=L^Y^he^xe,Pe=$<<1|$>>>31,q=Pe+(y<<5|y>>>27)+j+(g^B^I)+1859775393|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=be^G^ae^fe,Ye=$<<1|$>>>31,q=Ye+(y<<5|y>>>27)+j+(g^B^I)+1859775393|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=Ee^X^oe^he,Ne=$<<1|$>>>31,q=Ne+(y<<5|y>>>27)+j+(g^B^I)+1859775393|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=Pe^ee^ce^ae,ke=$<<1|$>>>31,q=ke+(y<<5|y>>>27)+j+(g^B^I)+1859775393|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=Ye^N^H^oe,rt=$<<1|$>>>31,q=rt+(y<<5|y>>>27)+j+(g^B^I)+1859775393|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=Ne^L^V^ce,Ve=$<<1|$>>>31,q=Ve+(y<<5|y>>>27)+j+(g^B^I)+1859775393|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=ke^be^Y^H,Ze=$<<1|$>>>31,q=Ze+(y<<5|y>>>27)+j+(g^B^I)+1859775393|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=rt^Ee^G^V,Ot=$<<1|$>>>31,q=Ot+(y<<5|y>>>27)+j+(g^B^I)+1859775393|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=Ve^Pe^X^Y,Le=$<<1|$>>>31,q=Le+(y<<5|y>>>27)+j+(g^B^I)+1859775393|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=Ze^Ye^ee^G,ze=$<<1|$>>>31,q=ze+(y<<5|y>>>27)+j+(g^B^I)+1859775393|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=Ot^Ne^N^X,nt=$<<1|$>>>31,q=nt+(y<<5|y>>>27)+j+(g^B^I)+1859775393|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=Le^ke^L^ee,Me=$<<1|$>>>31,q=Me+(y<<5|y>>>27)+j+(g&B|g&I|B&I)-1894007588|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=ze^rt^be^N,qe=$<<1|$>>>31,q=qe+(y<<5|y>>>27)+j+(g&B|g&I|B&I)-1894007588|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=nt^Ve^Ee^L,xt=$<<1|$>>>31,q=xt+(y<<5|y>>>27)+j+(g&B|g&I|B&I)-1894007588|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=Me^Ze^Pe^be,je=$<<1|$>>>31,q=je+(y<<5|y>>>27)+j+(g&B|g&I|B&I)-1894007588|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=qe^Ot^Ye^Ee,ge=$<<1|$>>>31,q=ge+(y<<5|y>>>27)+j+(g&B|g&I|B&I)-1894007588|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=xt^Le^Ne^Pe,ye=$<<1|$>>>31,q=ye+(y<<5|y>>>27)+j+(g&B|g&I|B&I)-1894007588|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=je^ze^ke^Ye,_e=$<<1|$>>>31,q=_e+(y<<5|y>>>27)+j+(g&B|g&I|B&I)-1894007588|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=ge^nt^rt^Ne,De=$<<1|$>>>31,q=De+(y<<5|y>>>27)+j+(g&B|g&I|B&I)-1894007588|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=ye^Me^Ve^ke,Ue=$<<1|$>>>31,q=Ue+(y<<5|y>>>27)+j+(g&B|g&I|B&I)-1894007588|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=_e^qe^Ze^rt,Oe=$<<1|$>>>31,q=Oe+(y<<5|y>>>27)+j+(g&B|g&I|B&I)-1894007588|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=De^xt^Ot^Ve,Te=$<<1|$>>>31,q=Te+(y<<5|y>>>27)+j+(g&B|g&I|B&I)-1894007588|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=Ue^je^Le^Ze,lt=$<<1|$>>>31,q=lt+(y<<5|y>>>27)+j+(g&B|g&I|B&I)-1894007588|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=Oe^ge^ze^Ot,We=$<<1|$>>>31,q=We+(y<<5|y>>>27)+j+(g&B|g&I|B&I)-1894007588|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=Te^ye^nt^Le,ft=$<<1|$>>>31,q=ft+(y<<5|y>>>27)+j+(g&B|g&I|B&I)-1894007588|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=lt^_e^Me^ze,gr=$<<1|$>>>31,q=gr+(y<<5|y>>>27)+j+(g&B|g&I|B&I)-1894007588|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=We^De^qe^nt,yr=$<<1|$>>>31,q=yr+(y<<5|y>>>27)+j+(g&B|g&I|B&I)-1894007588|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=ft^Ue^xt^Me,Sr=$<<1|$>>>31,q=Sr+(y<<5|y>>>27)+j+(g&B|g&I|B&I)-1894007588|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=gr^Oe^je^qe,Pn=$<<1|$>>>31,q=Pn+(y<<5|y>>>27)+j+(g&B|g&I|B&I)-1894007588|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=yr^Te^ge^xt,Tn=$<<1|$>>>31,q=Tn+(y<<5|y>>>27)+j+(g&B|g&I|B&I)-1894007588|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=Sr^lt^ye^je,Mn=$<<1|$>>>31,q=Mn+(y<<5|y>>>27)+j+(g&B|g&I|B&I)-1894007588|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=Pn^We^_e^ge,In=$<<1|$>>>31,q=In+(y<<5|y>>>27)+j+(g^B^I)-899497514|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=Tn^ft^De^ye,Rn=$<<1|$>>>31,q=Rn+(y<<5|y>>>27)+j+(g^B^I)-899497514|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=Mn^gr^Ue^_e,On=$<<1|$>>>31,q=On+(y<<5|y>>>27)+j+(g^B^I)-899497514|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=In^yr^Oe^De,Ln=$<<1|$>>>31,q=Ln+(y<<5|y>>>27)+j+(g^B^I)-899497514|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=Rn^Sr^Te^Ue,Ai=$<<1|$>>>31,q=Ai+(y<<5|y>>>27)+j+(g^B^I)-899497514|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=On^Pn^lt^Oe,vi=$<<1|$>>>31,q=vi+(y<<5|y>>>27)+j+(g^B^I)-899497514|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=Ln^Tn^We^Te,es=$<<1|$>>>31,q=es+(y<<5|y>>>27)+j+(g^B^I)-899497514|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=Ai^Mn^ft^lt,ts=$<<1|$>>>31,q=ts+(y<<5|y>>>27)+j+(g^B^I)-899497514|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=vi^In^gr^We,rs=$<<1|$>>>31,q=rs+(y<<5|y>>>27)+j+(g^B^I)-899497514|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=es^Rn^yr^ft,ns=$<<1|$>>>31,q=ns+(y<<5|y>>>27)+j+(g^B^I)-899497514|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=ts^On^Sr^gr,is=$<<1|$>>>31,q=is+(y<<5|y>>>27)+j+(g^B^I)-899497514|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=rs^Ln^Pn^yr,ss=$<<1|$>>>31,q=ss+(y<<5|y>>>27)+j+(g^B^I)-899497514|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=ns^Ai^Tn^Sr,r0=$<<1|$>>>31,q=r0+(y<<5|y>>>27)+j+(g^B^I)-899497514|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=is^vi^Mn^Pn,Td=$<<1|$>>>31,q=Td+(y<<5|y>>>27)+j+(g^B^I)-899497514|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=ss^es^In^Tn,Md=$<<1|$>>>31,q=Md+(y<<5|y>>>27)+j+(g^B^I)-899497514|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=r0^ts^Rn^Mn,Id=$<<1|$>>>31,q=Id+(y<<5|y>>>27)+j+(g^B^I)-899497514|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=Td^rs^On^In,Rd=$<<1|$>>>31,q=Rd+(y<<5|y>>>27)+j+(g^B^I)-899497514|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=Md^ns^Ln^Rn,c6=$<<1|$>>>31,q=c6+(y<<5|y>>>27)+j+(g^B^I)-899497514|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=Id^is^Ai^On,l6=$<<1|$>>>31,q=l6+(y<<5|y>>>27)+j+(g^B^I)-899497514|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,$=Rd^ss^vi^Ln,u6=$<<1|$>>>31,q=u6+(y<<5|y>>>27)+j+(g^B^I)-899497514|0,j=I,I=B,B=g<<30|g>>>2,g=y,y=q,n=n+y|0,i=i+g|0,s=s+B|0,o=o+I|0,a=a+j|0}function F(M){M=M|0,T(A[M|0]<<24|A[M|1]<<16|A[M|2]<<8|A[M|3],A[M|4]<<24|A[M|5]<<16|A[M|6]<<8|A[M|7],A[M|8]<<24|A[M|9]<<16|A[M|10]<<8|A[M|11],A[M|12]<<24|A[M|13]<<16|A[M|14]<<8|A[M|15],A[M|16]<<24|A[M|17]<<16|A[M|18]<<8|A[M|19],A[M|20]<<24|A[M|21]<<16|A[M|22]<<8|A[M|23],A[M|24]<<24|A[M|25]<<16|A[M|26]<<8|A[M|27],A[M|28]<<24|A[M|29]<<16|A[M|30]<<8|A[M|31],A[M|32]<<24|A[M|33]<<16|A[M|34]<<8|A[M|35],A[M|36]<<24|A[M|37]<<16|A[M|38]<<8|A[M|39],A[M|40]<<24|A[M|41]<<16|A[M|42]<<8|A[M|43],A[M|44]<<24|A[M|45]<<16|A[M|46]<<8|A[M|47],A[M|48]<<24|A[M|49]<<16|A[M|50]<<8|A[M|51],A[M|52]<<24|A[M|53]<<16|A[M|54]<<8|A[M|55],A[M|56]<<24|A[M|57]<<16|A[M|58]<<8|A[M|59],A[M|60]<<24|A[M|61]<<16|A[M|62]<<8|A[M|63])}function R(M){M=M|0,A[M|0]=n>>>24,A[M|1]=n>>>16&255,A[M|2]=n>>>8&255,A[M|3]=n&255,A[M|4]=i>>>24,A[M|5]=i>>>16&255,A[M|6]=i>>>8&255,A[M|7]=i&255,A[M|8]=s>>>24,A[M|9]=s>>>16&255,A[M|10]=s>>>8&255,A[M|11]=s&255,A[M|12]=o>>>24,A[M|13]=o>>>16&255,A[M|14]=o>>>8&255,A[M|15]=o&255,A[M|16]=a>>>24,A[M|17]=a>>>16&255,A[M|18]=a>>>8&255,A[M|19]=a&255}function d(){n=1732584193,i=4023233417,s=2562383102,o=271733878,a=3285377520,c=l=0}function p(M,te,ie,ue,ne,le,Ae){M=M|0,te=te|0,ie=ie|0,ue=ue|0,ne=ne|0,le=le|0,Ae=Ae|0,n=M,i=te,s=ie,o=ue,a=ne,c=le,l=Ae}function _(M,te){M=M|0,te=te|0;var ie=0;if(M&63)return-1;for(;(te|0)>=64;)F(M),M=M+64|0,te=te-64|0,ie=ie+64|0;return c=c+ie|0,c>>>0<ie>>>0&&(l=l+1|0),ie|0}function b(M,te,ie){M=M|0,te=te|0,ie=ie|0;var ue=0,ne=0;if(M&63||~ie&&ie&31)return-1;if((te|0)>=64){if(ue=_(M,te)|0,(ue|0)==-1)return-1;M=M+ue|0,te=te-ue|0}if(ue=ue+te|0,c=c+te|0,c>>>0<te>>>0&&(l=l+1|0),A[M|te]=128,(te|0)>=56){for(ne=te+1|0;(ne|0)<64;ne=ne+1|0)A[M|ne]=0;F(M),te=0,A[M|0]=0}for(ne=te+1|0;(ne|0)<59;ne=ne+1|0)A[M|ne]=0;return A[M|56]=l>>>21&255,A[M|57]=l>>>13&255,A[M|58]=l>>>5&255,A[M|59]=l<<3&255|c>>>29,A[M|60]=c>>>21&255,A[M|61]=c>>>13&255,A[M|62]=c>>>5&255,A[M|63]=c<<3&255,F(M),~ie&&R(ie),ue|0}function m(){n=u,i=f,s=x,o=h,a=C,c=64,l=0}function E(){n=w,i=k,s=O,o=z,a=P,c=64,l=0}function S(M,te,ie,ue,ne,le,Ae,me,W,re,K,v,J,xe,fe,he){M=M|0,te=te|0,ie=ie|0,ue=ue|0,ne=ne|0,le=le|0,Ae=Ae|0,me=me|0,W=W|0,re=re|0,K=K|0,v=v|0,J=J|0,xe=xe|0,fe=fe|0,he=he|0,d(),T(M^1549556828,te^1549556828,ie^1549556828,ue^1549556828,ne^1549556828,le^1549556828,Ae^1549556828,me^1549556828,W^1549556828,re^1549556828,K^1549556828,v^1549556828,J^1549556828,xe^1549556828,fe^1549556828,he^1549556828),w=n,k=i,O=s,z=o,P=a,d(),T(M^909522486,te^909522486,ie^909522486,ue^909522486,ne^909522486,le^909522486,Ae^909522486,me^909522486,W^909522486,re^909522486,K^909522486,v^909522486,J^909522486,xe^909522486,fe^909522486,he^909522486),u=n,f=i,x=s,h=o,C=a,c=64,l=0}function Q(M,te,ie){M=M|0,te=te|0,ie=ie|0;var ue=0,ne=0,le=0,Ae=0,me=0,W=0;return M&63||~ie&&ie&31?-1:(W=b(M,te,-1)|0,ue=n,ne=i,le=s,Ae=o,me=a,E(),T(ue,ne,le,Ae,me,2147483648,0,0,0,0,0,0,0,0,0,672),~ie&&R(ie),W|0)}function Z(M,te,ie,ue,ne){M=M|0,te=te|0,ie=ie|0,ue=ue|0,ne=ne|0;var le=0,Ae=0,me=0,W=0,re=0,K=0,v=0,J=0,xe=0,fe=0;if(M&63||~ne&&ne&31)return-1;for(A[M+te|0]=ie>>>24,A[M+te+1|0]=ie>>>16&255,A[M+te+2|0]=ie>>>8&255,A[M+te+3|0]=ie&255,Q(M,te+4|0,-1)|0,le=K=n,Ae=v=i,me=J=s,W=xe=o,re=fe=a,ue=ue-1|0;(ue|0)>0;)m(),T(K,v,J,xe,fe,2147483648,0,0,0,0,0,0,0,0,0,672),K=n,v=i,J=s,xe=o,fe=a,E(),T(K,v,J,xe,fe,2147483648,0,0,0,0,0,0,0,0,0,672),K=n,v=i,J=s,xe=o,fe=a,le=le^n,Ae=Ae^i,me=me^s,W=W^o,re=re^a,ue=ue-1|0;return n=le,i=Ae,s=me,o=W,a=re,~ne&&R(ne),0}return{reset:d,init:p,process:_,finish:b,hmac_reset:m,hmac_init:S,hmac_finish:Q,pbkdf2_generate_block:Z}};class Pm{constructor(){this.pos=0,this.len=0}reset(){const{asm:e}=this.acquire_asm();return this.result=null,this.pos=0,this.len=0,e.reset(),this}process(e){if(this.result!==null)throw new nh("state must be reset before processing new data");const{asm:r,heap:n}=this.acquire_asm();let i=this.pos,s=this.len,o=0,a=e.length,c=0;for(;a>0;)c=A0(n,i+s,e,o,a),s+=c,o+=c,a-=c,c=r.process(i,s),i+=c,s-=c,s||(i=0);return this.pos=i,this.len=s,this}finish(){if(this.result!==null)throw new nh("state must be reset before processing new data");const{asm:e,heap:r}=this.acquire_asm();return e.finish(this.pos,this.len,0),this.result=new Uint8Array(this.HASH_SIZE),this.result.set(r.subarray(0,this.HASH_SIZE)),this.pos=0,this.len=0,this.release_asm(),this}}const q5=[],W5=[];class v0 extends Pm{constructor(){super(),this.NAME="sha1",this.BLOCK_SIZE=64,this.HASH_SIZE=20,this.acquire_asm()}acquire_asm(){return this.heap!==void 0&&this.asm!==void 0||(this.heap=q5.pop()||n9(),this.asm=W5.pop()||Sm({Uint8Array},null,this.heap.buffer),this.reset()),{heap:this.heap,asm:this.asm}}release_asm(){this.heap!==void 0&&this.asm!==void 0&&(q5.push(this.heap),W5.push(this.asm)),this.heap=void 0,this.asm=void 0}static bytes(e){return new v0().process(e).finish().result}}v0.NAME="sha1",v0.heap_pool=[],v0.asm_pool=[],v0.asm_function=Sm;const G5=[],Y5=[];class fd extends Pm{constructor(){super(),this.NAME="sha256",this.BLOCK_SIZE=64,this.HASH_SIZE=32,this.acquire_asm()}acquire_asm(){return this.heap!==void 0&&this.asm!==void 0||(this.heap=G5.pop()||n9(),this.asm=Y5.pop()||function(e,r,n){var i=0,s=0,o=0,a=0,c=0,l=0,u=0,f=0,x=0,h=0,C=0,w=0,k=0,O=0,z=0,P=0,A=0,T=0,F=0,R=0,d=0,p=0,_=0,b=0,m=0,E=0,S=new e.Uint8Array(n);function Q(K,v,J,xe,fe,he,y,g,B,I,j,$,q,ae,oe,ce){K=K|0,v=v|0,J=J|0,xe=xe|0,fe=fe|0,he=he|0,y=y|0,g=g|0,B=B|0,I=I|0,j=j|0,$=$|0,q=q|0,ae=ae|0,oe=oe|0,ce=ce|0;var H=0,V=0,Y=0,G=0,X=0,ee=0,N=0,L=0;H=i,V=s,Y=o,G=a,X=c,ee=l,N=u,L=f,L=K+L+(X>>>6^X>>>11^X>>>25^X<<26^X<<21^X<<7)+(N^X&(ee^N))+1116352408|0,G=G+L|0,L=L+(H&V^Y&(H^V))+(H>>>2^H>>>13^H>>>22^H<<30^H<<19^H<<10)|0,N=v+N+(G>>>6^G>>>11^G>>>25^G<<26^G<<21^G<<7)+(ee^G&(X^ee))+1899447441|0,Y=Y+N|0,N=N+(L&H^V&(L^H))+(L>>>2^L>>>13^L>>>22^L<<30^L<<19^L<<10)|0,ee=J+ee+(Y>>>6^Y>>>11^Y>>>25^Y<<26^Y<<21^Y<<7)+(X^Y&(G^X))+3049323471|0,V=V+ee|0,ee=ee+(N&L^H&(N^L))+(N>>>2^N>>>13^N>>>22^N<<30^N<<19^N<<10)|0,X=xe+X+(V>>>6^V>>>11^V>>>25^V<<26^V<<21^V<<7)+(G^V&(Y^G))+3921009573|0,H=H+X|0,X=X+(ee&N^L&(ee^N))+(ee>>>2^ee>>>13^ee>>>22^ee<<30^ee<<19^ee<<10)|0,G=fe+G+(H>>>6^H>>>11^H>>>25^H<<26^H<<21^H<<7)+(Y^H&(V^Y))+961987163|0,L=L+G|0,G=G+(X&ee^N&(X^ee))+(X>>>2^X>>>13^X>>>22^X<<30^X<<19^X<<10)|0,Y=he+Y+(L>>>6^L>>>11^L>>>25^L<<26^L<<21^L<<7)+(V^L&(H^V))+1508970993|0,N=N+Y|0,Y=Y+(G&X^ee&(G^X))+(G>>>2^G>>>13^G>>>22^G<<30^G<<19^G<<10)|0,V=y+V+(N>>>6^N>>>11^N>>>25^N<<26^N<<21^N<<7)+(H^N&(L^H))+2453635748|0,ee=ee+V|0,V=V+(Y&G^X&(Y^G))+(Y>>>2^Y>>>13^Y>>>22^Y<<30^Y<<19^Y<<10)|0,H=g+H+(ee>>>6^ee>>>11^ee>>>25^ee<<26^ee<<21^ee<<7)+(L^ee&(N^L))+2870763221|0,X=X+H|0,H=H+(V&Y^G&(V^Y))+(V>>>2^V>>>13^V>>>22^V<<30^V<<19^V<<10)|0,L=B+L+(X>>>6^X>>>11^X>>>25^X<<26^X<<21^X<<7)+(N^X&(ee^N))+3624381080|0,G=G+L|0,L=L+(H&V^Y&(H^V))+(H>>>2^H>>>13^H>>>22^H<<30^H<<19^H<<10)|0,N=I+N+(G>>>6^G>>>11^G>>>25^G<<26^G<<21^G<<7)+(ee^G&(X^ee))+310598401|0,Y=Y+N|0,N=N+(L&H^V&(L^H))+(L>>>2^L>>>13^L>>>22^L<<30^L<<19^L<<10)|0,ee=j+ee+(Y>>>6^Y>>>11^Y>>>25^Y<<26^Y<<21^Y<<7)+(X^Y&(G^X))+607225278|0,V=V+ee|0,ee=ee+(N&L^H&(N^L))+(N>>>2^N>>>13^N>>>22^N<<30^N<<19^N<<10)|0,X=$+X+(V>>>6^V>>>11^V>>>25^V<<26^V<<21^V<<7)+(G^V&(Y^G))+1426881987|0,H=H+X|0,X=X+(ee&N^L&(ee^N))+(ee>>>2^ee>>>13^ee>>>22^ee<<30^ee<<19^ee<<10)|0,G=q+G+(H>>>6^H>>>11^H>>>25^H<<26^H<<21^H<<7)+(Y^H&(V^Y))+1925078388|0,L=L+G|0,G=G+(X&ee^N&(X^ee))+(X>>>2^X>>>13^X>>>22^X<<30^X<<19^X<<10)|0,Y=ae+Y+(L>>>6^L>>>11^L>>>25^L<<26^L<<21^L<<7)+(V^L&(H^V))+2162078206|0,N=N+Y|0,Y=Y+(G&X^ee&(G^X))+(G>>>2^G>>>13^G>>>22^G<<30^G<<19^G<<10)|0,V=oe+V+(N>>>6^N>>>11^N>>>25^N<<26^N<<21^N<<7)+(H^N&(L^H))+2614888103|0,ee=ee+V|0,V=V+(Y&G^X&(Y^G))+(Y>>>2^Y>>>13^Y>>>22^Y<<30^Y<<19^Y<<10)|0,H=ce+H+(ee>>>6^ee>>>11^ee>>>25^ee<<26^ee<<21^ee<<7)+(L^ee&(N^L))+3248222580|0,X=X+H|0,H=H+(V&Y^G&(V^Y))+(V>>>2^V>>>13^V>>>22^V<<30^V<<19^V<<10)|0,K=(v>>>7^v>>>18^v>>>3^v<<25^v<<14)+(oe>>>17^oe>>>19^oe>>>10^oe<<15^oe<<13)+K+I|0,L=K+L+(X>>>6^X>>>11^X>>>25^X<<26^X<<21^X<<7)+(N^X&(ee^N))+3835390401|0,G=G+L|0,L=L+(H&V^Y&(H^V))+(H>>>2^H>>>13^H>>>22^H<<30^H<<19^H<<10)|0,v=(J>>>7^J>>>18^J>>>3^J<<25^J<<14)+(ce>>>17^ce>>>19^ce>>>10^ce<<15^ce<<13)+v+j|0,N=v+N+(G>>>6^G>>>11^G>>>25^G<<26^G<<21^G<<7)+(ee^G&(X^ee))+4022224774|0,Y=Y+N|0,N=N+(L&H^V&(L^H))+(L>>>2^L>>>13^L>>>22^L<<30^L<<19^L<<10)|0,J=(xe>>>7^xe>>>18^xe>>>3^xe<<25^xe<<14)+(K>>>17^K>>>19^K>>>10^K<<15^K<<13)+J+$|0,ee=J+ee+(Y>>>6^Y>>>11^Y>>>25^Y<<26^Y<<21^Y<<7)+(X^Y&(G^X))+264347078|0,V=V+ee|0,ee=ee+(N&L^H&(N^L))+(N>>>2^N>>>13^N>>>22^N<<30^N<<19^N<<10)|0,xe=(fe>>>7^fe>>>18^fe>>>3^fe<<25^fe<<14)+(v>>>17^v>>>19^v>>>10^v<<15^v<<13)+xe+q|0,X=xe+X+(V>>>6^V>>>11^V>>>25^V<<26^V<<21^V<<7)+(G^V&(Y^G))+604807628|0,H=H+X|0,X=X+(ee&N^L&(ee^N))+(ee>>>2^ee>>>13^ee>>>22^ee<<30^ee<<19^ee<<10)|0,fe=(he>>>7^he>>>18^he>>>3^he<<25^he<<14)+(J>>>17^J>>>19^J>>>10^J<<15^J<<13)+fe+ae|0,G=fe+G+(H>>>6^H>>>11^H>>>25^H<<26^H<<21^H<<7)+(Y^H&(V^Y))+770255983|0,L=L+G|0,G=G+(X&ee^N&(X^ee))+(X>>>2^X>>>13^X>>>22^X<<30^X<<19^X<<10)|0,he=(y>>>7^y>>>18^y>>>3^y<<25^y<<14)+(xe>>>17^xe>>>19^xe>>>10^xe<<15^xe<<13)+he+oe|0,Y=he+Y+(L>>>6^L>>>11^L>>>25^L<<26^L<<21^L<<7)+(V^L&(H^V))+1249150122|0,N=N+Y|0,Y=Y+(G&X^ee&(G^X))+(G>>>2^G>>>13^G>>>22^G<<30^G<<19^G<<10)|0,y=(g>>>7^g>>>18^g>>>3^g<<25^g<<14)+(fe>>>17^fe>>>19^fe>>>10^fe<<15^fe<<13)+y+ce|0,V=y+V+(N>>>6^N>>>11^N>>>25^N<<26^N<<21^N<<7)+(H^N&(L^H))+1555081692|0,ee=ee+V|0,V=V+(Y&G^X&(Y^G))+(Y>>>2^Y>>>13^Y>>>22^Y<<30^Y<<19^Y<<10)|0,g=(B>>>7^B>>>18^B>>>3^B<<25^B<<14)+(he>>>17^he>>>19^he>>>10^he<<15^he<<13)+g+K|0,H=g+H+(ee>>>6^ee>>>11^ee>>>25^ee<<26^ee<<21^ee<<7)+(L^ee&(N^L))+1996064986|0,X=X+H|0,H=H+(V&Y^G&(V^Y))+(V>>>2^V>>>13^V>>>22^V<<30^V<<19^V<<10)|0,B=(I>>>7^I>>>18^I>>>3^I<<25^I<<14)+(y>>>17^y>>>19^y>>>10^y<<15^y<<13)+B+v|0,L=B+L+(X>>>6^X>>>11^X>>>25^X<<26^X<<21^X<<7)+(N^X&(ee^N))+2554220882|0,G=G+L|0,L=L+(H&V^Y&(H^V))+(H>>>2^H>>>13^H>>>22^H<<30^H<<19^H<<10)|0,I=(j>>>7^j>>>18^j>>>3^j<<25^j<<14)+(g>>>17^g>>>19^g>>>10^g<<15^g<<13)+I+J|0,N=I+N+(G>>>6^G>>>11^G>>>25^G<<26^G<<21^G<<7)+(ee^G&(X^ee))+2821834349|0,Y=Y+N|0,N=N+(L&H^V&(L^H))+(L>>>2^L>>>13^L>>>22^L<<30^L<<19^L<<10)|0,j=($>>>7^$>>>18^$>>>3^$<<25^$<<14)+(B>>>17^B>>>19^B>>>10^B<<15^B<<13)+j+xe|0,ee=j+ee+(Y>>>6^Y>>>11^Y>>>25^Y<<26^Y<<21^Y<<7)+(X^Y&(G^X))+2952996808|0,V=V+ee|0,ee=ee+(N&L^H&(N^L))+(N>>>2^N>>>13^N>>>22^N<<30^N<<19^N<<10)|0,$=(q>>>7^q>>>18^q>>>3^q<<25^q<<14)+(I>>>17^I>>>19^I>>>10^I<<15^I<<13)+$+fe|0,X=$+X+(V>>>6^V>>>11^V>>>25^V<<26^V<<21^V<<7)+(G^V&(Y^G))+3210313671|0,H=H+X|0,X=X+(ee&N^L&(ee^N))+(ee>>>2^ee>>>13^ee>>>22^ee<<30^ee<<19^ee<<10)|0,q=(ae>>>7^ae>>>18^ae>>>3^ae<<25^ae<<14)+(j>>>17^j>>>19^j>>>10^j<<15^j<<13)+q+he|0,G=q+G+(H>>>6^H>>>11^H>>>25^H<<26^H<<21^H<<7)+(Y^H&(V^Y))+3336571891|0,L=L+G|0,G=G+(X&ee^N&(X^ee))+(X>>>2^X>>>13^X>>>22^X<<30^X<<19^X<<10)|0,ae=(oe>>>7^oe>>>18^oe>>>3^oe<<25^oe<<14)+($>>>17^$>>>19^$>>>10^$<<15^$<<13)+ae+y|0,Y=ae+Y+(L>>>6^L>>>11^L>>>25^L<<26^L<<21^L<<7)+(V^L&(H^V))+3584528711|0,N=N+Y|0,Y=Y+(G&X^ee&(G^X))+(G>>>2^G>>>13^G>>>22^G<<30^G<<19^G<<10)|0,oe=(ce>>>7^ce>>>18^ce>>>3^ce<<25^ce<<14)+(q>>>17^q>>>19^q>>>10^q<<15^q<<13)+oe+g|0,V=oe+V+(N>>>6^N>>>11^N>>>25^N<<26^N<<21^N<<7)+(H^N&(L^H))+113926993|0,ee=ee+V|0,V=V+(Y&G^X&(Y^G))+(Y>>>2^Y>>>13^Y>>>22^Y<<30^Y<<19^Y<<10)|0,ce=(K>>>7^K>>>18^K>>>3^K<<25^K<<14)+(ae>>>17^ae>>>19^ae>>>10^ae<<15^ae<<13)+ce+B|0,H=ce+H+(ee>>>6^ee>>>11^ee>>>25^ee<<26^ee<<21^ee<<7)+(L^ee&(N^L))+338241895|0,X=X+H|0,H=H+(V&Y^G&(V^Y))+(V>>>2^V>>>13^V>>>22^V<<30^V<<19^V<<10)|0,K=(v>>>7^v>>>18^v>>>3^v<<25^v<<14)+(oe>>>17^oe>>>19^oe>>>10^oe<<15^oe<<13)+K+I|0,L=K+L+(X>>>6^X>>>11^X>>>25^X<<26^X<<21^X<<7)+(N^X&(ee^N))+666307205|0,G=G+L|0,L=L+(H&V^Y&(H^V))+(H>>>2^H>>>13^H>>>22^H<<30^H<<19^H<<10)|0,v=(J>>>7^J>>>18^J>>>3^J<<25^J<<14)+(ce>>>17^ce>>>19^ce>>>10^ce<<15^ce<<13)+v+j|0,N=v+N+(G>>>6^G>>>11^G>>>25^G<<26^G<<21^G<<7)+(ee^G&(X^ee))+773529912|0,Y=Y+N|0,N=N+(L&H^V&(L^H))+(L>>>2^L>>>13^L>>>22^L<<30^L<<19^L<<10)|0,J=(xe>>>7^xe>>>18^xe>>>3^xe<<25^xe<<14)+(K>>>17^K>>>19^K>>>10^K<<15^K<<13)+J+$|0,ee=J+ee+(Y>>>6^Y>>>11^Y>>>25^Y<<26^Y<<21^Y<<7)+(X^Y&(G^X))+1294757372|0,V=V+ee|0,ee=ee+(N&L^H&(N^L))+(N>>>2^N>>>13^N>>>22^N<<30^N<<19^N<<10)|0,xe=(fe>>>7^fe>>>18^fe>>>3^fe<<25^fe<<14)+(v>>>17^v>>>19^v>>>10^v<<15^v<<13)+xe+q|0,X=xe+X+(V>>>6^V>>>11^V>>>25^V<<26^V<<21^V<<7)+(G^V&(Y^G))+1396182291|0,H=H+X|0,X=X+(ee&N^L&(ee^N))+(ee>>>2^ee>>>13^ee>>>22^ee<<30^ee<<19^ee<<10)|0,fe=(he>>>7^he>>>18^he>>>3^he<<25^he<<14)+(J>>>17^J>>>19^J>>>10^J<<15^J<<13)+fe+ae|0,G=fe+G+(H>>>6^H>>>11^H>>>25^H<<26^H<<21^H<<7)+(Y^H&(V^Y))+1695183700|0,L=L+G|0,G=G+(X&ee^N&(X^ee))+(X>>>2^X>>>13^X>>>22^X<<30^X<<19^X<<10)|0,he=(y>>>7^y>>>18^y>>>3^y<<25^y<<14)+(xe>>>17^xe>>>19^xe>>>10^xe<<15^xe<<13)+he+oe|0,Y=he+Y+(L>>>6^L>>>11^L>>>25^L<<26^L<<21^L<<7)+(V^L&(H^V))+1986661051|0,N=N+Y|0,Y=Y+(G&X^ee&(G^X))+(G>>>2^G>>>13^G>>>22^G<<30^G<<19^G<<10)|0,y=(g>>>7^g>>>18^g>>>3^g<<25^g<<14)+(fe>>>17^fe>>>19^fe>>>10^fe<<15^fe<<13)+y+ce|0,V=y+V+(N>>>6^N>>>11^N>>>25^N<<26^N<<21^N<<7)+(H^N&(L^H))+2177026350|0,ee=ee+V|0,V=V+(Y&G^X&(Y^G))+(Y>>>2^Y>>>13^Y>>>22^Y<<30^Y<<19^Y<<10)|0,g=(B>>>7^B>>>18^B>>>3^B<<25^B<<14)+(he>>>17^he>>>19^he>>>10^he<<15^he<<13)+g+K|0,H=g+H+(ee>>>6^ee>>>11^ee>>>25^ee<<26^ee<<21^ee<<7)+(L^ee&(N^L))+2456956037|0,X=X+H|0,H=H+(V&Y^G&(V^Y))+(V>>>2^V>>>13^V>>>22^V<<30^V<<19^V<<10)|0,B=(I>>>7^I>>>18^I>>>3^I<<25^I<<14)+(y>>>17^y>>>19^y>>>10^y<<15^y<<13)+B+v|0,L=B+L+(X>>>6^X>>>11^X>>>25^X<<26^X<<21^X<<7)+(N^X&(ee^N))+2730485921|0,G=G+L|0,L=L+(H&V^Y&(H^V))+(H>>>2^H>>>13^H>>>22^H<<30^H<<19^H<<10)|0,I=(j>>>7^j>>>18^j>>>3^j<<25^j<<14)+(g>>>17^g>>>19^g>>>10^g<<15^g<<13)+I+J|0,N=I+N+(G>>>6^G>>>11^G>>>25^G<<26^G<<21^G<<7)+(ee^G&(X^ee))+2820302411|0,Y=Y+N|0,N=N+(L&H^V&(L^H))+(L>>>2^L>>>13^L>>>22^L<<30^L<<19^L<<10)|0,j=($>>>7^$>>>18^$>>>3^$<<25^$<<14)+(B>>>17^B>>>19^B>>>10^B<<15^B<<13)+j+xe|0,ee=j+ee+(Y>>>6^Y>>>11^Y>>>25^Y<<26^Y<<21^Y<<7)+(X^Y&(G^X))+3259730800|0,V=V+ee|0,ee=ee+(N&L^H&(N^L))+(N>>>2^N>>>13^N>>>22^N<<30^N<<19^N<<10)|0,$=(q>>>7^q>>>18^q>>>3^q<<25^q<<14)+(I>>>17^I>>>19^I>>>10^I<<15^I<<13)+$+fe|0,X=$+X+(V>>>6^V>>>11^V>>>25^V<<26^V<<21^V<<7)+(G^V&(Y^G))+3345764771|0,H=H+X|0,X=X+(ee&N^L&(ee^N))+(ee>>>2^ee>>>13^ee>>>22^ee<<30^ee<<19^ee<<10)|0,q=(ae>>>7^ae>>>18^ae>>>3^ae<<25^ae<<14)+(j>>>17^j>>>19^j>>>10^j<<15^j<<13)+q+he|0,G=q+G+(H>>>6^H>>>11^H>>>25^H<<26^H<<21^H<<7)+(Y^H&(V^Y))+3516065817|0,L=L+G|0,G=G+(X&ee^N&(X^ee))+(X>>>2^X>>>13^X>>>22^X<<30^X<<19^X<<10)|0,ae=(oe>>>7^oe>>>18^oe>>>3^oe<<25^oe<<14)+($>>>17^$>>>19^$>>>10^$<<15^$<<13)+ae+y|0,Y=ae+Y+(L>>>6^L>>>11^L>>>25^L<<26^L<<21^L<<7)+(V^L&(H^V))+3600352804|0,N=N+Y|0,Y=Y+(G&X^ee&(G^X))+(G>>>2^G>>>13^G>>>22^G<<30^G<<19^G<<10)|0,oe=(ce>>>7^ce>>>18^ce>>>3^ce<<25^ce<<14)+(q>>>17^q>>>19^q>>>10^q<<15^q<<13)+oe+g|0,V=oe+V+(N>>>6^N>>>11^N>>>25^N<<26^N<<21^N<<7)+(H^N&(L^H))+4094571909|0,ee=ee+V|0,V=V+(Y&G^X&(Y^G))+(Y>>>2^Y>>>13^Y>>>22^Y<<30^Y<<19^Y<<10)|0,ce=(K>>>7^K>>>18^K>>>3^K<<25^K<<14)+(ae>>>17^ae>>>19^ae>>>10^ae<<15^ae<<13)+ce+B|0,H=ce+H+(ee>>>6^ee>>>11^ee>>>25^ee<<26^ee<<21^ee<<7)+(L^ee&(N^L))+275423344|0,X=X+H|0,H=H+(V&Y^G&(V^Y))+(V>>>2^V>>>13^V>>>22^V<<30^V<<19^V<<10)|0,K=(v>>>7^v>>>18^v>>>3^v<<25^v<<14)+(oe>>>17^oe>>>19^oe>>>10^oe<<15^oe<<13)+K+I|0,L=K+L+(X>>>6^X>>>11^X>>>25^X<<26^X<<21^X<<7)+(N^X&(ee^N))+430227734|0,G=G+L|0,L=L+(H&V^Y&(H^V))+(H>>>2^H>>>13^H>>>22^H<<30^H<<19^H<<10)|0,v=(J>>>7^J>>>18^J>>>3^J<<25^J<<14)+(ce>>>17^ce>>>19^ce>>>10^ce<<15^ce<<13)+v+j|0,N=v+N+(G>>>6^G>>>11^G>>>25^G<<26^G<<21^G<<7)+(ee^G&(X^ee))+506948616|0,Y=Y+N|0,N=N+(L&H^V&(L^H))+(L>>>2^L>>>13^L>>>22^L<<30^L<<19^L<<10)|0,J=(xe>>>7^xe>>>18^xe>>>3^xe<<25^xe<<14)+(K>>>17^K>>>19^K>>>10^K<<15^K<<13)+J+$|0,ee=J+ee+(Y>>>6^Y>>>11^Y>>>25^Y<<26^Y<<21^Y<<7)+(X^Y&(G^X))+659060556|0,V=V+ee|0,ee=ee+(N&L^H&(N^L))+(N>>>2^N>>>13^N>>>22^N<<30^N<<19^N<<10)|0,xe=(fe>>>7^fe>>>18^fe>>>3^fe<<25^fe<<14)+(v>>>17^v>>>19^v>>>10^v<<15^v<<13)+xe+q|0,X=xe+X+(V>>>6^V>>>11^V>>>25^V<<26^V<<21^V<<7)+(G^V&(Y^G))+883997877|0,H=H+X|0,X=X+(ee&N^L&(ee^N))+(ee>>>2^ee>>>13^ee>>>22^ee<<30^ee<<19^ee<<10)|0,fe=(he>>>7^he>>>18^he>>>3^he<<25^he<<14)+(J>>>17^J>>>19^J>>>10^J<<15^J<<13)+fe+ae|0,G=fe+G+(H>>>6^H>>>11^H>>>25^H<<26^H<<21^H<<7)+(Y^H&(V^Y))+958139571|0,L=L+G|0,G=G+(X&ee^N&(X^ee))+(X>>>2^X>>>13^X>>>22^X<<30^X<<19^X<<10)|0,he=(y>>>7^y>>>18^y>>>3^y<<25^y<<14)+(xe>>>17^xe>>>19^xe>>>10^xe<<15^xe<<13)+he+oe|0,Y=he+Y+(L>>>6^L>>>11^L>>>25^L<<26^L<<21^L<<7)+(V^L&(H^V))+1322822218|0,N=N+Y|0,Y=Y+(G&X^ee&(G^X))+(G>>>2^G>>>13^G>>>22^G<<30^G<<19^G<<10)|0,y=(g>>>7^g>>>18^g>>>3^g<<25^g<<14)+(fe>>>17^fe>>>19^fe>>>10^fe<<15^fe<<13)+y+ce|0,V=y+V+(N>>>6^N>>>11^N>>>25^N<<26^N<<21^N<<7)+(H^N&(L^H))+1537002063|0,ee=ee+V|0,V=V+(Y&G^X&(Y^G))+(Y>>>2^Y>>>13^Y>>>22^Y<<30^Y<<19^Y<<10)|0,g=(B>>>7^B>>>18^B>>>3^B<<25^B<<14)+(he>>>17^he>>>19^he>>>10^he<<15^he<<13)+g+K|0,H=g+H+(ee>>>6^ee>>>11^ee>>>25^ee<<26^ee<<21^ee<<7)+(L^ee&(N^L))+1747873779|0,X=X+H|0,H=H+(V&Y^G&(V^Y))+(V>>>2^V>>>13^V>>>22^V<<30^V<<19^V<<10)|0,B=(I>>>7^I>>>18^I>>>3^I<<25^I<<14)+(y>>>17^y>>>19^y>>>10^y<<15^y<<13)+B+v|0,L=B+L+(X>>>6^X>>>11^X>>>25^X<<26^X<<21^X<<7)+(N^X&(ee^N))+1955562222|0,G=G+L|0,L=L+(H&V^Y&(H^V))+(H>>>2^H>>>13^H>>>22^H<<30^H<<19^H<<10)|0,I=(j>>>7^j>>>18^j>>>3^j<<25^j<<14)+(g>>>17^g>>>19^g>>>10^g<<15^g<<13)+I+J|0,N=I+N+(G>>>6^G>>>11^G>>>25^G<<26^G<<21^G<<7)+(ee^G&(X^ee))+2024104815|0,Y=Y+N|0,N=N+(L&H^V&(L^H))+(L>>>2^L>>>13^L>>>22^L<<30^L<<19^L<<10)|0,j=($>>>7^$>>>18^$>>>3^$<<25^$<<14)+(B>>>17^B>>>19^B>>>10^B<<15^B<<13)+j+xe|0,ee=j+ee+(Y>>>6^Y>>>11^Y>>>25^Y<<26^Y<<21^Y<<7)+(X^Y&(G^X))+2227730452|0,V=V+ee|0,ee=ee+(N&L^H&(N^L))+(N>>>2^N>>>13^N>>>22^N<<30^N<<19^N<<10)|0,$=(q>>>7^q>>>18^q>>>3^q<<25^q<<14)+(I>>>17^I>>>19^I>>>10^I<<15^I<<13)+$+fe|0,X=$+X+(V>>>6^V>>>11^V>>>25^V<<26^V<<21^V<<7)+(G^V&(Y^G))+2361852424|0,H=H+X|0,X=X+(ee&N^L&(ee^N))+(ee>>>2^ee>>>13^ee>>>22^ee<<30^ee<<19^ee<<10)|0,q=(ae>>>7^ae>>>18^ae>>>3^ae<<25^ae<<14)+(j>>>17^j>>>19^j>>>10^j<<15^j<<13)+q+he|0,G=q+G+(H>>>6^H>>>11^H>>>25^H<<26^H<<21^H<<7)+(Y^H&(V^Y))+2428436474|0,L=L+G|0,G=G+(X&ee^N&(X^ee))+(X>>>2^X>>>13^X>>>22^X<<30^X<<19^X<<10)|0,ae=(oe>>>7^oe>>>18^oe>>>3^oe<<25^oe<<14)+($>>>17^$>>>19^$>>>10^$<<15^$<<13)+ae+y|0,Y=ae+Y+(L>>>6^L>>>11^L>>>25^L<<26^L<<21^L<<7)+(V^L&(H^V))+2756734187|0,N=N+Y|0,Y=Y+(G&X^ee&(G^X))+(G>>>2^G>>>13^G>>>22^G<<30^G<<19^G<<10)|0,oe=(ce>>>7^ce>>>18^ce>>>3^ce<<25^ce<<14)+(q>>>17^q>>>19^q>>>10^q<<15^q<<13)+oe+g|0,V=oe+V+(N>>>6^N>>>11^N>>>25^N<<26^N<<21^N<<7)+(H^N&(L^H))+3204031479|0,ee=ee+V|0,V=V+(Y&G^X&(Y^G))+(Y>>>2^Y>>>13^Y>>>22^Y<<30^Y<<19^Y<<10)|0,ce=(K>>>7^K>>>18^K>>>3^K<<25^K<<14)+(ae>>>17^ae>>>19^ae>>>10^ae<<15^ae<<13)+ce+B|0,H=ce+H+(ee>>>6^ee>>>11^ee>>>25^ee<<26^ee<<21^ee<<7)+(L^ee&(N^L))+3329325298|0,X=X+H|0,H=H+(V&Y^G&(V^Y))+(V>>>2^V>>>13^V>>>22^V<<30^V<<19^V<<10)|0,i=i+H|0,s=s+V|0,o=o+Y|0,a=a+G|0,c=c+X|0,l=l+ee|0,u=u+N|0,f=f+L|0}function Z(K){K=K|0,Q(S[K|0]<<24|S[K|1]<<16|S[K|2]<<8|S[K|3],S[K|4]<<24|S[K|5]<<16|S[K|6]<<8|S[K|7],S[K|8]<<24|S[K|9]<<16|S[K|10]<<8|S[K|11],S[K|12]<<24|S[K|13]<<16|S[K|14]<<8|S[K|15],S[K|16]<<24|S[K|17]<<16|S[K|18]<<8|S[K|19],S[K|20]<<24|S[K|21]<<16|S[K|22]<<8|S[K|23],S[K|24]<<24|S[K|25]<<16|S[K|26]<<8|S[K|27],S[K|28]<<24|S[K|29]<<16|S[K|30]<<8|S[K|31],S[K|32]<<24|S[K|33]<<16|S[K|34]<<8|S[K|35],S[K|36]<<24|S[K|37]<<16|S[K|38]<<8|S[K|39],S[K|40]<<24|S[K|41]<<16|S[K|42]<<8|S[K|43],S[K|44]<<24|S[K|45]<<16|S[K|46]<<8|S[K|47],S[K|48]<<24|S[K|49]<<16|S[K|50]<<8|S[K|51],S[K|52]<<24|S[K|53]<<16|S[K|54]<<8|S[K|55],S[K|56]<<24|S[K|57]<<16|S[K|58]<<8|S[K|59],S[K|60]<<24|S[K|61]<<16|S[K|62]<<8|S[K|63])}function M(K){K=K|0,S[K|0]=i>>>24,S[K|1]=i>>>16&255,S[K|2]=i>>>8&255,S[K|3]=i&255,S[K|4]=s>>>24,S[K|5]=s>>>16&255,S[K|6]=s>>>8&255,S[K|7]=s&255,S[K|8]=o>>>24,S[K|9]=o>>>16&255,S[K|10]=o>>>8&255,S[K|11]=o&255,S[K|12]=a>>>24,S[K|13]=a>>>16&255,S[K|14]=a>>>8&255,S[K|15]=a&255,S[K|16]=c>>>24,S[K|17]=c>>>16&255,S[K|18]=c>>>8&255,S[K|19]=c&255,S[K|20]=l>>>24,S[K|21]=l>>>16&255,S[K|22]=l>>>8&255,S[K|23]=l&255,S[K|24]=u>>>24,S[K|25]=u>>>16&255,S[K|26]=u>>>8&255,S[K|27]=u&255,S[K|28]=f>>>24,S[K|29]=f>>>16&255,S[K|30]=f>>>8&255,S[K|31]=f&255}function te(){i=1779033703,s=3144134277,o=1013904242,a=2773480762,c=1359893119,l=2600822924,u=528734635,f=1541459225,x=h=0}function ie(K,v,J,xe,fe,he,y,g,B,I){K=K|0,v=v|0,J=J|0,xe=xe|0,fe=fe|0,he=he|0,y=y|0,g=g|0,B=B|0,I=I|0,i=K,s=v,o=J,a=xe,c=fe,l=he,u=y,f=g,x=B,h=I}function ue(K,v){K=K|0,v=v|0;var J=0;if(K&63)return-1;for(;(v|0)>=64;)Z(K),K=K+64|0,v=v-64|0,J=J+64|0;return x=x+J|0,x>>>0<J>>>0&&(h=h+1|0),J|0}function ne(K,v,J){K=K|0,v=v|0,J=J|0;var xe=0,fe=0;if(K&63||~J&&J&31)return-1;if((v|0)>=64){if(xe=ue(K,v)|0,(xe|0)==-1)return-1;K=K+xe|0,v=v-xe|0}if(xe=xe+v|0,x=x+v|0,x>>>0<v>>>0&&(h=h+1|0),S[K|v]=128,(v|0)>=56){for(fe=v+1|0;(fe|0)<64;fe=fe+1|0)S[K|fe]=0;Z(K),v=0,S[K|0]=0}for(fe=v+1|0;(fe|0)<59;fe=fe+1|0)S[K|fe]=0;return S[K|56]=h>>>21&255,S[K|57]=h>>>13&255,S[K|58]=h>>>5&255,S[K|59]=h<<3&255|x>>>29,S[K|60]=x>>>21&255,S[K|61]=x>>>13&255,S[K|62]=x>>>5&255,S[K|63]=x<<3&255,Z(K),~J&&M(J),xe|0}function le(){i=C,s=w,o=k,a=O,c=z,l=P,u=A,f=T,x=64,h=0}function Ae(){i=F,s=R,o=d,a=p,c=_,l=b,u=m,f=E,x=64,h=0}function me(K,v,J,xe,fe,he,y,g,B,I,j,$,q,ae,oe,ce){K=K|0,v=v|0,J=J|0,xe=xe|0,fe=fe|0,he=he|0,y=y|0,g=g|0,B=B|0,I=I|0,j=j|0,$=$|0,q=q|0,ae=ae|0,oe=oe|0,ce=ce|0,te(),Q(K^1549556828,v^1549556828,J^1549556828,xe^1549556828,fe^1549556828,he^1549556828,y^1549556828,g^1549556828,B^1549556828,I^1549556828,j^1549556828,$^1549556828,q^1549556828,ae^1549556828,oe^1549556828,ce^1549556828),F=i,R=s,d=o,p=a,_=c,b=l,m=u,E=f,te(),Q(K^909522486,v^909522486,J^909522486,xe^909522486,fe^909522486,he^909522486,y^909522486,g^909522486,B^909522486,I^909522486,j^909522486,$^909522486,q^909522486,ae^909522486,oe^909522486,ce^909522486),C=i,w=s,k=o,O=a,z=c,P=l,A=u,T=f,x=64,h=0}function W(K,v,J){K=K|0,v=v|0,J=J|0;var xe=0,fe=0,he=0,y=0,g=0,B=0,I=0,j=0,$=0;return K&63||~J&&J&31?-1:($=ne(K,v,-1)|0,xe=i,fe=s,he=o,y=a,g=c,B=l,I=u,j=f,Ae(),Q(xe,fe,he,y,g,B,I,j,2147483648,0,0,0,0,0,0,768),~J&&M(J),$|0)}function re(K,v,J,xe,fe){K=K|0,v=v|0,J=J|0,xe=xe|0,fe=fe|0;var he=0,y=0,g=0,B=0,I=0,j=0,$=0,q=0,ae=0,oe=0,ce=0,H=0,V=0,Y=0,G=0,X=0;if(K&63||~fe&&fe&31)return-1;for(S[K+v|0]=J>>>24,S[K+v+1|0]=J>>>16&255,S[K+v+2|0]=J>>>8&255,S[K+v+3|0]=J&255,W(K,v+4|0,-1)|0,he=ae=i,y=oe=s,g=ce=o,B=H=a,I=V=c,j=Y=l,$=G=u,q=X=f,xe=xe-1|0;(xe|0)>0;)le(),Q(ae,oe,ce,H,V,Y,G,X,2147483648,0,0,0,0,0,0,768),ae=i,oe=s,ce=o,H=a,V=c,Y=l,G=u,X=f,Ae(),Q(ae,oe,ce,H,V,Y,G,X,2147483648,0,0,0,0,0,0,768),ae=i,oe=s,ce=o,H=a,V=c,Y=l,G=u,X=f,he=he^i,y=y^s,g=g^o,B=B^a,I=I^c,j=j^l,$=$^u,q=q^f,xe=xe-1|0;return i=he,s=y,o=g,a=B,c=I,l=j,u=$,f=q,~fe&&M(fe),0}return{reset:te,init:ie,process:ue,finish:ne,hmac_reset:le,hmac_init:me,hmac_finish:W,pbkdf2_generate_block:re}}({Uint8Array},null,this.heap.buffer),this.reset()),{heap:this.heap,asm:this.asm}}release_asm(){this.heap!==void 0&&this.asm!==void 0&&(G5.push(this.heap),Y5.push(this.asm)),this.heap=void 0,this.asm=void 0}static bytes(e){return new fd().process(e).finish().result}}fd.NAME="sha256";var e0=Tm;function Tm(t,e){if(!t)throw Error(e||"Assertion failed")}Tm.equal=function(t,e,r){if(t!=e)throw Error(r||"Assertion failed: "+t+" != "+e)};var $S=Xr!==void 0?Xr:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ci(t,e){return t(e={exports:{}},e.exports),e.exports}function zS(){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Ms=Ci(function(t){t.exports=typeof Object.create=="function"?function(e,r){e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}),jS=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var n=0;n<t.length;n++){var i=t.charCodeAt(n),s=i>>8,o=255&i;s?r.push(s,o):r.push(o)}else for(n=0;n<t.length;n++)r[n]=0|t[n];return r},HS=function(t){for(var e="",r=0;r<t.length;r++)e+=Im(t[r].toString(16));return e};function Mm(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}var VS=function(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=Mm(i)),r+=Rm(i.toString(16))}return r};function Im(t){return t.length===1?"0"+t:t}function Rm(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}var qS=function(t,e,r,n){var i=r-e;e0(i%4==0);for(var s=Array(i/4),o=0,a=e;o<s.length;o++,a+=4){var c;c=n==="big"?t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],s[o]=c>>>0}return s},WS=function(t,e){for(var r=Array(4*t.length),n=0,i=0;n<t.length;n++,i+=4){var s=t[n];e==="big"?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=255&s):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=255&s)}return r},Qe={inherits:Ms,toArray:jS,toHex:HS,htonl:Mm,toHex32:VS,zero2:Im,zero8:Rm,join32:qS,split32:WS,rotr32:function(t,e){return t>>>e|t<<32-e},rotl32:function(t,e){return t<<e|t>>>32-e},sum32:function(t,e){return t+e>>>0},sum32_3:function(t,e,r){return t+e+r>>>0},sum32_4:function(t,e,r,n){return t+e+r+n>>>0},sum32_5:function(t,e,r,n,i){return t+e+r+n+i>>>0},sum64:function(t,e,r,n){var i=t[e],s=n+t[e+1]>>>0,o=(s<n?1:0)+r+i;t[e]=o>>>0,t[e+1]=s},sum64_hi:function(t,e,r,n){return(e+n>>>0<e?1:0)+t+r>>>0},sum64_lo:function(t,e,r,n){return e+n>>>0},sum64_4_hi:function(t,e,r,n,i,s,o,a){var c=0,l=e;return c+=(l=l+n>>>0)<e?1:0,c+=(l=l+s>>>0)<s?1:0,t+r+i+o+(c+=(l=l+a>>>0)<a?1:0)>>>0},sum64_4_lo:function(t,e,r,n,i,s,o,a){return e+n+s+a>>>0},sum64_5_hi:function(t,e,r,n,i,s,o,a,c,l){var u=0,f=e;return u+=(f=f+n>>>0)<e?1:0,u+=(f=f+s>>>0)<s?1:0,u+=(f=f+a>>>0)<a?1:0,t+r+i+o+c+(u+=(f=f+l>>>0)<l?1:0)>>>0},sum64_5_lo:function(t,e,r,n,i,s,o,a,c,l){return e+n+s+a+l>>>0},rotr64_hi:function(t,e,r){return(e<<32-r|t>>>r)>>>0},rotr64_lo:function(t,e,r){return(t<<32-r|e>>>r)>>>0},shr64_hi:function(t,e,r){return t>>>r},shr64_lo:function(t,e,r){return(t<<32-r|e>>>r)>>>0}};function fu(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var GS=fu;fu.prototype.update=function(t,e){if(t=Qe.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var r=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-r,t.length),this.pending.length===0&&(this.pending=null),t=Qe.join32(t,0,t.length-r,this.endian);for(var n=0;n<t.length;n+=this._delta32)this._update(t,n,n+this._delta32)}return this},fu.prototype.digest=function(t){return this.update(this._pad()),e0(this.pending===null),this._digest(t)},fu.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,n=Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(t<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=t>>>24&255,n[i++]=t>>>16&255,n[i++]=t>>>8&255,n[i++]=255&t}else for(n[i++]=255&t,n[i++]=t>>>8&255,n[i++]=t>>>16&255,n[i++]=t>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,s=8;s<this.padLength;s++)n[i++]=0;return n};var al={BlockHash:GS},Un=Qe.rotr32,YS=function(t,e,r,n){return t===0?Om(e,r,n):t===1||t===3?Nm(e,r,n):t===2?Lm(e,r,n):void 0};function Om(t,e,r){return t&e^~t&r}function Lm(t,e,r){return t&e^t&r^e&r}function Nm(t,e,r){return t^e^r}var no={ft_1:YS,ch32:Om,maj32:Lm,p32:Nm,s0_256:function(t){return Un(t,2)^Un(t,13)^Un(t,22)},s1_256:function(t){return Un(t,6)^Un(t,11)^Un(t,25)},g0_256:function(t){return Un(t,7)^Un(t,18)^t>>>3},g1_256:function(t){return Un(t,17)^Un(t,19)^t>>>10}},yn=Qe.sum32,JS=Qe.sum32_4,XS=Qe.sum32_5,QS=no.ch32,ZS=no.maj32,eP=no.s0_256,tP=no.s1_256,rP=no.g0_256,nP=no.g1_256,Km=al.BlockHash,iP=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Yn(){if(!(this instanceof Yn))return new Yn;Km.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=iP,this.W=Array(64)}Qe.inherits(Yn,Km);var s9=Yn;function Mi(){if(!(this instanceof Mi))return new Mi;s9.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Yn.blockSize=512,Yn.outSize=256,Yn.hmacStrength=192,Yn.padLength=64,Yn.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=JS(nP(r[n-2]),r[n-7],rP(r[n-15]),r[n-16]);var i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],c=this.h[4],l=this.h[5],u=this.h[6],f=this.h[7];for(e0(this.k.length===r.length),n=0;n<r.length;n++){var x=XS(f,tP(c),QS(c,l,u),this.k[n],r[n]),h=yn(eP(i),ZS(i,s,o));f=u,u=l,l=c,c=yn(a,x),a=o,o=s,s=i,i=yn(x,h)}this.h[0]=yn(this.h[0],i),this.h[1]=yn(this.h[1],s),this.h[2]=yn(this.h[2],o),this.h[3]=yn(this.h[3],a),this.h[4]=yn(this.h[4],c),this.h[5]=yn(this.h[5],l),this.h[6]=yn(this.h[6],u),this.h[7]=yn(this.h[7],f)},Yn.prototype._digest=function(t){return t==="hex"?Qe.toHex32(this.h,"big"):Qe.split32(this.h,"big")},Qe.inherits(Mi,s9);var Um=Mi;Mi.blockSize=512,Mi.outSize=224,Mi.hmacStrength=192,Mi.padLength=64,Mi.prototype._digest=function(t){return t==="hex"?Qe.toHex32(this.h.slice(0,7),"big"):Qe.split32(this.h.slice(0,7),"big")};var ui=Qe.rotr64_hi,fi=Qe.rotr64_lo,$m=Qe.shr64_hi,zm=Qe.shr64_lo,ls=Qe.sum64,mx=Qe.sum64_hi,gx=Qe.sum64_lo,sP=Qe.sum64_4_hi,oP=Qe.sum64_4_lo,aP=Qe.sum64_5_hi,cP=Qe.sum64_5_lo,jm=al.BlockHash,lP=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Cn(){if(!(this instanceof Cn))return new Cn;jm.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=lP,this.W=Array(160)}Qe.inherits(Cn,jm);var Ea=Cn;function uP(t,e,r,n,i){var s=t&r^~t&i;return s<0&&(s+=4294967296),s}function fP(t,e,r,n,i,s){var o=e&n^~e&s;return o<0&&(o+=4294967296),o}function dP(t,e,r,n,i){var s=t&r^t&i^r&i;return s<0&&(s+=4294967296),s}function xP(t,e,r,n,i,s){var o=e&n^e&s^n&s;return o<0&&(o+=4294967296),o}function hP(t,e){var r=ui(t,e,28)^ui(e,t,2)^ui(e,t,7);return r<0&&(r+=4294967296),r}function pP(t,e){var r=fi(t,e,28)^fi(e,t,2)^fi(e,t,7);return r<0&&(r+=4294967296),r}function mP(t,e){var r=ui(t,e,14)^ui(t,e,18)^ui(e,t,9);return r<0&&(r+=4294967296),r}function gP(t,e){var r=fi(t,e,14)^fi(t,e,18)^fi(e,t,9);return r<0&&(r+=4294967296),r}function yP(t,e){var r=ui(t,e,1)^ui(t,e,8)^$m(t,e,7);return r<0&&(r+=4294967296),r}function EP(t,e){var r=fi(t,e,1)^fi(t,e,8)^zm(t,e,7);return r<0&&(r+=4294967296),r}function bP(t,e){var r=ui(t,e,19)^ui(e,t,29)^$m(t,e,6);return r<0&&(r+=4294967296),r}function CP(t,e){var r=fi(t,e,19)^fi(e,t,29)^zm(t,e,6);return r<0&&(r+=4294967296),r}function Ii(){if(!(this instanceof Ii))return new Ii;Ea.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Cn.blockSize=1024,Cn.outSize=512,Cn.hmacStrength=192,Cn.padLength=128,Cn.prototype._prepareBlock=function(t,e){for(var r=this.W,n=0;n<32;n++)r[n]=t[e+n];for(;n<r.length;n+=2){var i=bP(r[n-4],r[n-3]),s=CP(r[n-4],r[n-3]),o=r[n-14],a=r[n-13],c=yP(r[n-30],r[n-29]),l=EP(r[n-30],r[n-29]),u=r[n-32],f=r[n-31];r[n]=sP(i,s,o,a,c,l,u,f),r[n+1]=oP(i,s,o,a,c,l,u,f)}},Cn.prototype._update=function(t,e){this._prepareBlock(t,e);var r=this.W,n=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],c=this.h[5],l=this.h[6],u=this.h[7],f=this.h[8],x=this.h[9],h=this.h[10],C=this.h[11],w=this.h[12],k=this.h[13],O=this.h[14],z=this.h[15];e0(this.k.length===r.length);for(var P=0;P<r.length;P+=2){var A=O,T=z,F=mP(f,x),R=gP(f,x),d=uP(f,x,h,C,w),p=fP(f,x,h,C,w,k),_=this.k[P],b=this.k[P+1],m=r[P],E=r[P+1],S=aP(A,T,F,R,d,p,_,b,m,E),Q=cP(A,T,F,R,d,p,_,b,m,E);A=hP(n,i),T=pP(n,i),F=dP(n,i,s,o,a),R=xP(n,i,s,o,a,c);var Z=mx(A,T,F,R),M=gx(A,T,F,R);O=w,z=k,w=h,k=C,h=f,C=x,f=mx(l,u,S,Q),x=gx(u,u,S,Q),l=a,u=c,a=s,c=o,s=n,o=i,n=mx(S,Q,Z,M),i=gx(S,Q,Z,M)}ls(this.h,0,n,i),ls(this.h,2,s,o),ls(this.h,4,a,c),ls(this.h,6,l,u),ls(this.h,8,f,x),ls(this.h,10,h,C),ls(this.h,12,w,k),ls(this.h,14,O,z)},Cn.prototype._digest=function(t){return t==="hex"?Qe.toHex32(this.h,"big"):Qe.split32(this.h,"big")},Qe.inherits(Ii,Ea);var Hm=Ii;Ii.blockSize=1024,Ii.outSize=384,Ii.hmacStrength=192,Ii.padLength=128,Ii.prototype._digest=function(t){return t==="hex"?Qe.toHex32(this.h.slice(0,12),"big"):Qe.split32(this.h.slice(0,12),"big")};var Pl=Qe.rotl32,J5=Qe.sum32,Ta=Qe.sum32_3,X5=Qe.sum32_4,Vm=al.BlockHash;function Jn(){if(!(this instanceof Jn))return new Jn;Vm.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Qe.inherits(Jn,Vm);var qm=Jn;function Q5(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function AP(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function vP(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}Jn.blockSize=512,Jn.outSize=160,Jn.hmacStrength=192,Jn.padLength=64,Jn.prototype._update=function(t,e){for(var r=this.h[0],n=this.h[1],i=this.h[2],s=this.h[3],o=this.h[4],a=r,c=n,l=i,u=s,f=o,x=0;x<80;x++){var h=J5(Pl(X5(r,Q5(x,n,i,s),t[_P[x]+e],AP(x)),BP[x]),o);r=o,o=s,s=Pl(i,10),i=n,n=h,h=J5(Pl(X5(a,Q5(79-x,c,l,u),t[wP[x]+e],vP(x)),DP[x]),f),a=f,f=u,u=Pl(l,10),l=c,c=h}h=Ta(this.h[1],i,u),this.h[1]=Ta(this.h[2],s,f),this.h[2]=Ta(this.h[3],o,a),this.h[3]=Ta(this.h[4],r,c),this.h[4]=Ta(this.h[0],n,l),this.h[0]=h},Jn.prototype._digest=function(t){return t==="hex"?Qe.toHex32(this.h,"little"):Qe.split32(this.h,"little")};var _P=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],wP=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],BP=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],DP=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],kP={ripemd160:qm};function yx(t,e){let r=t[0],n=t[1],i=t[2],s=t[3];r=ir(r,n,i,s,e[0],7,-680876936),s=ir(s,r,n,i,e[1],12,-389564586),i=ir(i,s,r,n,e[2],17,606105819),n=ir(n,i,s,r,e[3],22,-1044525330),r=ir(r,n,i,s,e[4],7,-176418897),s=ir(s,r,n,i,e[5],12,1200080426),i=ir(i,s,r,n,e[6],17,-1473231341),n=ir(n,i,s,r,e[7],22,-45705983),r=ir(r,n,i,s,e[8],7,1770035416),s=ir(s,r,n,i,e[9],12,-1958414417),i=ir(i,s,r,n,e[10],17,-42063),n=ir(n,i,s,r,e[11],22,-1990404162),r=ir(r,n,i,s,e[12],7,1804603682),s=ir(s,r,n,i,e[13],12,-40341101),i=ir(i,s,r,n,e[14],17,-1502002290),n=ir(n,i,s,r,e[15],22,1236535329),r=sr(r,n,i,s,e[1],5,-165796510),s=sr(s,r,n,i,e[6],9,-1069501632),i=sr(i,s,r,n,e[11],14,643717713),n=sr(n,i,s,r,e[0],20,-373897302),r=sr(r,n,i,s,e[5],5,-701558691),s=sr(s,r,n,i,e[10],9,38016083),i=sr(i,s,r,n,e[15],14,-660478335),n=sr(n,i,s,r,e[4],20,-405537848),r=sr(r,n,i,s,e[9],5,568446438),s=sr(s,r,n,i,e[14],9,-1019803690),i=sr(i,s,r,n,e[3],14,-187363961),n=sr(n,i,s,r,e[8],20,1163531501),r=sr(r,n,i,s,e[13],5,-1444681467),s=sr(s,r,n,i,e[2],9,-51403784),i=sr(i,s,r,n,e[7],14,1735328473),n=sr(n,i,s,r,e[12],20,-1926607734),r=or(r,n,i,s,e[5],4,-378558),s=or(s,r,n,i,e[8],11,-2022574463),i=or(i,s,r,n,e[11],16,1839030562),n=or(n,i,s,r,e[14],23,-35309556),r=or(r,n,i,s,e[1],4,-1530992060),s=or(s,r,n,i,e[4],11,1272893353),i=or(i,s,r,n,e[7],16,-155497632),n=or(n,i,s,r,e[10],23,-1094730640),r=or(r,n,i,s,e[13],4,681279174),s=or(s,r,n,i,e[0],11,-358537222),i=or(i,s,r,n,e[3],16,-722521979),n=or(n,i,s,r,e[6],23,76029189),r=or(r,n,i,s,e[9],4,-640364487),s=or(s,r,n,i,e[12],11,-421815835),i=or(i,s,r,n,e[15],16,530742520),n=or(n,i,s,r,e[2],23,-995338651),r=ar(r,n,i,s,e[0],6,-198630844),s=ar(s,r,n,i,e[7],10,1126891415),i=ar(i,s,r,n,e[14],15,-1416354905),n=ar(n,i,s,r,e[5],21,-57434055),r=ar(r,n,i,s,e[12],6,1700485571),s=ar(s,r,n,i,e[3],10,-1894986606),i=ar(i,s,r,n,e[10],15,-1051523),n=ar(n,i,s,r,e[1],21,-2054922799),r=ar(r,n,i,s,e[8],6,1873313359),s=ar(s,r,n,i,e[15],10,-30611744),i=ar(i,s,r,n,e[6],15,-1560198380),n=ar(n,i,s,r,e[13],21,1309151649),r=ar(r,n,i,s,e[4],6,-145523070),s=ar(s,r,n,i,e[11],10,-1120210379),i=ar(i,s,r,n,e[2],15,718787259),n=ar(n,i,s,r,e[9],21,-343485551),t[0]=ws(r,t[0]),t[1]=ws(n,t[1]),t[2]=ws(i,t[2]),t[3]=ws(s,t[3])}function dd(t,e,r,n,i,s){return e=ws(ws(e,t),ws(n,s)),ws(e<<i|e>>>32-i,r)}function ir(t,e,r,n,i,s,o){return dd(e&r|~e&n,t,e,i,s,o)}function sr(t,e,r,n,i,s,o){return dd(e&n|r&~n,t,e,i,s,o)}function or(t,e,r,n,i,s,o){return dd(e^r^n,t,e,i,s,o)}function ar(t,e,r,n,i,s,o){return dd(r^(e|~n),t,e,i,s,o)}function FP(t){const e=[];let r;for(r=0;r<64;r+=4)e[r>>2]=t.charCodeAt(r)+(t.charCodeAt(r+1)<<8)+(t.charCodeAt(r+2)<<16)+(t.charCodeAt(r+3)<<24);return e}const Z5="0123456789abcdef".split("");function SP(t){let e="",r=0;for(;r<4;r++)e+=Z5[t>>8*r+4&15]+Z5[t>>8*r&15];return e}function ws(t,e){return t+e&4294967295}const Wu=U.getWebCrypto(),Gu=U.getNodeCrypto(),PP=Gu&&Gu.getHashes();function o0(t){if(Gu&&PP.includes(t))return async function(e){const r=Gu.createHash(t);return Ft(e,n=>{r.update(n)},()=>new Uint8Array(r.digest()))}}function Tl(t,e){return async function(r,n=Be){if(Rt(r)&&(r=await Lt(r)),!U.isStream(r)&&Wu&&e&&r.length>=n.minBytesForWebCrypto)return new Uint8Array(await Wu.digest(e,r));const i=t();return Ft(r,s=>{i.update(s)},()=>new Uint8Array(i.digest()))}}function e2(t,e){return async function(r,n=Be){if(Rt(r)&&(r=await Lt(r)),U.isStream(r)){const i=new t;return Ft(r,s=>{i.process(s)},()=>i.finish().result)}return Wu&&e&&r.length>=n.minBytesForWebCrypto?new Uint8Array(await Wu.digest(e,r)):t.bytes(r)}}const a0={md5:o0("md5")||async function(t){const e=function(r){const n=r.length,i=[1732584193,-271733879,-1732584194,271733878];let s;for(s=64;s<=r.length;s+=64)yx(i,FP(r.substring(s-64,s)));r=r.substring(s-64);const o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(s=0;s<r.length;s++)o[s>>2]|=r.charCodeAt(s)<<(s%4<<3);if(o[s>>2]|=128<<(s%4<<3),s>55)for(yx(i,o),s=0;s<16;s++)o[s]=0;return o[14]=8*n,yx(i,o),i}(U.uint8ArrayToString(t));return U.hexToUint8Array(function(r){for(let n=0;n<r.length;n++)r[n]=SP(r[n]);return r.join("")}(e))},sha1:o0("sha1")||e2(v0,"SHA-1"),sha224:o0("sha224")||Tl(Um),sha256:o0("sha256")||e2(fd,"SHA-256"),sha384:o0("sha384")||Tl(Hm,"SHA-384"),sha512:o0("sha512")||Tl(Ea,"SHA-512"),ripemd:o0("ripemd160")||Tl(qm)};var xn={md5:a0.md5,sha1:a0.sha1,sha224:a0.sha224,sha256:a0.sha256,sha384:a0.sha384,sha512:a0.sha512,ripemd:a0.ripemd,digest:function(t,e){switch(t){case D.hash.md5:return this.md5(e);case D.hash.sha1:return this.sha1(e);case D.hash.ripemd:return this.ripemd(e);case D.hash.sha256:return this.sha256(e);case D.hash.sha384:return this.sha384(e);case D.hash.sha512:return this.sha512(e);case D.hash.sha224:return this.sha224(e);default:throw Error("Invalid hash function.")}},getHashByteLength:function(t){switch(t){case D.hash.md5:return 16;case D.hash.sha1:case D.hash.ripemd:return 20;case D.hash.sha256:return 32;case D.hash.sha384:return 48;case D.hash.sha512:return 64;case D.hash.sha224:return 28;default:throw Error("Invalid hash algorithm.")}}};class Ko{static encrypt(e,r,n){return new Ko(r,n).encrypt(e)}static decrypt(e,r,n){return new Ko(r,n).decrypt(e)}constructor(e,r,n){this.aes=n||new sl(e,r,!0,"CFB"),delete this.aes.padding}encrypt(e){return Vs(this.aes.AES_Encrypt_process(e),this.aes.AES_Encrypt_finish())}decrypt(e){return Vs(this.aes.AES_Decrypt_process(e),this.aes.AES_Decrypt_finish())}}function di(t){const e=D.read(D.symmetric,t);return ol[e]}const t2=U.getWebCrypto(),Yu=U.getNodeCrypto(),c0=Yu?Yu.getCiphers():[],Ml={idea:c0.includes("idea-cfb")?"idea-cfb":void 0,tripledes:c0.includes("des-ede3-cfb")?"des-ede3-cfb":void 0,cast5:c0.includes("cast5-cfb")?"cast5-cfb":void 0,blowfish:c0.includes("bf-cfb")?"bf-cfb":void 0,aes128:c0.includes("aes-128-cfb")?"aes-128-cfb":void 0,aes192:c0.includes("aes-192-cfb")?"aes-192-cfb":void 0,aes256:c0.includes("aes-256-cfb")?"aes-256-cfb":void 0};var TP=Object.freeze({__proto__:null,encrypt:async function(t,e,r,n,i){const s=D.read(D.symmetric,t);if(U.getNodeCrypto()&&Ml[s])return function(f,x,h,C){const w=D.read(D.symmetric,f),k=new Yu.createCipheriv(Ml[w],x,C);return Ft(h,O=>new Uint8Array(k.update(O)))}(t,e,r,n);if(U.isAES(t))return function(f,x,h,C,w){if(U.getWebCrypto()&&x.length!==24&&!U.isStream(h)&&h.length>=3e3*w.minBytesForWebCrypto)return async function(O,z,P,A){const T="AES-CBC",F=await t2.importKey("raw",z,{name:T},!1,["encrypt"]),{blockSize:R}=di(O),d=U.concatUint8Array([new Uint8Array(R),P]),p=new Uint8Array(await t2.encrypt({name:T,iv:A},F,d)).subarray(0,P.length);return function(_,b){for(let m=0;m<_.length;m++)_[m]=_[m]^b[m]}(p,P),p}(f,x,h,C);const k=new Ko(x,C);return Ft(h,O=>k.aes.AES_Encrypt_process(O),()=>k.aes.AES_Encrypt_finish())}(t,e,r,n,i);const o=new(di(t))(e),a=o.blockSize,c=n.slice();let l=new Uint8Array;const u=f=>{f&&(l=U.concatUint8Array([l,f]));const x=new Uint8Array(l.length);let h,C=0;for(;f?l.length>=a:l.length;){const w=o.encrypt(c);for(h=0;h<a;h++)c[h]=l[h]^w[h],x[C++]=c[h];l=l.subarray(a)}return x.subarray(0,C)};return Ft(r,u,u)},decrypt:async function(t,e,r,n){const i=D.read(D.symmetric,t);if(U.getNodeCrypto()&&Ml[i])return function(u,f,x,h){const C=D.read(D.symmetric,u),w=new Yu.createDecipheriv(Ml[C],f,h);return Ft(x,k=>new Uint8Array(w.update(k)))}(t,e,r,n);if(U.isAES(t))return function(u,f,x,h){if(U.isStream(x)){const C=new Ko(f,h);return Ft(x,w=>C.aes.AES_Decrypt_process(w),()=>C.aes.AES_Decrypt_finish())}return Ko.decrypt(x,f,h)}(0,e,r,n);const s=new(di(t))(e),o=s.blockSize;let a=n,c=new Uint8Array;const l=u=>{u&&(c=U.concatUint8Array([c,u]));const f=new Uint8Array(c.length);let x,h=0;for(;u?c.length>=o:c.length;){const C=s.encrypt(a);for(a=c.subarray(0,o),x=0;x<o;x++)f[h++]=a[x]^C[x];c=c.subarray(o)}return f.subarray(0,h)};return Ft(r,l,l)}});class Ju{static encrypt(e,r,n){return new Ju(r,n).encrypt(e)}static decrypt(e,r,n){return new Ju(r,n).encrypt(e)}constructor(e,r,n){this.aes=n||new sl(e,void 0,!1,"CTR"),delete this.aes.padding,this.AES_CTR_set_options(r)}encrypt(e){return Vs(this.aes.AES_Encrypt_process(e),this.aes.AES_Encrypt_finish())}decrypt(e){return Vs(this.aes.AES_Encrypt_process(e),this.aes.AES_Encrypt_finish())}AES_CTR_set_options(e,r,n){let{asm:i}=this.aes.acquire_asm();if(n!==void 0){if(n<8||n>48)throw new Ri("illegal counter size");let s=Math.pow(2,n)-1;i.set_mask(0,0,s/4294967296|0,0|s)}else n=48,i.set_mask(0,0,65535,4294967295);if(e===void 0)throw Error("nonce is required");{let s=e.length;if(!s||s>16)throw new Ri("illegal nonce size");let o=new DataView(new ArrayBuffer(16));new Uint8Array(o.buffer).set(e),i.set_nonce(o.getUint32(0),o.getUint32(4),o.getUint32(8),o.getUint32(12))}if(r!==void 0){if(r<0||r>=Math.pow(2,n))throw new Ri("illegal counter value");i.set_counter(0,0,r/4294967296|0,0|r)}}}class Xu{static encrypt(e,r,n=!0,i){return new Xu(r,i,n).encrypt(e)}static decrypt(e,r,n=!0,i){return new Xu(r,i,n).decrypt(e)}constructor(e,r,n=!0,i){this.aes=i||new sl(e,r,n,"CBC")}encrypt(e){return Vs(this.aes.AES_Encrypt_process(e),this.aes.AES_Encrypt_finish())}decrypt(e){return Vs(this.aes.AES_Decrypt_process(e),this.aes.AES_Decrypt_finish())}}const r2=U.getWebCrypto(),MP=U.getNodeCrypto(),Fi=16;function n2(t,e){const r=t.length-Fi;for(let n=0;n<Fi;n++)t[n+r]^=e[n];return t}const Il=new Uint8Array(Fi);async function IP(t){const e=await async function(i){return U.getWebCrypto()&&i.length!==24?(i=await r2.importKey("raw",i,{name:"AES-CBC",length:8*i.length},!1,["encrypt"]),async function(s){const o=await r2.encrypt({name:"AES-CBC",iv:Il,length:8*Fi},i,s);return new Uint8Array(o).subarray(0,o.byteLength-Fi)}):U.getNodeCrypto()?async function(s){const o=new MP.createCipheriv("aes-"+8*i.length+"-cbc",i,Il).update(s);return new Uint8Array(o)}:async function(s){return Xu.encrypt(s,i,!1,Il)}}(t),r=U.double(await e(Il)),n=U.double(r);return async function(i){return(await e(function(s,o,a){if(s.length&&s.length%Fi==0)return n2(s,o);const c=new Uint8Array(s.length+(Fi-s.length%Fi));return c.set(s),c[s.length]=128,n2(c,a)}(i,r,n))).subarray(-Fi)}}const i2=U.getWebCrypto(),RP=U.getNodeCrypto(),OP=U.getNodeBuffer(),Wi=16,LP=Wi,Ao=Wi,s2=new Uint8Array(Wi),sh=new Uint8Array(Wi);sh[Wi-1]=1;const oh=new Uint8Array(Wi);async function NP(t){const e=await IP(t);return function(r,n){return e(U.concatUint8Array([r,n]))}}async function KP(t){return U.getWebCrypto()&&t.length!==24?(t=await i2.importKey("raw",t,{name:"AES-CTR",length:8*t.length},!1,["encrypt"]),async function(e,r){const n=await i2.encrypt({name:"AES-CTR",counter:r,length:8*Wi},t,e);return new Uint8Array(n)}):U.getNodeCrypto()?async function(e,r){const n=new RP.createCipheriv("aes-"+8*t.length+"-ctr",t,r),i=OP.concat([n.update(e),n.final()]);return new Uint8Array(i)}:async function(e,r){return Ju.encrypt(e,t,r)}}async function Ha(t,e){if(t!==D.symmetric.aes128&&t!==D.symmetric.aes192&&t!==D.symmetric.aes256)throw Error("EAX mode supports only AES cipher");const[r,n]=await Promise.all([NP(e),KP(e)]);return{encrypt:async function(i,s,o){const[a,c]=await Promise.all([r(s2,s),r(sh,o)]),l=await n(i,a),u=await r(oh,l);for(let f=0;f<Ao;f++)u[f]^=c[f]^a[f];return U.concatUint8Array([l,u])},decrypt:async function(i,s,o){if(i.length<Ao)throw Error("Invalid EAX ciphertext");const a=i.subarray(0,-Ao),c=i.subarray(-Ao),[l,u,f]=await Promise.all([r(s2,s),r(sh,o),r(oh,a)]),x=f;for(let h=0;h<Ao;h++)x[h]^=u[h]^l[h];if(!U.equalsUint8Array(c,x))throw Error("Authentication tag mismatch");return await n(a,l)}}}oh[Wi-1]=2,Ha.getNonce=function(t,e){const r=t.slice();for(let n=0;n<e.length;n++)r[8+n]^=e[n];return r},Ha.blockLength=Wi,Ha.ivLength=LP,Ha.tagLength=Ao;const Cr=16,Wm=15,ds=16;function o2(t){let e=0;for(let r=1;!(t&r);r<<=1)e++;return e}function Pr(t,e){for(let r=0;r<t.length;r++)t[r]^=e[r];return t}function Rl(t,e){return Pr(t.slice(),e)}const Ex=new Uint8Array(Cr),UP=new Uint8Array([1]);async function Va(t,e){let r,n,i,s=0;function o(a,c,l,u){const f=c.length/Cr|0;(function(F,R){const d=U.nbits(Math.max(F.length,R.length)/Cr|0)-1;for(let p=s+1;p<=d;p++)i[p]=U.double(i[p-1]);s=d})(c,u);const x=U.concatUint8Array([Ex.subarray(0,Wm-l.length),UP,l]),h=63&x[Cr-1];x[Cr-1]&=192;const C=r(x),w=U.concatUint8Array([C,Rl(C.subarray(0,8),C.subarray(1,9))]),k=U.shiftRight(w.subarray(0+(h>>3),17+(h>>3)),8-(7&h)).subarray(1),O=new Uint8Array(Cr),z=new Uint8Array(c.length+ds);let P,A=0;for(P=0;P<f;P++)Pr(k,i[o2(P+1)]),z.set(Pr(a(Rl(k,c)),k),A),Pr(O,a===r?c:z.subarray(A)),c=c.subarray(Cr),A+=Cr;if(c.length){Pr(k,i.x);const F=r(k);z.set(Rl(c,F),A);const R=new Uint8Array(Cr);R.set(a===r?c:z.subarray(A,-ds),0),R[c.length]=128,Pr(O,R),A+=c.length}const T=Pr(r(Pr(Pr(O,k),i.$)),function(F){if(!F.length)return Ex;const R=F.length/Cr|0,d=new Uint8Array(Cr),p=new Uint8Array(Cr);for(let _=0;_<R;_++)Pr(d,i[o2(_+1)]),Pr(p,r(Rl(d,F))),F=F.subarray(Cr);if(F.length){Pr(d,i.x);const _=new Uint8Array(Cr);_.set(F,0),_[F.length]=128,Pr(_,d),Pr(p,r(_))}return p}(u));return z.set(T,A),z}return function(a,c){const l=D.read(D.symmetric,a),u=new ol[l](c);r=u.encrypt.bind(u),n=u.decrypt.bind(u);const f=r(Ex),x=U.double(f);i=[],i[0]=U.double(x),i.x=f,i.$=x}(t,e),{encrypt:async function(a,c,l){return o(r,a,c,l)},decrypt:async function(a,c,l){if(a.length<ds)throw Error("Invalid OCB ciphertext");const u=a.subarray(-ds);a=a.subarray(0,-ds);const f=o(n,a,c,l);if(U.equalsUint8Array(u,f.subarray(-ds)))return f.subarray(0,-ds);throw Error("Authentication tag mismatch")}}}Va.getNonce=function(t,e){const r=t.slice();for(let n=0;n<e.length;n++)r[7+n]^=e[n];return r},Va.blockLength=Cr,Va.ivLength=Wm,Va.tagLength=ds;const bx=68719476704;class _0{constructor(e,r,n,i=16,s){this.tagSize=i,this.gamma0=0,this.counter=1,this.aes=s||new sl(e,void 0,!1,"CTR");let{asm:o,heap:a}=this.aes.acquire_asm();if(o.gcm_init(),this.tagSize<4||this.tagSize>16)throw new Ri("illegal tagSize value");const c=r.length||0,l=new Uint8Array(16);c!==12?(this._gcm_mac_process(r),a[0]=0,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=0,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=0,a[11]=c>>>29,a[12]=c>>>21&255,a[13]=c>>>13&255,a[14]=c>>>5&255,a[15]=c<<3&255,o.mac(et.MAC.GCM,et.HEAP_DATA,16),o.get_iv(et.HEAP_DATA),o.set_iv(0,0,0,0),l.set(a.subarray(0,16))):(l.set(r),l[15]=1);const u=new DataView(l.buffer);if(this.gamma0=u.getUint32(12),o.set_nonce(u.getUint32(0),u.getUint32(4),u.getUint32(8),0),o.set_mask(0,0,0,4294967295),n!==void 0){if(n.length>bx)throw new Ri("illegal adata length");n.length?(this.adata=n,this._gcm_mac_process(n)):this.adata=void 0}else this.adata=void 0;if(this.counter<1||this.counter>4294967295)throw new RangeError("counter must be a positive 32-bit integer");o.set_counter(0,0,0,this.gamma0+this.counter|0)}static encrypt(e,r,n,i,s){return new _0(r,n,i,s).encrypt(e)}static decrypt(e,r,n,i,s){return new _0(r,n,i,s).decrypt(e)}encrypt(e){return this.AES_GCM_encrypt(e)}decrypt(e){return this.AES_GCM_decrypt(e)}AES_GCM_Encrypt_process(e){let r=0,n=e.length||0,{asm:i,heap:s}=this.aes.acquire_asm(),o=this.counter,a=this.aes.pos,c=this.aes.len,l=0,u=c+n&-16,f=0;if((o-1<<4)+c+n>bx)throw new RangeError("counter overflow");const x=new Uint8Array(u);for(;n>0;)f=A0(s,a+c,e,r,n),c+=f,r+=f,n-=f,f=i.cipher(et.ENC.CTR,et.HEAP_DATA+a,c),f=i.mac(et.MAC.GCM,et.HEAP_DATA+a,f),f&&x.set(s.subarray(a,a+f),l),o+=f>>>4,l+=f,f<c?(a+=f,c-=f):(a=0,c=0);return this.counter=o,this.aes.pos=a,this.aes.len=c,x}AES_GCM_Encrypt_finish(){let{asm:e,heap:r}=this.aes.acquire_asm(),n=this.counter,i=this.tagSize,s=this.adata,o=this.aes.pos,a=this.aes.len;const c=new Uint8Array(a+i);e.cipher(et.ENC.CTR,et.HEAP_DATA+o,a+15&-16),a&&c.set(r.subarray(o,o+a));let l=a;for(;15&l;l++)r[o+l]=0;e.mac(et.MAC.GCM,et.HEAP_DATA+o,l);const u=s!==void 0?s.length:0,f=(n-1<<4)+a;return r[0]=0,r[1]=0,r[2]=0,r[3]=u>>>29,r[4]=u>>>21,r[5]=u>>>13&255,r[6]=u>>>5&255,r[7]=u<<3&255,r[8]=r[9]=r[10]=0,r[11]=f>>>29,r[12]=f>>>21&255,r[13]=f>>>13&255,r[14]=f>>>5&255,r[15]=f<<3&255,e.mac(et.MAC.GCM,et.HEAP_DATA,16),e.get_iv(et.HEAP_DATA),e.set_counter(0,0,0,this.gamma0),e.cipher(et.ENC.CTR,et.HEAP_DATA,16),c.set(r.subarray(0,i),a),this.counter=1,this.aes.pos=0,this.aes.len=0,c}AES_GCM_Decrypt_process(e){let r=0,n=e.length||0,{asm:i,heap:s}=this.aes.acquire_asm(),o=this.counter,a=this.tagSize,c=this.aes.pos,l=this.aes.len,u=0,f=l+n>a?l+n-a&-16:0,x=l+n-f,h=0;if((o-1<<4)+l+n>bx)throw new RangeError("counter overflow");const C=new Uint8Array(f);for(;n>x;)h=A0(s,c+l,e,r,n-x),l+=h,r+=h,n-=h,h=i.mac(et.MAC.GCM,et.HEAP_DATA+c,h),h=i.cipher(et.DEC.CTR,et.HEAP_DATA+c,h),h&&C.set(s.subarray(c,c+h),u),o+=h>>>4,u+=h,c=0,l=0;return n>0&&(l+=A0(s,0,e,r,n)),this.counter=o,this.aes.pos=c,this.aes.len=l,C}AES_GCM_Decrypt_finish(){let{asm:e,heap:r}=this.aes.acquire_asm(),n=this.tagSize,i=this.adata,s=this.counter,o=this.aes.pos,a=this.aes.len,c=a-n;if(a<n)throw new nh("authentication tag not found");const l=new Uint8Array(c),u=new Uint8Array(r.subarray(o+c,o+a));let f=c;for(;15&f;f++)r[o+f]=0;e.mac(et.MAC.GCM,et.HEAP_DATA+o,f),e.cipher(et.DEC.CTR,et.HEAP_DATA+o,f),c&&l.set(r.subarray(o,o+c));const x=i!==void 0?i.length:0,h=(s-1<<4)+a-n;r[0]=0,r[1]=0,r[2]=0,r[3]=x>>>29,r[4]=x>>>21,r[5]=x>>>13&255,r[6]=x>>>5&255,r[7]=x<<3&255,r[8]=r[9]=r[10]=0,r[11]=h>>>29,r[12]=h>>>21&255,r[13]=h>>>13&255,r[14]=h>>>5&255,r[15]=h<<3&255,e.mac(et.MAC.GCM,et.HEAP_DATA,16),e.get_iv(et.HEAP_DATA),e.set_counter(0,0,0,this.gamma0),e.cipher(et.ENC.CTR,et.HEAP_DATA,16);let C=0;for(let w=0;w<n;++w)C|=u[w]^r[w];if(C)throw new ih("data integrity check failed");return this.counter=1,this.aes.pos=0,this.aes.len=0,l}AES_GCM_decrypt(e){const r=this.AES_GCM_Decrypt_process(e),n=this.AES_GCM_Decrypt_finish(),i=new Uint8Array(r.length+n.length);return r.length&&i.set(r),n.length&&i.set(n,r.length),i}AES_GCM_encrypt(e){const r=this.AES_GCM_Encrypt_process(e),n=this.AES_GCM_Encrypt_finish(),i=new Uint8Array(r.length+n.length);return r.length&&i.set(r),n.length&&i.set(n,r.length),i}_gcm_mac_process(e){let{asm:r,heap:n}=this.aes.acquire_asm(),i=0,s=e.length||0,o=0;for(;s>0;){for(o=A0(n,0,e,i,s),i+=o,s-=o;15&o;)n[o++]=0;r.mac(et.MAC.GCM,et.HEAP_DATA,o)}}}const Cx=U.getWebCrypto(),a2=U.getNodeCrypto(),c2=U.getNodeBuffer(),vo=16,Ax="AES-GCM";async function Do(t,e){if(t!==D.symmetric.aes128&&t!==D.symmetric.aes192&&t!==D.symmetric.aes256)throw Error("GCM mode supports only AES cipher");if(U.getNodeCrypto())return{encrypt:async function(r,n,i=new Uint8Array){const s=new a2.createCipheriv("aes-"+8*e.length+"-gcm",e,n);s.setAAD(i);const o=c2.concat([s.update(r),s.final(),s.getAuthTag()]);return new Uint8Array(o)},decrypt:async function(r,n,i=new Uint8Array){const s=new a2.createDecipheriv("aes-"+8*e.length+"-gcm",e,n);s.setAAD(i),s.setAuthTag(r.slice(r.length-vo,r.length));const o=c2.concat([s.update(r.slice(0,r.length-vo)),s.final()]);return new Uint8Array(o)}};if(U.getWebCrypto()&&e.length!==24){const r=await Cx.importKey("raw",e,{name:Ax},!1,["encrypt","decrypt"]);return{encrypt:async function(n,i,s=new Uint8Array){if(!n.length)return _0.encrypt(n,e,i,s);const o=await Cx.encrypt({name:Ax,iv:i,additionalData:s,tagLength:8*vo},r,n);return new Uint8Array(o)},decrypt:async function(n,i,s=new Uint8Array){if(n.length===vo)return _0.decrypt(n,e,i,s);const o=await Cx.decrypt({name:Ax,iv:i,additionalData:s,tagLength:8*vo},r,n);return new Uint8Array(o)}}}return{encrypt:async function(r,n,i){return _0.encrypt(r,e,n,i)},decrypt:async function(r,n,i){return _0.decrypt(r,e,n,i)}}}Do.getNonce=function(t,e){const r=t.slice();for(let n=0;n<e.length;n++)r[4+n]^=e[n];return r},Do.blockLength=16,Do.ivLength=12,Do.tagLength=vo;var Gm={cfb:TP,gcm:Do,experimentalGCM:Do,eax:Ha,ocb:Va},Kt=Ci(function(t){(function(e){var r=function(W){var re,K=new Float64Array(16);if(W)for(re=0;re<W.length;re++)K[re]=W[re];return K},n=function(){throw Error("no PRNG")},i=new Uint8Array(32);i[0]=9;var s=r(),o=r([1]),a=r([56129,1]),c=r([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=r([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),u=r([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),f=r([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),x=r([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function h(W,re,K,v){return function(J,xe,fe,he,y){var g,B=0;for(g=0;g<y;g++)B|=J[xe+g]^fe[he+g];return(1&B-1>>>8)-1}(W,re,K,v,32)}function C(W,re){var K;for(K=0;K<16;K++)W[K]=0|re[K]}function w(W){var re,K,v=1;for(re=0;re<16;re++)K=W[re]+v+65535,v=Math.floor(K/65536),W[re]=K-65536*v;W[0]+=v-1+37*(v-1)}function k(W,re,K){for(var v,J=~(K-1),xe=0;xe<16;xe++)v=J&(W[xe]^re[xe]),W[xe]^=v,re[xe]^=v}function O(W,re){var K,v,J,xe=r(),fe=r();for(K=0;K<16;K++)fe[K]=re[K];for(w(fe),w(fe),w(fe),v=0;v<2;v++){for(xe[0]=fe[0]-65517,K=1;K<15;K++)xe[K]=fe[K]-65535-(xe[K-1]>>16&1),xe[K-1]&=65535;xe[15]=fe[15]-32767-(xe[14]>>16&1),J=xe[15]>>16&1,xe[14]&=65535,k(fe,xe,1-J)}for(K=0;K<16;K++)W[2*K]=255&fe[K],W[2*K+1]=fe[K]>>8}function z(W,re){var K=new Uint8Array(32),v=new Uint8Array(32);return O(K,W),O(v,re),h(K,0,v,0)}function P(W){var re=new Uint8Array(32);return O(re,W),1&re[0]}function A(W,re){var K;for(K=0;K<16;K++)W[K]=re[2*K]+(re[2*K+1]<<8);W[15]&=32767}function T(W,re,K){for(var v=0;v<16;v++)W[v]=re[v]+K[v]}function F(W,re,K){for(var v=0;v<16;v++)W[v]=re[v]-K[v]}function R(W,re,K){var v,J,xe=0,fe=0,he=0,y=0,g=0,B=0,I=0,j=0,$=0,q=0,ae=0,oe=0,ce=0,H=0,V=0,Y=0,G=0,X=0,ee=0,N=0,L=0,be=0,Ee=0,Pe=0,Ye=0,Ne=0,ke=0,rt=0,Ve=0,Ze=0,Ot=0,Le=K[0],ze=K[1],nt=K[2],Me=K[3],qe=K[4],xt=K[5],je=K[6],ge=K[7],ye=K[8],_e=K[9],De=K[10],Ue=K[11],Oe=K[12],Te=K[13],lt=K[14],We=K[15];xe+=(v=re[0])*Le,fe+=v*ze,he+=v*nt,y+=v*Me,g+=v*qe,B+=v*xt,I+=v*je,j+=v*ge,$+=v*ye,q+=v*_e,ae+=v*De,oe+=v*Ue,ce+=v*Oe,H+=v*Te,V+=v*lt,Y+=v*We,fe+=(v=re[1])*Le,he+=v*ze,y+=v*nt,g+=v*Me,B+=v*qe,I+=v*xt,j+=v*je,$+=v*ge,q+=v*ye,ae+=v*_e,oe+=v*De,ce+=v*Ue,H+=v*Oe,V+=v*Te,Y+=v*lt,G+=v*We,he+=(v=re[2])*Le,y+=v*ze,g+=v*nt,B+=v*Me,I+=v*qe,j+=v*xt,$+=v*je,q+=v*ge,ae+=v*ye,oe+=v*_e,ce+=v*De,H+=v*Ue,V+=v*Oe,Y+=v*Te,G+=v*lt,X+=v*We,y+=(v=re[3])*Le,g+=v*ze,B+=v*nt,I+=v*Me,j+=v*qe,$+=v*xt,q+=v*je,ae+=v*ge,oe+=v*ye,ce+=v*_e,H+=v*De,V+=v*Ue,Y+=v*Oe,G+=v*Te,X+=v*lt,ee+=v*We,g+=(v=re[4])*Le,B+=v*ze,I+=v*nt,j+=v*Me,$+=v*qe,q+=v*xt,ae+=v*je,oe+=v*ge,ce+=v*ye,H+=v*_e,V+=v*De,Y+=v*Ue,G+=v*Oe,X+=v*Te,ee+=v*lt,N+=v*We,B+=(v=re[5])*Le,I+=v*ze,j+=v*nt,$+=v*Me,q+=v*qe,ae+=v*xt,oe+=v*je,ce+=v*ge,H+=v*ye,V+=v*_e,Y+=v*De,G+=v*Ue,X+=v*Oe,ee+=v*Te,N+=v*lt,L+=v*We,I+=(v=re[6])*Le,j+=v*ze,$+=v*nt,q+=v*Me,ae+=v*qe,oe+=v*xt,ce+=v*je,H+=v*ge,V+=v*ye,Y+=v*_e,G+=v*De,X+=v*Ue,ee+=v*Oe,N+=v*Te,L+=v*lt,be+=v*We,j+=(v=re[7])*Le,$+=v*ze,q+=v*nt,ae+=v*Me,oe+=v*qe,ce+=v*xt,H+=v*je,V+=v*ge,Y+=v*ye,G+=v*_e,X+=v*De,ee+=v*Ue,N+=v*Oe,L+=v*Te,be+=v*lt,Ee+=v*We,$+=(v=re[8])*Le,q+=v*ze,ae+=v*nt,oe+=v*Me,ce+=v*qe,H+=v*xt,V+=v*je,Y+=v*ge,G+=v*ye,X+=v*_e,ee+=v*De,N+=v*Ue,L+=v*Oe,be+=v*Te,Ee+=v*lt,Pe+=v*We,q+=(v=re[9])*Le,ae+=v*ze,oe+=v*nt,ce+=v*Me,H+=v*qe,V+=v*xt,Y+=v*je,G+=v*ge,X+=v*ye,ee+=v*_e,N+=v*De,L+=v*Ue,be+=v*Oe,Ee+=v*Te,Pe+=v*lt,Ye+=v*We,ae+=(v=re[10])*Le,oe+=v*ze,ce+=v*nt,H+=v*Me,V+=v*qe,Y+=v*xt,G+=v*je,X+=v*ge,ee+=v*ye,N+=v*_e,L+=v*De,be+=v*Ue,Ee+=v*Oe,Pe+=v*Te,Ye+=v*lt,Ne+=v*We,oe+=(v=re[11])*Le,ce+=v*ze,H+=v*nt,V+=v*Me,Y+=v*qe,G+=v*xt,X+=v*je,ee+=v*ge,N+=v*ye,L+=v*_e,be+=v*De,Ee+=v*Ue,Pe+=v*Oe,Ye+=v*Te,Ne+=v*lt,ke+=v*We,ce+=(v=re[12])*Le,H+=v*ze,V+=v*nt,Y+=v*Me,G+=v*qe,X+=v*xt,ee+=v*je,N+=v*ge,L+=v*ye,be+=v*_e,Ee+=v*De,Pe+=v*Ue,Ye+=v*Oe,Ne+=v*Te,ke+=v*lt,rt+=v*We,H+=(v=re[13])*Le,V+=v*ze,Y+=v*nt,G+=v*Me,X+=v*qe,ee+=v*xt,N+=v*je,L+=v*ge,be+=v*ye,Ee+=v*_e,Pe+=v*De,Ye+=v*Ue,Ne+=v*Oe,ke+=v*Te,rt+=v*lt,Ve+=v*We,V+=(v=re[14])*Le,Y+=v*ze,G+=v*nt,X+=v*Me,ee+=v*qe,N+=v*xt,L+=v*je,be+=v*ge,Ee+=v*ye,Pe+=v*_e,Ye+=v*De,Ne+=v*Ue,ke+=v*Oe,rt+=v*Te,Ve+=v*lt,Ze+=v*We,Y+=(v=re[15])*Le,fe+=38*(X+=v*nt),he+=38*(ee+=v*Me),y+=38*(N+=v*qe),g+=38*(L+=v*xt),B+=38*(be+=v*je),I+=38*(Ee+=v*ge),j+=38*(Pe+=v*ye),$+=38*(Ye+=v*_e),q+=38*(Ne+=v*De),ae+=38*(ke+=v*Ue),oe+=38*(rt+=v*Oe),ce+=38*(Ve+=v*Te),H+=38*(Ze+=v*lt),V+=38*(Ot+=v*We),xe=(v=(xe+=38*(G+=v*ze))+(J=1)+65535)-65536*(J=Math.floor(v/65536)),fe=(v=fe+J+65535)-65536*(J=Math.floor(v/65536)),he=(v=he+J+65535)-65536*(J=Math.floor(v/65536)),y=(v=y+J+65535)-65536*(J=Math.floor(v/65536)),g=(v=g+J+65535)-65536*(J=Math.floor(v/65536)),B=(v=B+J+65535)-65536*(J=Math.floor(v/65536)),I=(v=I+J+65535)-65536*(J=Math.floor(v/65536)),j=(v=j+J+65535)-65536*(J=Math.floor(v/65536)),$=(v=$+J+65535)-65536*(J=Math.floor(v/65536)),q=(v=q+J+65535)-65536*(J=Math.floor(v/65536)),ae=(v=ae+J+65535)-65536*(J=Math.floor(v/65536)),oe=(v=oe+J+65535)-65536*(J=Math.floor(v/65536)),ce=(v=ce+J+65535)-65536*(J=Math.floor(v/65536)),H=(v=H+J+65535)-65536*(J=Math.floor(v/65536)),V=(v=V+J+65535)-65536*(J=Math.floor(v/65536)),Y=(v=Y+J+65535)-65536*(J=Math.floor(v/65536)),xe=(v=(xe+=J-1+37*(J-1))+(J=1)+65535)-65536*(J=Math.floor(v/65536)),fe=(v=fe+J+65535)-65536*(J=Math.floor(v/65536)),he=(v=he+J+65535)-65536*(J=Math.floor(v/65536)),y=(v=y+J+65535)-65536*(J=Math.floor(v/65536)),g=(v=g+J+65535)-65536*(J=Math.floor(v/65536)),B=(v=B+J+65535)-65536*(J=Math.floor(v/65536)),I=(v=I+J+65535)-65536*(J=Math.floor(v/65536)),j=(v=j+J+65535)-65536*(J=Math.floor(v/65536)),$=(v=$+J+65535)-65536*(J=Math.floor(v/65536)),q=(v=q+J+65535)-65536*(J=Math.floor(v/65536)),ae=(v=ae+J+65535)-65536*(J=Math.floor(v/65536)),oe=(v=oe+J+65535)-65536*(J=Math.floor(v/65536)),ce=(v=ce+J+65535)-65536*(J=Math.floor(v/65536)),H=(v=H+J+65535)-65536*(J=Math.floor(v/65536)),V=(v=V+J+65535)-65536*(J=Math.floor(v/65536)),Y=(v=Y+J+65535)-65536*(J=Math.floor(v/65536)),xe+=J-1+37*(J-1),W[0]=xe,W[1]=fe,W[2]=he,W[3]=y,W[4]=g,W[5]=B,W[6]=I,W[7]=j,W[8]=$,W[9]=q,W[10]=ae,W[11]=oe,W[12]=ce,W[13]=H,W[14]=V,W[15]=Y}function d(W,re){R(W,re,re)}function p(W,re){var K,v=r();for(K=0;K<16;K++)v[K]=re[K];for(K=253;K>=0;K--)d(v,v),K!==2&&K!==4&&R(v,v,re);for(K=0;K<16;K++)W[K]=v[K]}function _(W,re,K){var v,J,xe=new Uint8Array(32),fe=new Float64Array(80),he=r(),y=r(),g=r(),B=r(),I=r(),j=r();for(J=0;J<31;J++)xe[J]=re[J];for(xe[31]=127&re[31]|64,xe[0]&=248,A(fe,K),J=0;J<16;J++)y[J]=fe[J],B[J]=he[J]=g[J]=0;for(he[0]=B[0]=1,J=254;J>=0;--J)k(he,y,v=xe[J>>>3]>>>(7&J)&1),k(g,B,v),T(I,he,g),F(he,he,g),T(g,y,B),F(y,y,B),d(B,I),d(j,he),R(he,g,he),R(g,y,I),T(I,he,g),F(he,he,g),d(y,he),F(g,B,j),R(he,g,a),T(he,he,B),R(g,g,he),R(he,B,j),R(B,y,fe),d(y,I),k(he,y,v),k(g,B,v);for(J=0;J<16;J++)fe[J+16]=he[J],fe[J+32]=g[J],fe[J+48]=y[J],fe[J+64]=B[J];var $=fe.subarray(32),q=fe.subarray(16);return p($,$),R(q,q,$),O(W,q),0}function b(W,re){return _(W,re,i)}function m(W,re){var K=r(),v=r(),J=r(),xe=r(),fe=r(),he=r(),y=r(),g=r(),B=r();F(K,W[1],W[0]),F(B,re[1],re[0]),R(K,K,B),T(v,W[0],W[1]),T(B,re[0],re[1]),R(v,v,B),R(J,W[3],re[3]),R(J,J,l),R(xe,W[2],re[2]),T(xe,xe,xe),F(fe,v,K),F(he,xe,J),T(y,xe,J),T(g,v,K),R(W[0],fe,he),R(W[1],g,y),R(W[2],y,he),R(W[3],fe,g)}function E(W,re,K){var v;for(v=0;v<4;v++)k(W[v],re[v],K)}function S(W,re){var K=r(),v=r(),J=r();p(J,re[2]),R(K,re[0],J),R(v,re[1],J),O(W,v),W[31]^=P(K)<<7}function Q(W,re,K){var v,J;for(C(W[0],s),C(W[1],o),C(W[2],o),C(W[3],s),J=255;J>=0;--J)E(W,re,v=K[J/8|0]>>(7&J)&1),m(re,W),m(W,W),E(W,re,v)}function Z(W,re){var K=[r(),r(),r(),r()];C(K[0],u),C(K[1],f),C(K[2],o),R(K[3],u,f),Q(W,K,re)}function M(W,re,K){var v,J,xe=[r(),r(),r(),r()];for(K||n(re,32),(v=e.hash(re.subarray(0,32)))[0]&=248,v[31]&=127,v[31]|=64,Z(xe,v),S(W,xe),J=0;J<32;J++)re[J+32]=W[J];return 0}var te=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ie(W,re){var K,v,J,xe;for(v=63;v>=32;--v){for(K=0,J=v-32,xe=v-12;J<xe;++J)re[J]+=K-16*re[v]*te[J-(v-32)],K=Math.floor((re[J]+128)/256),re[J]-=256*K;re[J]+=K,re[v]=0}for(K=0,J=0;J<32;J++)re[J]+=K-(re[31]>>4)*te[J],K=re[J]>>8,re[J]&=255;for(J=0;J<32;J++)re[J]-=K*te[J];for(v=0;v<32;v++)re[v+1]+=re[v]>>8,W[v]=255&re[v]}function ue(W){var re,K=new Float64Array(64);for(re=0;re<64;re++)K[re]=W[re];for(re=0;re<64;re++)W[re]=0;ie(W,K)}function ne(W,re){var K=r(),v=r(),J=r(),xe=r(),fe=r(),he=r(),y=r();return C(W[2],o),A(W[1],re),d(J,W[1]),R(xe,J,c),F(J,J,W[2]),T(xe,W[2],xe),d(fe,xe),d(he,fe),R(y,he,fe),R(K,y,J),R(K,K,xe),function(g,B){var I,j=r();for(I=0;I<16;I++)j[I]=B[I];for(I=250;I>=0;I--)d(j,j),I!==1&&R(j,j,B);for(I=0;I<16;I++)g[I]=j[I]}(K,K),R(K,K,J),R(K,K,xe),R(K,K,xe),R(W[0],K,xe),d(v,W[0]),R(v,v,xe),z(v,J)&&R(W[0],W[0],x),d(v,W[0]),R(v,v,xe),z(v,J)?-1:(P(W[0])===re[31]>>7&&F(W[0],s,W[0]),R(W[3],W[0],W[1]),0)}var le=64;function Ae(){for(var W=0;W<arguments.length;W++)if(!(arguments[W]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function me(W){for(var re=0;re<W.length;re++)W[re]=0}e.scalarMult=function(W,re){if(Ae(W,re),W.length!==32)throw Error("bad n size");if(re.length!==32)throw Error("bad p size");var K=new Uint8Array(32);return _(K,W,re),K},e.box={},e.box.keyPair=function(){var W,re,K=new Uint8Array(32),v=new Uint8Array(32);return W=K,n(re=v,32),b(W,re),{publicKey:K,secretKey:v}},e.box.keyPair.fromSecretKey=function(W){if(Ae(W),W.length!==32)throw Error("bad secret key size");var re=new Uint8Array(32);return b(re,W),{publicKey:re,secretKey:new Uint8Array(W)}},e.sign=function(W,re){if(Ae(W,re),re.length!==64)throw Error("bad secret key size");var K=new Uint8Array(le+W.length);return function(v,J,xe,fe){var he,y,g,B,I,j=new Float64Array(64),$=[r(),r(),r(),r()];(he=e.hash(fe.subarray(0,32)))[0]&=248,he[31]&=127,he[31]|=64;var q=xe+64;for(B=0;B<xe;B++)v[64+B]=J[B];for(B=0;B<32;B++)v[32+B]=he[32+B];for(ue(g=e.hash(v.subarray(32,q))),Z($,g),S(v,$),B=32;B<64;B++)v[B]=fe[B];for(ue(y=e.hash(v.subarray(0,q))),B=0;B<64;B++)j[B]=0;for(B=0;B<32;B++)j[B]=g[B];for(B=0;B<32;B++)for(I=0;I<32;I++)j[B+I]+=y[B]*he[I];ie(v.subarray(32),j)}(K,W,W.length,re),K},e.sign.detached=function(W,re){for(var K=e.sign(W,re),v=new Uint8Array(le),J=0;J<v.length;J++)v[J]=K[J];return v},e.sign.detached.verify=function(W,re,K){if(Ae(W,re,K),re.length!==le)throw Error("bad signature size");if(K.length!==32)throw Error("bad public key size");var v,J=new Uint8Array(le+W.length),xe=new Uint8Array(le+W.length);for(v=0;v<le;v++)J[v]=re[v];for(v=0;v<W.length;v++)J[v+le]=W[v];return function(fe,he,y,g){var B,I,j=new Uint8Array(32),$=[r(),r(),r(),r()],q=[r(),r(),r(),r()];if(y<64||ne(q,g))return-1;for(B=0;B<y;B++)fe[B]=he[B];for(B=0;B<32;B++)fe[B+32]=g[B];if(ue(I=e.hash(fe.subarray(0,y))),Q($,q,I),Z(q,he.subarray(32)),m($,q),S(j,$),y-=64,h(he,0,j,0)){for(B=0;B<y;B++)fe[B]=0;return-1}for(B=0;B<y;B++)fe[B]=he[B+64];return y}(xe,J,J.length,K)>=0},e.sign.keyPair=function(){var W=new Uint8Array(32),re=new Uint8Array(64);return M(W,re),{publicKey:W,secretKey:re}},e.sign.keyPair.fromSecretKey=function(W){if(Ae(W),W.length!==64)throw Error("bad secret key size");for(var re=new Uint8Array(32),K=0;K<re.length;K++)re[K]=W[32+K];return{publicKey:re,secretKey:new Uint8Array(W)}},e.sign.keyPair.fromSeed=function(W){if(Ae(W),W.length!==32)throw Error("bad seed size");for(var re=new Uint8Array(32),K=new Uint8Array(64),v=0;v<32;v++)K[v]=W[v];return M(re,K,!0),{publicKey:re,secretKey:K}},e.setPRNG=function(W){n=W},function(){var W=typeof self<"u"?self.crypto||self.msCrypto:null;W&&W.getRandomValues?e.setPRNG(function(re,K){var v,J=new Uint8Array(K);for(v=0;v<K;v+=65536)W.getRandomValues(J.subarray(v,v+Math.min(K-v,65536)));for(v=0;v<K;v++)re[v]=J[v];me(J)}):zS!==void 0&&(W=void 0)&&W.randomBytes&&e.setPRNG(function(re,K){var v,J=W.randomBytes(K);for(v=0;v<K;v++)re[v]=J[v];me(J)})}()})(t.exports?t.exports:self.nacl=self.nacl||{})});const l2=U.getNodeCrypto();function Qr(t){const e=new Uint8Array(t);if(l2){const r=l2.randomBytes(e.length);e.set(r)}else{if(typeof crypto>"u"||!crypto.getRandomValues)throw Error("No secure random number generator available.");crypto.getRandomValues(e)}return e}async function Gi(t,e){const r=await U.getBigInteger();if(e.lt(t))throw Error("Illegal parameter value: max <= min");const n=e.sub(t),i=n.byteLength();return new r(await Qr(i+8)).mod(n).add(t)}var $P=Object.freeze({__proto__:null,getRandomBytes:Qr,getRandomBigInteger:Gi});async function u2(t,e,r){const n=await U.getBigInteger(),i=new n(1),s=i.leftShift(new n(t-1)),o=new n(30),a=[1,6,5,4,3,2,1,4,3,2,1,2,1,4,3,2,1,2,1,4,3,2,1,6,5,4,3,2,1,2],c=await Gi(s,s.leftShift(i));let l=c.mod(o).toNumber();do c.iadd(new n(a[l])),l=(l+a[l])%a.length,c.bitLength()>t&&(c.imod(s.leftShift(i)).iadd(s),l=c.mod(o).toNumber());while(!await Ym(c,e,r));return c}async function Ym(t,e,r){return!(e&&!t.dec().gcd(e).isOne())&&!!await async function(n){const i=await U.getBigInteger();return zP.every(s=>n.mod(new i(s))!==0)}(t)&&!!await async function(n,i){const s=await U.getBigInteger();return i=i||new s(2),i.modExp(n.dec(),n).isOne()}(t)&&!!await async function(n,i,s){const o=await U.getBigInteger(),a=n.bitLength();i||(i=Math.max(1,a/48|0));const c=n.dec();let l=0;for(;!c.getBit(l);)l++;const u=n.rightShift(new o(l));for(;i>0;i--){let f,x=(s?s():await Gi(new o(2),c)).modExp(u,n);if(!x.isOne()&&!x.equal(c)){for(f=1;f<l;f++){if(x=x.mul(x).mod(n),x.isOne())return!1;if(x.equal(c))break}if(f===l)return!1}}return!0}(t,r)}const zP=[7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999,3001,3011,3019,3023,3037,3041,3049,3061,3067,3079,3083,3089,3109,3119,3121,3137,3163,3167,3169,3181,3187,3191,3203,3209,3217,3221,3229,3251,3253,3257,3259,3271,3299,3301,3307,3313,3319,3323,3329,3331,3343,3347,3359,3361,3371,3373,3389,3391,3407,3413,3433,3449,3457,3461,3463,3467,3469,3491,3499,3511,3517,3527,3529,3533,3539,3541,3547,3557,3559,3571,3581,3583,3593,3607,3613,3617,3623,3631,3637,3643,3659,3671,3673,3677,3691,3697,3701,3709,3719,3727,3733,3739,3761,3767,3769,3779,3793,3797,3803,3821,3823,3833,3847,3851,3853,3863,3877,3881,3889,3907,3911,3917,3919,3923,3929,3931,3943,3947,3967,3989,4001,4003,4007,4013,4019,4021,4027,4049,4051,4057,4073,4079,4091,4093,4099,4111,4127,4129,4133,4139,4153,4157,4159,4177,4201,4211,4217,4219,4229,4231,4241,4243,4253,4259,4261,4271,4273,4283,4289,4297,4327,4337,4339,4349,4357,4363,4373,4391,4397,4409,4421,4423,4441,4447,4451,4457,4463,4481,4483,4493,4507,4513,4517,4519,4523,4547,4549,4561,4567,4583,4591,4597,4603,4621,4637,4639,4643,4649,4651,4657,4663,4673,4679,4691,4703,4721,4723,4729,4733,4751,4759,4783,4787,4789,4793,4799,4801,4813,4817,4831,4861,4871,4877,4889,4903,4909,4919,4931,4933,4937,4943,4951,4957,4967,4969,4973,4987,4993,4999],Vn=[];function o9(t,e){const r=t.length;if(r>e-11)throw Error("Message too long");const n=function(s){const o=new Uint8Array(s);let a=0;for(;a<s;){const c=Qr(s-a);for(let l=0;l<c.length;l++)c[l]!==0&&(o[a++]=c[l])}return o}(e-r-3),i=new Uint8Array(e);return i[1]=2,i.set(n,2),i.set(t,e-r),i}function a9(t,e){let r=2,n=1;for(let a=r;a<t.length;a++)n&=t[a]!==0,r+=n;const i=r-2,s=t.subarray(r+1),o=t[0]===0&t[1]===2&i>=8&!n;if(e)return U.selectUint8Array(o,s,e);if(o)return s;throw Error("Decryption error")}async function ah(t,e,r){let n;if(e.length!==xn.getHashByteLength(t))throw Error("Invalid hash length");const i=new Uint8Array(Vn[t].length);for(n=0;n<Vn[t].length;n++)i[n]=Vn[t][n];const s=i.length+e.length;if(r<s+11)throw Error("Intended encoded message length too short");const o=new Uint8Array(r-s-3).fill(255),a=new Uint8Array(r);return a[1]=1,a.set(o,2),a.set(i,r-s),a.set(e,r-e.length),a}Vn[1]=[48,32,48,12,6,8,42,134,72,134,247,13,2,5,5,0,4,16],Vn[2]=[48,33,48,9,6,5,43,14,3,2,26,5,0,4,20],Vn[3]=[48,33,48,9,6,5,43,36,3,2,1,5,0,4,20],Vn[8]=[48,49,48,13,6,9,96,134,72,1,101,3,4,2,1,5,0,4,32],Vn[9]=[48,65,48,13,6,9,96,134,72,1,101,3,4,2,2,5,0,4,48],Vn[10]=[48,81,48,13,6,9,96,134,72,1,101,3,4,2,3,5,0,4,64],Vn[11]=[48,45,48,13,6,9,96,134,72,1,101,3,4,2,4,5,0,4,28];var jP=Object.freeze({__proto__:null,emeEncode:o9,emeDecode:a9,emsaEncode:ah});const uo=U.getWebCrypto(),lr=U.getNodeCrypto(),Jm=void 0,fo=lr?Jm.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}):void 0,Ol=lr?Jm.define("RSAPubliceKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}):void 0;var HP=Object.freeze({__proto__:null,sign:async function(t,e,r,n,i,s,o,a,c){if(e&&!U.isStream(e)){if(U.getWebCrypto())try{return await async function(l,u,f,x,h,C,w,k){const O=await async function(A,T,F,R,d,p){const _=await U.getBigInteger(),b=new _(R),m=new _(d),E=new _(F);let S=E.mod(m.dec()),Q=E.mod(b.dec());return Q=Q.toUint8Array(),S=S.toUint8Array(),{kty:"RSA",n:qr(A,!0),e:qr(T,!0),d:qr(F,!0),p:qr(d,!0),q:qr(R,!0),dp:qr(S,!0),dq:qr(Q,!0),qi:qr(p,!0),ext:!0}}(f,x,h,C,w,k),z={name:"RSASSA-PKCS1-v1_5",hash:{name:l}},P=await uo.importKey("jwk",O,z,!1,["sign"]);return new Uint8Array(await uo.sign("RSASSA-PKCS1-v1_5",P,u))}(D.read(D.webHash,t),e,r,n,i,s,o,a)}catch(l){U.printDebugError(l)}else if(U.getNodeCrypto())return async function(l,u,f,x,h,C,w,k){const{default:O}=await Promise.resolve().then(function(){return Qa}),z=new O(C),P=new O(w),A=new O(h),T=A.mod(P.subn(1)),F=A.mod(z.subn(1)),R=lr.createSign(D.read(D.hash,l));R.write(u),R.end();const d={version:0,modulus:new O(f),publicExponent:new O(x),privateExponent:new O(h),prime1:new O(w),prime2:new O(C),exponent1:T,exponent2:F,coefficient:new O(k)};if(lr.createPrivateKey!==void 0){const _=fo.encode(d,"der");return new Uint8Array(R.sign({key:_,format:"der",type:"pkcs1"}))}const p=fo.encode(d,"pem",{label:"RSA PRIVATE KEY"});return new Uint8Array(R.sign(p))}(t,e,r,n,i,s,o,a)}return async function(l,u,f,x){const h=await U.getBigInteger();u=new h(u);const C=new h(await ah(l,x,u.byteLength()));if(f=new h(f),C.gte(u))throw Error("Message size cannot exceed modulus size");return C.modExp(f,u).toUint8Array("be",u.byteLength())}(t,r,i,c)},verify:async function(t,e,r,n,i,s){if(e&&!U.isStream(e)){if(U.getWebCrypto())try{return await async function(o,a,c,l,u){const f=function(h,C){return{kty:"RSA",n:qr(h,!0),e:qr(C,!0),ext:!0}}(l,u),x=await uo.importKey("jwk",f,{name:"RSASSA-PKCS1-v1_5",hash:{name:o}},!1,["verify"]);return uo.verify("RSASSA-PKCS1-v1_5",x,c,a)}(D.read(D.webHash,t),e,r,n,i)}catch(o){U.printDebugError(o)}else if(U.getNodeCrypto())return async function(o,a,c,l,u){const{default:f}=await Promise.resolve().then(function(){return Qa}),x=lr.createVerify(D.read(D.hash,o));x.write(a),x.end();const h={modulus:new f(l),publicExponent:new f(u)};let C;lr.createPrivateKey!==void 0?C={key:Ol.encode(h,"der"),format:"der",type:"pkcs1"}:C=Ol.encode(h,"pem",{label:"RSA PUBLIC KEY"});try{return await x.verify(C,c)}catch{return!1}}(t,e,r,n,i)}return async function(o,a,c,l,u){const f=await U.getBigInteger();if(c=new f(c),a=new f(a),l=new f(l),a.gte(c))throw Error("Signature size cannot exceed modulus size");const x=a.modExp(l,c).toUint8Array("be",c.byteLength()),h=await ah(o,u,c.byteLength());return U.equalsUint8Array(x,h)}(t,r,n,i,s)},encrypt:async function(t,e,r){return U.getNodeCrypto()?async function(n,i,s){const{default:o}=await Promise.resolve().then(function(){return Qa}),a={modulus:new o(i),publicExponent:new o(s)};let c;return lr.createPrivateKey!==void 0?c={key:Ol.encode(a,"der"),format:"der",type:"pkcs1",padding:lr.constants.RSA_PKCS1_PADDING}:c={key:Ol.encode(a,"pem",{label:"RSA PUBLIC KEY"}),padding:lr.constants.RSA_PKCS1_PADDING},new Uint8Array(lr.publicEncrypt(c,n))}(t,e,r):async function(n,i,s){const o=await U.getBigInteger();if(i=new o(i),n=new o(o9(n,i.byteLength())),s=new o(s),n.gte(i))throw Error("Message size cannot exceed modulus size");return n.modExp(s,i).toUint8Array("be",i.byteLength())}(t,e,r)},decrypt:async function(t,e,r,n,i,s,o,a){return U.getNodeCrypto()?async function(c,l,u,f,x,h,C,w){const{default:k}=await Promise.resolve().then(function(){return Qa}),O=new k(x),z=new k(h),P=new k(f),A=P.mod(z.subn(1)),T=P.mod(O.subn(1)),F={version:0,modulus:new k(l),publicExponent:new k(u),privateExponent:new k(f),prime1:new k(h),prime2:new k(x),exponent1:A,exponent2:T,coefficient:new k(C)};let R;lr.createPrivateKey!==void 0?R={key:fo.encode(F,"der"),format:"der",type:"pkcs1",padding:lr.constants.RSA_PKCS1_PADDING}:R={key:fo.encode(F,"pem",{label:"RSA PRIVATE KEY"}),padding:lr.constants.RSA_PKCS1_PADDING};try{return new Uint8Array(lr.privateDecrypt(R,c))}catch{if(w)return w;throw Error("Decryption error")}}(t,e,r,n,i,s,o,a):async function(c,l,u,f,x,h,C,w){const k=await U.getBigInteger();if(c=new k(c),l=new k(l),u=new k(u),f=new k(f),x=new k(x),h=new k(h),C=new k(C),c.gte(l))throw Error("Data too large.");const O=f.mod(h.dec()),z=f.mod(x.dec()),P=(await Gi(new k(2),l)).mod(l),A=P.modInv(l).modExp(u,l);c=c.mul(A).mod(l);const T=c.modExp(z,x),F=c.modExp(O,h);let d=C.mul(F.sub(T)).mod(h).mul(x).add(T);return d=d.mul(P).mod(l),a9(d.toUint8Array("be",l.byteLength()),w)}(t,e,r,n,i,s,o,a)},generate:async function(t,e){if(e=new(await U.getBigInteger())(e),U.getWebCrypto()){const o={name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:e.toUint8Array(),hash:{name:"SHA-1"}},a=await uo.generateKey(o,!0,["sign","verify"]),c=await uo.exportKey("jwk",a.privateKey);return{n:Ti(c.n),e:e.toUint8Array(),d:Ti(c.d),p:Ti(c.q),q:Ti(c.p),u:Ti(c.qi)}}if(U.getNodeCrypto()&&lr.generateKeyPair&&fo){const o={modulusLength:t,publicExponent:e.toNumber(),publicKeyEncoding:{type:"pkcs1",format:"der"},privateKeyEncoding:{type:"pkcs1",format:"der"}},a=await new Promise((c,l)=>{lr.generateKeyPair("rsa",o,(u,f,x)=>{u?l(u):c(fo.decode(x,"der"))})});return{n:a.modulus.toArrayLike(Uint8Array),e:a.publicExponent.toArrayLike(Uint8Array),d:a.privateExponent.toArrayLike(Uint8Array),p:a.prime2.toArrayLike(Uint8Array),q:a.prime1.toArrayLike(Uint8Array),u:a.coefficient.toArrayLike(Uint8Array)}}let r,n,i;do n=await u2(t-(t>>1),e,40),r=await u2(t>>1,e,40),i=r.mul(n);while(i.bitLength()!==t);const s=r.dec().imul(n.dec());return n.lt(r)&&([r,n]=[n,r]),{n:i.toUint8Array(),e:e.toUint8Array(),d:e.modInv(s).toUint8Array(),p:r.toUint8Array(),q:n.toUint8Array(),u:r.modInv(n).toUint8Array()}},validateParams:async function(t,e,r,n,i,s){const o=await U.getBigInteger();if(t=new o(t),n=new o(n),i=new o(i),!n.mul(i).equal(t))return!1;const a=new o(2);if(s=new o(s),!n.mul(s).mod(i).isOne())return!1;e=new o(e),r=new o(r);const c=new o(Math.floor(t.bitLength()/3)),l=await Gi(a,a.leftShift(c)),u=l.mul(r).mul(e);return!(!u.mod(n.dec()).equal(l)||!u.mod(i.dec()).equal(l))}}),VP=Object.freeze({__proto__:null,encrypt:async function(t,e,r,n){const i=await U.getBigInteger();e=new i(e),r=new i(r),n=new i(n);const s=new i(o9(t,e.byteLength())),o=await Gi(new i(1),e.dec());return{c1:r.modExp(o,e).toUint8Array(),c2:n.modExp(o,e).imul(s).imod(e).toUint8Array()}},decrypt:async function(t,e,r,n,i){const s=await U.getBigInteger();return t=new s(t),e=new s(e),r=new s(r),n=new s(n),a9(t.modExp(n,r).modInv(r).imul(e).imod(r).toUint8Array("be",r.byteLength()),i)},validateParams:async function(t,e,r,n){const i=await U.getBigInteger();t=new i(t),e=new i(e),r=new i(r);const s=new i(1);if(e.lte(s)||e.gte(t))return!1;const o=new i(t.bitLength()),a=new i(1023);if(o.lt(a)||!e.modExp(t.dec(),t).isOne())return!1;let c=e;const l=new i(1),u=new i(2).leftShift(new i(17));for(;l.lt(u);){if(c=c.mul(e).imod(t),c.isOne())return!1;l.iinc()}n=new i(n);const f=new i(2),x=await Gi(f.leftShift(o.dec()),f.leftShift(o)),h=t.dec().imul(x).iadd(n);return!!r.equal(e.modExp(h,t))}});class Xn{constructor(e){if(e instanceof Xn)this.oid=e.oid;else if(U.isArray(e)||U.isUint8Array(e)){if((e=new Uint8Array(e))[0]===6){if(e[1]!==e.length-2)throw Error("Length mismatch in DER encoded oid");e=e.subarray(2)}this.oid=e}else this.oid=""}read(e){if(e.length>=1){const r=e[0];if(e.length>=1+r)return this.oid=e.subarray(1,1+r),1+this.oid.length}throw Error("Invalid oid")}write(){return U.concatUint8Array([new Uint8Array([this.oid.length]),this.oid])}toHex(){return U.uint8ArrayToHex(this.oid)}getName(){const e=this.toHex();if(D.curve[e])return D.write(D.curve,e);throw Error("Unknown curve object identifier.")}}function xd(t,e){return t.keyPair({priv:e})}function hd(t,e){const r=t.keyPair({pub:e});if(r.validate().result!==!0)throw Error("Invalid elliptic public key");return r}async function ba(t){if(!Be.useIndutnyElliptic)throw Error("This curve is only supported in the full build of OpenPGP.js");const{default:e}=await Promise.resolve().then(function(){return hI});return new e.ec(t)}function Xm(t){let e,r=0;const n=t[0];return n<192?([r]=t,e=1):n<255?(r=(t[0]-192<<8)+t[1]+192,e=2):n===255&&(r=U.readNumber(t.subarray(1,5)),e=5),{len:r,offset:e}}function cl(t){return t<192?new Uint8Array([t]):t>191&&t<8384?new Uint8Array([192+(t-192>>8),t-192&255]):U.concatUint8Array([new Uint8Array([255]),U.writeNumber(t,4)])}function qP(t){if(t<0||t>30)throw Error("Partial Length power must be between 1 and 30");return new Uint8Array([224+t])}function Qm(t){return new Uint8Array([192|t])}function f2(t,e){return U.concatUint8Array([Qm(t),cl(e)])}function du(t){return[D.packet.literalData,D.packet.compressedData,D.packet.symmetricallyEncryptedData,D.packet.symEncryptedIntegrityProtectedData,D.packet.aeadEncryptedData].includes(t)}async function WP(t,e){const r=bi(t);let n,i;try{const s=await r.peekBytes(2);if(!s||s.length<2||!(128&s[0]))throw Error("Error during parsing. This message / key probably does not conform to a valid OpenPGP format.");const o=await r.readByte();let a,c,l=-1,u=-1;u=0,64&o&&(u=1),u?l=63&o:(l=(63&o)>>2,c=3&o);const f=du(l);let x,h=null;if(f){if(U.isStream(t)==="array"){const w=new ni;n=zr(w),h=w}else{const w=new sa;n=zr(w.writable),h=w.readable}i=e({tag:l,packet:h})}else h=[];do{if(u){const w=await r.readByte();if(x=!1,w<192)a=w;else if(w>=192&&w<224)a=(w-192<<8)+await r.readByte()+192;else if(w>223&&w<255){if(a=1<<(31&w),x=!0,!f)throw new TypeError("This packet type does not support partial lengths.")}else a=await r.readByte()<<24|await r.readByte()<<16|await r.readByte()<<8|await r.readByte()}else switch(c){case 0:a=await r.readByte();break;case 1:a=await r.readByte()<<8|await r.readByte();break;case 2:a=await r.readByte()<<24|await r.readByte()<<16|await r.readByte()<<8|await r.readByte();break;default:a=1/0}if(a>0){let w=0;for(;;){n&&await n.ready;const{done:k,value:O}=await r.read();if(k){if(a===1/0)break;throw Error("Unexpected end of packet")}const z=a===1/0?O:O.subarray(0,a-w);if(n?await n.write(z):h.push(z),w+=O.length,w>=a){r.unshift(O.subarray(a-w+O.length));break}}}}while(x);const C=await r.peekBytes(f?1/0:2);return n?(await n.ready,await n.close()):(h=U.concatUint8Array(h),await e({tag:l,packet:h})),!C||!C.length}catch(s){if(n)return await n.abort(s),!0;throw s}finally{n&&await i,r.releaseLock()}}class kt extends Error{constructor(...e){super(...e),Error.captureStackTrace&&Error.captureStackTrace(this,kt),this.name="UnsupportedError"}}class ch{constructor(e,r){this.tag=e,this.rawContent=r}write(){return this.rawContent}}const vx=U.getWebCrypto(),Qu=U.getNodeCrypto(),xi={p256:"P-256",p384:"P-384",p521:"P-521"},wi=Qu?Qu.getCurves():[],xs=Qu?{secp256k1:wi.includes("secp256k1")?"secp256k1":void 0,p256:wi.includes("prime256v1")?"prime256v1":void 0,p384:wi.includes("secp384r1")?"secp384r1":void 0,p521:wi.includes("secp521r1")?"secp521r1":void 0,ed25519:wi.includes("ED25519")?"ED25519":void 0,curve25519:wi.includes("X25519")?"X25519":void 0,brainpoolP256r1:wi.includes("brainpoolP256r1")?"brainpoolP256r1":void 0,brainpoolP384r1:wi.includes("brainpoolP384r1")?"brainpoolP384r1":void 0,brainpoolP512r1:wi.includes("brainpoolP512r1")?"brainpoolP512r1":void 0}:{},xu={p256:{oid:[6,8,42,134,72,206,61,3,1,7],keyType:D.publicKey.ecdsa,hash:D.hash.sha256,cipher:D.symmetric.aes128,node:xs.p256,web:xi.p256,payloadSize:32,sharedSize:256},p384:{oid:[6,5,43,129,4,0,34],keyType:D.publicKey.ecdsa,hash:D.hash.sha384,cipher:D.symmetric.aes192,node:xs.p384,web:xi.p384,payloadSize:48,sharedSize:384},p521:{oid:[6,5,43,129,4,0,35],keyType:D.publicKey.ecdsa,hash:D.hash.sha512,cipher:D.symmetric.aes256,node:xs.p521,web:xi.p521,payloadSize:66,sharedSize:528},secp256k1:{oid:[6,5,43,129,4,0,10],keyType:D.publicKey.ecdsa,hash:D.hash.sha256,cipher:D.symmetric.aes128,node:xs.secp256k1,payloadSize:32},ed25519:{oid:[6,9,43,6,1,4,1,218,71,15,1],keyType:D.publicKey.eddsaLegacy,hash:D.hash.sha512,node:!1,payloadSize:32},curve25519:{oid:[6,10,43,6,1,4,1,151,85,1,5,1],keyType:D.publicKey.ecdh,hash:D.hash.sha256,cipher:D.symmetric.aes128,node:!1,payloadSize:32},brainpoolP256r1:{oid:[6,9,43,36,3,3,2,8,1,1,7],keyType:D.publicKey.ecdsa,hash:D.hash.sha256,cipher:D.symmetric.aes128,node:xs.brainpoolP256r1,payloadSize:32},brainpoolP384r1:{oid:[6,9,43,36,3,3,2,8,1,1,11],keyType:D.publicKey.ecdsa,hash:D.hash.sha384,cipher:D.symmetric.aes192,node:xs.brainpoolP384r1,payloadSize:48},brainpoolP512r1:{oid:[6,9,43,36,3,3,2,8,1,1,13],keyType:D.publicKey.ecdsa,hash:D.hash.sha512,cipher:D.symmetric.aes256,node:xs.brainpoolP512r1,payloadSize:64}};class Yi{constructor(e,r){try{(U.isArray(e)||U.isUint8Array(e))&&(e=new Xn(e)),e instanceof Xn&&(e=e.getName()),this.name=D.write(D.curve,e)}catch{throw new kt("Unknown curve")}r=r||xu[this.name],this.keyType=r.keyType,this.oid=r.oid,this.hash=r.hash,this.cipher=r.cipher,this.node=r.node&&xu[this.name],this.web=r.web&&xu[this.name],this.payloadSize=r.payloadSize,this.web&&U.getWebCrypto()?this.type="web":this.node&&U.getNodeCrypto()?this.type="node":this.name==="curve25519"?this.type="curve25519":this.name==="ed25519"&&(this.type="ed25519")}async genKeyPair(){let e;switch(this.type){case"web":try{return await async function(n){const i=await vx.generateKey({name:"ECDSA",namedCurve:xi[n]},!0,["sign","verify"]),s=await vx.exportKey("jwk",i.privateKey),o=await vx.exportKey("jwk",i.publicKey);return{publicKey:eg(o),privateKey:Ti(s.d)}}(this.name)}catch(n){U.printDebugError("Browser did not support generating ec key "+n.message);break}case"node":return async function(n){const i=Qu.createECDH(xs[n]);return await i.generateKeys(),{publicKey:new Uint8Array(i.getPublicKey()),privateKey:new Uint8Array(i.getPrivateKey())}}(this.name);case"curve25519":{const n=Qr(32);n[0]=127&n[0]|64,n[31]&=248;const i=n.slice().reverse();return e=Kt.box.keyPair.fromSecretKey(i),{publicKey:U.concatUint8Array([new Uint8Array([64]),e.publicKey]),privateKey:n}}case"ed25519":{const n=Qr(32),i=Kt.sign.keyPair.fromSeed(n);return{publicKey:U.concatUint8Array([new Uint8Array([64]),i.publicKey]),privateKey:n}}}return e=await(await ba(this.name)).genKeyPair({entropy:U.uint8ArrayToString(Qr(32))}),{publicKey:new Uint8Array(e.getPublic("array",!1)),privateKey:e.getPrivate().toArrayLike(Uint8Array)}}}async function Zm(t,e,r,n){const i={p256:!0,p384:!0,p521:!0,secp256k1:!0,curve25519:t===D.publicKey.ecdh,brainpoolP256r1:!0,brainpoolP384r1:!0,brainpoolP512r1:!0},s=e.getName();if(!i[s])return!1;if(s==="curve25519"){n=n.slice().reverse();const{publicKey:a}=Kt.box.keyPair.fromSecretKey(n);r=new Uint8Array(r);const c=new Uint8Array([64,...a]);return!!U.equalsUint8Array(c,r)}const o=await ba(s);try{r=hd(o,r).getPublic()}catch{return!1}return!!xd(o,n).getPublic().eq(r)}function eg(t){const e=Ti(t.x),r=Ti(t.y),n=new Uint8Array(e.length+r.length+1);return n[0]=4,n.set(e,1),n.set(r,e.length+1),n}function pd(t,e,r){const n=t,i=r.slice(1,n+1),s=r.slice(n+1,2*n+1);return{kty:"EC",crv:e,x:qr(i,!0),y:qr(s,!0),ext:!0}}function tg(t,e,r,n){const i=pd(t,e,r);return i.d=qr(n,!0),i}const Zu=U.getWebCrypto(),Ca=U.getNodeCrypto();async function d2(t,e,r,n,i,s){const o=new Yi(t);if(r&&!U.isStream(r)){const a={publicKey:n,privateKey:i};switch(o.type){case"web":try{return await async function(c,l,u,f){const x=c.payloadSize,h=tg(c.payloadSize,xi[c.name],f.publicKey,f.privateKey),C=await Zu.importKey("jwk",h,{name:"ECDSA",namedCurve:xi[c.name],hash:{name:D.read(D.webHash,c.hash)}},!1,["sign"]),w=new Uint8Array(await Zu.sign({name:"ECDSA",namedCurve:xi[c.name],hash:{name:D.read(D.webHash,l)}},C,u));return{r:w.slice(0,x),s:w.slice(x,x<<1)}}(o,e,r,a)}catch(c){if(o.name!=="p521"&&(c.name==="DataError"||c.name==="OperationError"))throw c;U.printDebugError("Browser did not support signing: "+c.message)}break;case"node":{const c=await async function(l,u,f,x){const h=Ca.createSign(D.read(D.hash,u));h.write(f),h.end();const C=GP.encode({version:1,parameters:l.oid,privateKey:Array.from(x.privateKey),publicKey:{unused:0,data:Array.from(x.publicKey)}},"pem",{label:"EC PRIVATE KEY"});return rg.decode(h.sign(C),"der")}(o,e,r,a);return{r:c.r.toArrayLike(Uint8Array),s:c.s.toArrayLike(Uint8Array)}}}}return async function(a,c,l){const u=await ba(a.name),f=xd(u,l),x=f.sign(c);return{r:x.r.toArrayLike(Uint8Array),s:x.s.toArrayLike(Uint8Array)}}(o,s,i)}async function x2(t,e,r,n,i,s){const o=new Yi(t);if(n&&!U.isStream(n))switch(o.type){case"web":try{return await async function(a,c,{r:l,s:u},f,x){const h=pd(a.payloadSize,xi[a.name],x),C=await Zu.importKey("jwk",h,{name:"ECDSA",namedCurve:xi[a.name],hash:{name:D.read(D.webHash,a.hash)}},!1,["verify"]),w=U.concatUint8Array([l,u]).buffer;return Zu.verify({name:"ECDSA",namedCurve:xi[a.name],hash:{name:D.read(D.webHash,c)}},C,w,f)}(o,e,r,n,i)}catch(a){if(o.name!=="p521"&&(a.name==="DataError"||a.name==="OperationError"))throw a;U.printDebugError("Browser did not support verifying: "+a.message)}break;case"node":return async function(a,c,{r:l,s:u},f,x){const{default:h}=await Promise.resolve().then(function(){return Qa}),C=Ca.createVerify(D.read(D.hash,c));C.write(f),C.end();const w=JP.encode({algorithm:{algorithm:[1,2,840,10045,2,1],parameters:a.oid},subjectPublicKey:{unused:0,data:Array.from(x)}},"pem",{label:"PUBLIC KEY"}),k=rg.encode({r:new h(l),s:new h(u)},"der");try{return C.verify(w,k)}catch{return!1}}(o,e,r,n,i)}return async function(a,c,l,u){const f=await ba(a.name);return hd(f,u).verify(l,c)}(o,r,e===void 0?n:s,i)}const md=void 0,rg=Ca?md.define("ECDSASignature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}):void 0,GP=Ca?md.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").explicit(0).optional().any(),this.key("publicKey").explicit(1).optional().bitstr())}):void 0,YP=Ca?md.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional().any())}):void 0,JP=Ca?md.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(YP),this.key("subjectPublicKey").bitstr())}):void 0;var XP=Object.freeze({__proto__:null,sign:d2,verify:x2,validateParams:async function(t,e,r){const n=new Yi(t);if(n.keyType!==D.publicKey.ecdsa)return!1;switch(n.type){case"web":case"node":{const i=Qr(8),s=D.hash.sha256,o=await xn.digest(s,i);try{const a=await d2(t,s,i,e,r,o);return await x2(t,s,a,i,e,o)}catch{return!1}}default:return Zm(D.publicKey.ecdsa,t,e,r)}}});Kt.hash=t=>new Uint8Array(Ea().update(t).digest());var QP=Object.freeze({__proto__:null,sign:async function(t,e,r,n,i,s){if(xn.getHashByteLength(e)<xn.getHashByteLength(D.hash.sha256))throw Error("Hash algorithm too weak for EdDSA.");const o=U.concatUint8Array([i,n.subarray(1)]),a=Kt.sign.detached(s,o);return{r:a.subarray(0,32),s:a.subarray(32)}},verify:async function(t,e,{r,s:n},i,s,o){if(xn.getHashByteLength(e)<xn.getHashByteLength(D.hash.sha256))throw Error("Hash algorithm too weak for EdDSA.");const a=U.concatUint8Array([r,n]);return Kt.sign.detached.verify(o,a,s.subarray(1))},validateParams:async function(t,e,r){if(t.getName()!=="ed25519")return!1;const{publicKey:n}=Kt.sign.keyPair.fromSeed(r),i=new Uint8Array([64,...n]);return U.equalsUint8Array(e,i)}});function _x(t){if(t===D.publicKey.ed25519)return D.hash.sha256;throw Error("Unknown EdDSA algo")}Kt.hash=t=>new Uint8Array(Ea().update(t).digest());var ZP=Object.freeze({__proto__:null,generate:async function(t){if(t===D.publicKey.ed25519){const e=Qr(32),{publicKey:r}=Kt.sign.keyPair.fromSeed(e);return{A:r,seed:e}}throw Error("Unsupported EdDSA algorithm")},sign:async function(t,e,r,n,i,s){if(xn.getHashByteLength(e)<xn.getHashByteLength(_x(t)))throw Error("Hash algorithm too weak for EdDSA.");switch(t){case D.publicKey.ed25519:{const o=U.concatUint8Array([i,n]);return{RS:Kt.sign.detached(s,o)}}case D.publicKey.ed448:default:throw Error("Unsupported EdDSA algorithm")}},verify:async function(t,e,{RS:r},n,i,s){if(xn.getHashByteLength(e)<xn.getHashByteLength(_x(t)))throw Error("Hash algorithm too weak for EdDSA.");switch(t){case D.publicKey.ed25519:return Kt.sign.detached.verify(s,r,i);case D.publicKey.ed448:default:throw Error("Unsupported EdDSA algorithm")}},validateParams:async function(t,e,r){switch(t){case D.publicKey.ed25519:{const{publicKey:n}=Kt.sign.keyPair.fromSeed(r);return U.equalsUint8Array(e,n)}case D.publicKey.ed448:default:return!1}},getPreferredHashAlgo:_x});function c9(t,e){const r=new ol["aes"+8*t.length](t),n=new Uint32Array([2795939494,2795939494]),i=ef(e);let s=n;const o=i,a=i.length/2,c=new Uint32Array([0,0]);let l=new Uint32Array(4);for(let u=0;u<=5;++u)for(let f=0;f<a;++f)c[1]=a*u+(1+f),l[0]=s[0],l[1]=s[1],l[2]=o[2*f],l[3]=o[2*f+1],l=ef(r.encrypt(tf(l))),s=l.subarray(0,2),s[0]^=c[0],s[1]^=c[1],o[2*f]=l[2],o[2*f+1]=l[3];return tf(s,o)}function l9(t,e){const r=new ol["aes"+8*t.length](t),n=new Uint32Array([2795939494,2795939494]),i=ef(e);let s=i.subarray(0,2);const o=i.subarray(2),a=i.length/2-1,c=new Uint32Array([0,0]);let l=new Uint32Array(4);for(let u=5;u>=0;--u)for(let f=a-1;f>=0;--f)c[1]=a*u+(f+1),l[0]=s[0]^c[0],l[1]=s[1]^c[1],l[2]=o[2*f],l[3]=o[2*f+1],l=ef(r.decrypt(tf(l))),s=l.subarray(0,2),o[2*f]=l[2],o[2*f+1]=l[3];if(s[0]===n[0]&&s[1]===n[1])return tf(o);throw Error("Key Data Integrity failed")}function ef(t){const{length:e}=t,r=function(s){if(U.isString(s)){const{length:o}=s,a=new ArrayBuffer(o),c=new Uint8Array(a);for(let l=0;l<o;++l)c[l]=s.charCodeAt(l);return a}return new Uint8Array(s).buffer}(t),n=new DataView(r),i=new Uint32Array(e/4);for(let s=0;s<e/4;++s)i[s]=n.getUint32(4*s);return i}function tf(){let t=0;for(let i=0;i<arguments.length;++i)t+=4*arguments[i].length;const e=new ArrayBuffer(t),r=new DataView(e);let n=0;for(let i=0;i<arguments.length;++i){for(let s=0;s<arguments[i].length;++s)r.setUint32(n+4*s,arguments[i][s]);n+=4*arguments[i].length}return new Uint8Array(e)}var eT=Object.freeze({__proto__:null,wrap:c9,unwrap:l9});function ng(t){const e=8-t.length%8,r=new Uint8Array(t.length+e).fill(e);return r.set(t),r}function ig(t){const e=t.length;if(e>0){const r=t[e-1];if(r>=1){const n=t.subarray(e-r),i=new Uint8Array(r).fill(r);if(U.equalsUint8Array(n,i))return t.subarray(0,e-r)}}throw Error("Invalid padding")}var tT=Object.freeze({__proto__:null,encode:ng,decode:ig});const Bs=U.getWebCrypto(),sg=U.getNodeCrypto();function h2(t,e,r,n){return U.concatUint8Array([e.write(),new Uint8Array([t]),r.write(),U.stringToUint8Array("Anonymous Sender    "),n.subarray(0,20)])}async function p2(t,e,r,n,i=!1,s=!1){let o;if(i){for(o=0;o<e.length&&e[o]===0;o++);e=e.subarray(o)}if(s){for(o=e.length-1;o>=0&&e[o]===0;o--);e=e.subarray(0,o+1)}return(await xn.digest(t,U.concatUint8Array([new Uint8Array([0,0,0,1]),e,n]))).subarray(0,r)}async function rT(t,e){switch(t.type){case"curve25519":{const r=Qr(32),{secretKey:n,sharedKey:i}=await og(t,e,null,r);let{publicKey:s}=Kt.box.keyPair.fromSecretKey(n);return s=U.concatUint8Array([new Uint8Array([64]),s]),{publicKey:s,sharedKey:i}}case"web":if(t.web&&U.getWebCrypto())try{return await async function(r,n){const i=pd(r.payloadSize,r.web.web,n);let s=Bs.generateKey({name:"ECDH",namedCurve:r.web.web},!0,["deriveKey","deriveBits"]),o=Bs.importKey("jwk",i,{name:"ECDH",namedCurve:r.web.web},!1,[]);[s,o]=await Promise.all([s,o]);let a=Bs.deriveBits({name:"ECDH",namedCurve:r.web.web,public:o},s.privateKey,r.web.sharedSize),c=Bs.exportKey("jwk",s.publicKey);[a,c]=await Promise.all([a,c]);const l=new Uint8Array(a);return{publicKey:new Uint8Array(eg(c)),sharedKey:l}}(t,e)}catch(r){U.printDebugError(r)}break;case"node":return async function(r,n){const i=sg.createECDH(r.node.node);i.generateKeys();const s=new Uint8Array(i.computeSecret(n));return{publicKey:new Uint8Array(i.getPublicKey()),sharedKey:s}}(t,e)}return async function(r,n){const i=await ba(r.name),s=await r.genKeyPair();n=hd(i,n);const o=xd(i,s.privateKey),a=s.publicKey,c=o.derive(n.getPublic()),l=i.curve.p.byteLength(),u=c.toArrayLike(Uint8Array,"be",l);return{publicKey:a,sharedKey:u}}(t,e)}async function og(t,e,r,n){if(n.length!==t.payloadSize){const i=new Uint8Array(t.payloadSize);i.set(n,t.payloadSize-n.length),n=i}switch(t.type){case"curve25519":{const i=n.slice().reverse();return{secretKey:i,sharedKey:Kt.scalarMult(i,e.subarray(1))}}case"web":if(t.web&&U.getWebCrypto())try{return await async function(i,s,o,a){const c=tg(i.payloadSize,i.web.web,o,a);let l=Bs.importKey("jwk",c,{name:"ECDH",namedCurve:i.web.web},!0,["deriveKey","deriveBits"]);const u=pd(i.payloadSize,i.web.web,s);let f=Bs.importKey("jwk",u,{name:"ECDH",namedCurve:i.web.web},!0,[]);[l,f]=await Promise.all([l,f]);let x=Bs.deriveBits({name:"ECDH",namedCurve:i.web.web,public:f},l,i.web.sharedSize),h=Bs.exportKey("jwk",l);[x,h]=await Promise.all([x,h]);const C=new Uint8Array(x);return{secretKey:Ti(h.d),sharedKey:C}}(t,e,r,n)}catch(i){U.printDebugError(i)}break;case"node":return async function(i,s,o){const a=sg.createECDH(i.node.node);a.setPrivateKey(o);const c=new Uint8Array(a.computeSecret(s));return{secretKey:new Uint8Array(a.getPrivateKey()),sharedKey:c}}(t,e,n)}return async function(i,s,o){const a=await ba(i.name);s=hd(a,s),o=xd(a,o);const c=new Uint8Array(o.getPrivate()),l=o.derive(s.getPublic()),u=a.curve.p.byteLength(),f=l.toArrayLike(Uint8Array,"be",u);return{secretKey:c,sharedKey:f}}(t,e,n)}var nT=Object.freeze({__proto__:null,validateParams:async function(t,e,r){return Zm(D.publicKey.ecdh,t,e,r)},encrypt:async function(t,e,r,n,i){const s=ng(r),o=new Yi(t),{publicKey:a,sharedKey:c}=await rT(o,n),l=h2(D.publicKey.ecdh,t,e,i),{keySize:u}=di(e.cipher);return{publicKey:a,wrappedKey:c9(await p2(e.hash,c,u,l),s)}},decrypt:async function(t,e,r,n,i,s,o){const a=new Yi(t),{sharedKey:c}=await og(a,r,i,s),l=h2(D.publicKey.ecdh,t,e,o),{keySize:u}=di(e.cipher);let f;for(let x=0;x<3;x++)try{return ig(l9(await p2(e.hash,c,u,l,x===1,x===2),n))}catch(h){f=h}throw f}});const m2=U.getWebCrypto(),lc=U.getNodeCrypto(),g2=lc&&lc.webcrypto&&lc.webcrypto.subtle;async function y2(t,e,r,n,i){const s=D.read(D.webHash,t);if(!s)throw Error("Hash algo not supported with HKDF");if(m2||g2){const o=m2||g2,a=await o.importKey("raw",e,"HKDF",!1,["deriveBits"]),c=await o.deriveBits({name:"HKDF",hash:s,salt:r,info:n},a,8*i);return new Uint8Array(c)}if(lc){const o=D.read(D.hash,t),a=(h,C)=>lc.createHmac(o,h).update(C).digest(),c=a(r,e),l=c.length,u=Math.ceil(i/l),f=new Uint8Array(u*l),x=new Uint8Array(l+n.length+1);x.set(n,l);for(let h=0;h<u;h++){x[x.length-1]=h+1;const C=a(c,h>0?x:x.subarray(l));x.set(C,0),f.set(C,h*l)}return f.subarray(0,i)}throw Error("No HKDF implementation available")}const E2={x25519:U.encodeUTF8("OpenPGP X25519")};var iT=Object.freeze({__proto__:null,generate:async function(t){if(t===D.publicKey.x25519){const e=Qr(32),{publicKey:r}=Kt.box.keyPair.fromSecretKey(e);return{A:r,k:e}}throw Error("Unsupported ECDH algorithm")},validateParams:async function(t,e,r){if(t===D.publicKey.x25519){const{publicKey:n}=Kt.box.keyPair.fromSecretKey(r);return U.equalsUint8Array(e,n)}return!1},encrypt:async function(t,e,r){if(t===D.publicKey.x25519){const n=Qr(32),i=Kt.scalarMult(n,r),{publicKey:s}=Kt.box.keyPair.fromSecretKey(n),o=U.concatUint8Array([s,r,i]),{keySize:a}=di(D.symmetric.aes128);return{ephemeralPublicKey:s,wrappedKey:c9(await y2(D.hash.sha256,o,new Uint8Array,E2.x25519,a),e)}}throw Error("Unsupported ECDH algorithm")},decrypt:async function(t,e,r,n,i){if(t===D.publicKey.x25519){const s=Kt.scalarMult(i,e),o=U.concatUint8Array([e,n,s]),{keySize:a}=di(D.symmetric.aes128);return l9(await y2(D.hash.sha256,o,new Uint8Array,E2.x25519,a),r)}throw Error("Unsupported ECDH algorithm")}}),sT=Object.freeze({__proto__:null,CurveWithOID:Yi,ecdh:nT,ecdhX:iT,ecdsa:XP,eddsaLegacy:QP,eddsa:ZP,generate:async function(t){const e=await U.getBigInteger();t=new Yi(t);const r=await t.genKeyPair(),n=new e(r.publicKey).toUint8Array(),i=new e(r.privateKey).toUint8Array("be",t.payloadSize);return{oid:t.oid,Q:n,secret:i,hash:t.hash,cipher:t.cipher}},getPreferredHashAlgo:function(t){return xu[D.write(D.curve,t.toHex())].hash}}),oT=Object.freeze({__proto__:null,sign:async function(t,e,r,n,i,s){const o=await U.getBigInteger(),a=new o(1);let c,l,u,f;n=new o(n),i=new o(i),r=new o(r),s=new o(s),r=r.mod(n),s=s.mod(i);const x=new o(e.subarray(0,i.byteLength())).mod(i);for(;;){if(c=await Gi(a,i),l=r.modExp(c,n).imod(i),l.isZero())continue;const h=s.mul(l).imod(i);if(f=x.add(h).imod(i),u=c.modInv(i).imul(f).imod(i),!u.isZero())break}return{r:l.toUint8Array("be",i.byteLength()),s:u.toUint8Array("be",i.byteLength())}},verify:async function(t,e,r,n,i,s,o,a){const c=await U.getBigInteger(),l=new c(0);if(e=new c(e),r=new c(r),s=new c(s),o=new c(o),i=new c(i),a=new c(a),e.lte(l)||e.gte(o)||r.lte(l)||r.gte(o))return U.printDebug("invalid DSA Signature"),!1;const u=new c(n.subarray(0,o.byteLength())).imod(o),f=r.modInv(o);if(f.isZero())return U.printDebug("invalid DSA Signature"),!1;i=i.mod(s),a=a.mod(s);const x=u.mul(f).imod(o),h=e.mul(f).imod(o),C=i.modExp(x,s),w=a.modExp(h,s);return C.mul(w).imod(s).imod(o).equal(e)},validateParams:async function(t,e,r,n,i){const s=await U.getBigInteger();t=new s(t),e=new s(e),r=new s(r),n=new s(n);const o=new s(1);if(r.lte(o)||r.gte(t)||!t.dec().mod(e).isZero()||!r.modExp(e,t).isOne())return!1;const a=new s(e.bitLength()),c=new s(150);if(a.lt(c)||!await Ym(e,null,32))return!1;i=new s(i);const l=new s(2),u=await Gi(l.leftShift(a.dec()),l.leftShift(a)),f=e.mul(u).add(i);return!!n.equal(r.modExp(f,t))}}),st={rsa:HP,elgamal:VP,elliptic:sT,dsa:oT,nacl:Kt},aT=Object.freeze({__proto__:null,parseSignatureParams:function(t,e){let r=0;switch(t){case D.publicKey.rsaEncryptSign:case D.publicKey.rsaEncrypt:case D.publicKey.rsaSign:return{s:U.readMPI(e.subarray(r))};case D.publicKey.dsa:case D.publicKey.ecdsa:{const n=U.readMPI(e.subarray(r));return r+=n.length+2,{r:n,s:U.readMPI(e.subarray(r))}}case D.publicKey.eddsaLegacy:{let n=U.readMPI(e.subarray(r));r+=n.length+2,n=U.leftPad(n,32);let i=U.readMPI(e.subarray(r));return i=U.leftPad(i,32),{r:n,s:i}}case D.publicKey.ed25519:{const n=e.subarray(r,r+64);return r+=n.length,{RS:n}}default:throw new kt("Unknown signature algorithm.")}},verify:async function(t,e,r,n,i,s){switch(t){case D.publicKey.rsaEncryptSign:case D.publicKey.rsaEncrypt:case D.publicKey.rsaSign:{const{n:o,e:a}=n,c=U.leftPad(r.s,o.length);return st.rsa.verify(e,i,c,o,a,s)}case D.publicKey.dsa:{const{g:o,p:a,q:c,y:l}=n,{r:u,s:f}=r;return st.dsa.verify(e,u,f,s,o,a,c,l)}case D.publicKey.ecdsa:{const{oid:o,Q:a}=n,c=new st.elliptic.CurveWithOID(o).payloadSize,l=U.leftPad(r.r,c),u=U.leftPad(r.s,c);return st.elliptic.ecdsa.verify(o,e,{r:l,s:u},i,a,s)}case D.publicKey.eddsaLegacy:{const{oid:o,Q:a}=n;return st.elliptic.eddsaLegacy.verify(o,e,r,i,a,s)}case D.publicKey.ed25519:{const{A:o}=n;return st.elliptic.eddsa.verify(t,e,r,i,o,s)}default:throw Error("Unknown signature algorithm.")}},sign:async function(t,e,r,n,i,s){if(!r||!n)throw Error("Missing key parameters");switch(t){case D.publicKey.rsaEncryptSign:case D.publicKey.rsaEncrypt:case D.publicKey.rsaSign:{const{n:o,e:a}=r,{d:c,p:l,q:u,u:f}=n;return{s:await st.rsa.sign(e,i,o,a,c,l,u,f,s)}}case D.publicKey.dsa:{const{g:o,p:a,q:c}=r,{x:l}=n;return st.dsa.sign(e,s,o,a,c,l)}case D.publicKey.elgamal:throw Error("Signing with Elgamal is not defined in the OpenPGP standard.");case D.publicKey.ecdsa:{const{oid:o,Q:a}=r,{d:c}=n;return st.elliptic.ecdsa.sign(o,e,i,a,c,s)}case D.publicKey.eddsaLegacy:{const{oid:o,Q:a}=r,{seed:c}=n;return st.elliptic.eddsaLegacy.sign(o,e,i,a,c,s)}case D.publicKey.ed25519:{const{A:o}=r,{seed:a}=n;return st.elliptic.eddsa.sign(t,e,i,o,a,s)}default:throw Error("Unknown signature algorithm.")}}});class b2{constructor(e){e&&(this.data=e)}read(e){if(e.length>=1){const r=e[0];if(e.length>=1+r)return this.data=e.subarray(1,1+r),1+this.data.length}throw Error("Invalid symmetric key")}write(){return U.concatUint8Array([new Uint8Array([this.data.length]),this.data])}}class C2{constructor(e){if(e){const{hash:r,cipher:n}=e;this.hash=r,this.cipher=n}else this.hash=null,this.cipher=null}read(e){if(e.length<4||e[0]!==3||e[1]!==1)throw new kt("Cannot read KDFParams");return this.hash=e[2],this.cipher=e[3],4}write(){return new Uint8Array([3,1,this.hash,this.cipher])}}class rf{static fromObject({wrappedKey:e,algorithm:r}){const n=new rf;return n.wrappedKey=e,n.algorithm=r,n}read(e){let r=0,n=e[r++];this.algorithm=n%2?e[r++]:null,n-=n%2,this.wrappedKey=e.subarray(r,r+n),r+=n}write(){return U.concatUint8Array([this.algorithm?new Uint8Array([this.wrappedKey.length+1,this.algorithm]):new Uint8Array([this.wrappedKey.length]),this.wrappedKey])}}function wx(t){try{t.getName()}catch{throw new kt("Unknown curve OID")}}var cT=Object.freeze({__proto__:null,publicKeyEncrypt:async function(t,e,r,n,i){switch(t){case D.publicKey.rsaEncrypt:case D.publicKey.rsaEncryptSign:{const{n:s,e:o}=r;return{c:await st.rsa.encrypt(n,s,o)}}case D.publicKey.elgamal:{const{p:s,g:o,y:a}=r;return st.elgamal.encrypt(n,s,o,a)}case D.publicKey.ecdh:{const{oid:s,Q:o,kdfParams:a}=r,{publicKey:c,wrappedKey:l}=await st.elliptic.ecdh.encrypt(s,a,n,o,i);return{V:c,C:new b2(l)}}case D.publicKey.x25519:{if(!U.isAES(e))throw Error("X25519 keys can only encrypt AES session keys");const{A:s}=r,{ephemeralPublicKey:o,wrappedKey:a}=await st.elliptic.ecdhX.encrypt(t,n,s);return{ephemeralPublicKey:o,C:rf.fromObject({algorithm:e,wrappedKey:a})}}default:return[]}},publicKeyDecrypt:async function(t,e,r,n,i,s){switch(t){case D.publicKey.rsaEncryptSign:case D.publicKey.rsaEncrypt:{const{c:o}=n,{n:a,e:c}=e,{d:l,p:u,q:f,u:x}=r;return st.rsa.decrypt(o,a,c,l,u,f,x,s)}case D.publicKey.elgamal:{const{c1:o,c2:a}=n,c=e.p,l=r.x;return st.elgamal.decrypt(o,a,c,l,s)}case D.publicKey.ecdh:{const{oid:o,Q:a,kdfParams:c}=e,{d:l}=r,{V:u,C:f}=n;return st.elliptic.ecdh.decrypt(o,c,u,f.data,a,l,i)}case D.publicKey.x25519:{const{A:o}=e,{k:a}=r,{ephemeralPublicKey:c,C:l}=n;if(!U.isAES(l.algorithm))throw Error("AES session key expected");return st.elliptic.ecdhX.decrypt(t,c,l.wrappedKey,o,a)}default:throw Error("Unknown public key encryption algorithm.")}},parsePublicKeyParams:function(t,e){let r=0;switch(t){case D.publicKey.rsaEncrypt:case D.publicKey.rsaEncryptSign:case D.publicKey.rsaSign:{const n=U.readMPI(e.subarray(r));r+=n.length+2;const i=U.readMPI(e.subarray(r));return r+=i.length+2,{read:r,publicParams:{n,e:i}}}case D.publicKey.dsa:{const n=U.readMPI(e.subarray(r));r+=n.length+2;const i=U.readMPI(e.subarray(r));r+=i.length+2;const s=U.readMPI(e.subarray(r));r+=s.length+2;const o=U.readMPI(e.subarray(r));return r+=o.length+2,{read:r,publicParams:{p:n,q:i,g:s,y:o}}}case D.publicKey.elgamal:{const n=U.readMPI(e.subarray(r));r+=n.length+2;const i=U.readMPI(e.subarray(r));r+=i.length+2;const s=U.readMPI(e.subarray(r));return r+=s.length+2,{read:r,publicParams:{p:n,g:i,y:s}}}case D.publicKey.ecdsa:{const n=new Xn;r+=n.read(e),wx(n);const i=U.readMPI(e.subarray(r));return r+=i.length+2,{read:r,publicParams:{oid:n,Q:i}}}case D.publicKey.eddsaLegacy:{const n=new Xn;r+=n.read(e),wx(n);let i=U.readMPI(e.subarray(r));return r+=i.length+2,i=U.leftPad(i,33),{read:r,publicParams:{oid:n,Q:i}}}case D.publicKey.ecdh:{const n=new Xn;r+=n.read(e),wx(n);const i=U.readMPI(e.subarray(r));r+=i.length+2;const s=new C2;return r+=s.read(e.subarray(r)),{read:r,publicParams:{oid:n,Q:i,kdfParams:s}}}case D.publicKey.ed25519:case D.publicKey.x25519:{const n=e.subarray(r,r+32);return r+=n.length,{read:r,publicParams:{A:n}}}default:throw new kt("Unknown public key encryption algorithm.")}},parsePrivateKeyParams:function(t,e,r){let n=0;switch(t){case D.publicKey.rsaEncrypt:case D.publicKey.rsaEncryptSign:case D.publicKey.rsaSign:{const i=U.readMPI(e.subarray(n));n+=i.length+2;const s=U.readMPI(e.subarray(n));n+=s.length+2;const o=U.readMPI(e.subarray(n));n+=o.length+2;const a=U.readMPI(e.subarray(n));return n+=a.length+2,{read:n,privateParams:{d:i,p:s,q:o,u:a}}}case D.publicKey.dsa:case D.publicKey.elgamal:{const i=U.readMPI(e.subarray(n));return n+=i.length+2,{read:n,privateParams:{x:i}}}case D.publicKey.ecdsa:case D.publicKey.ecdh:{const i=new Yi(r.oid);let s=U.readMPI(e.subarray(n));return n+=s.length+2,s=U.leftPad(s,i.payloadSize),{read:n,privateParams:{d:s}}}case D.publicKey.eddsaLegacy:{const i=new Yi(r.oid);let s=U.readMPI(e.subarray(n));return n+=s.length+2,s=U.leftPad(s,i.payloadSize),{read:n,privateParams:{seed:s}}}case D.publicKey.ed25519:{const i=e.subarray(n,n+32);return n+=i.length,{read:n,privateParams:{seed:i}}}case D.publicKey.x25519:{const i=e.subarray(n,n+32);return n+=i.length,{read:n,privateParams:{k:i}}}default:throw new kt("Unknown public key encryption algorithm.")}},parseEncSessionKeyParams:function(t,e){let r=0;switch(t){case D.publicKey.rsaEncrypt:case D.publicKey.rsaEncryptSign:return{c:U.readMPI(e.subarray(r))};case D.publicKey.elgamal:{const n=U.readMPI(e.subarray(r));return r+=n.length+2,{c1:n,c2:U.readMPI(e.subarray(r))}}case D.publicKey.ecdh:{const n=U.readMPI(e.subarray(r));r+=n.length+2;const i=new b2;return i.read(e.subarray(r)),{V:n,C:i}}case D.publicKey.x25519:{const n=e.subarray(r,r+32);r+=n.length;const i=new rf;return i.read(e.subarray(r)),{ephemeralPublicKey:n,C:i}}default:throw new kt("Unknown public key encryption algorithm.")}},serializeParams:function(t,e){const r=new Set([D.publicKey.ed25519,D.publicKey.x25519]),n=Object.keys(e).map(i=>{const s=e[i];return U.isUint8Array(s)?r.has(t)?s:U.uint8ArrayToMPI(s):s.write()});return U.concatUint8Array(n)},generateParams:function(t,e,r){switch(t){case D.publicKey.rsaEncrypt:case D.publicKey.rsaEncryptSign:case D.publicKey.rsaSign:return st.rsa.generate(e,65537).then(({n,e:i,d:s,p:o,q:a,u:c})=>({privateParams:{d:s,p:o,q:a,u:c},publicParams:{n,e:i}}));case D.publicKey.ecdsa:return st.elliptic.generate(r).then(({oid:n,Q:i,secret:s})=>({privateParams:{d:s},publicParams:{oid:new Xn(n),Q:i}}));case D.publicKey.eddsaLegacy:return st.elliptic.generate(r).then(({oid:n,Q:i,secret:s})=>({privateParams:{seed:s},publicParams:{oid:new Xn(n),Q:i}}));case D.publicKey.ecdh:return st.elliptic.generate(r).then(({oid:n,Q:i,secret:s,hash:o,cipher:a})=>({privateParams:{d:s},publicParams:{oid:new Xn(n),Q:i,kdfParams:new C2({hash:o,cipher:a})}}));case D.publicKey.ed25519:return st.elliptic.eddsa.generate(t).then(({A:n,seed:i})=>({privateParams:{seed:i},publicParams:{A:n}}));case D.publicKey.x25519:return st.elliptic.ecdhX.generate(t).then(({A:n,k:i})=>({privateParams:{k:i},publicParams:{A:n}}));case D.publicKey.dsa:case D.publicKey.elgamal:throw Error("Unsupported algorithm for key generation.");default:throw Error("Unknown public key algorithm.")}},validateParams:async function(t,e,r){if(!e||!r)throw Error("Missing key parameters");switch(t){case D.publicKey.rsaEncrypt:case D.publicKey.rsaEncryptSign:case D.publicKey.rsaSign:{const{n,e:i}=e,{d:s,p:o,q:a,u:c}=r;return st.rsa.validateParams(n,i,s,o,a,c)}case D.publicKey.dsa:{const{p:n,q:i,g:s,y:o}=e,{x:a}=r;return st.dsa.validateParams(n,i,s,o,a)}case D.publicKey.elgamal:{const{p:n,g:i,y:s}=e,{x:o}=r;return st.elgamal.validateParams(n,i,s,o)}case D.publicKey.ecdsa:case D.publicKey.ecdh:{const n=st.elliptic[D.read(D.publicKey,t)],{oid:i,Q:s}=e,{d:o}=r;return n.validateParams(i,s,o)}case D.publicKey.eddsaLegacy:{const{Q:n,oid:i}=e,{seed:s}=r;return st.elliptic.eddsaLegacy.validateParams(i,n,s)}case D.publicKey.ed25519:{const{A:n}=e,{seed:i}=r;return st.elliptic.eddsa.validateParams(t,n,i)}case D.publicKey.x25519:{const{A:n}=e,{k:i}=r;return st.elliptic.ecdhX.validateParams(t,n,i)}default:throw Error("Unknown public key algorithm.")}},getPrefixRandom:async function(t){const{blockSize:e}=di(t),r=await Qr(e),n=new Uint8Array([r[r.length-2],r[r.length-1]]);return U.concat([r,n])},generateSessionKey:function(t){const{keySize:e}=di(t);return Qr(e)},getAEADMode:function(t){const e=D.read(D.aead,t);return Gm[e]},getCipher:di,getPreferredCurveHashAlgo:function(t,e){switch(t){case D.publicKey.ecdsa:case D.publicKey.eddsaLegacy:return st.elliptic.getPreferredHashAlgo(e);case D.publicKey.ed25519:return st.elliptic.eddsa.getPreferredHashAlgo(t);default:throw Error("Unknown elliptic signing algo")}}});const Se={cipher:ol,hash:xn,mode:Gm,publicKey:st,signature:aT,random:$P,pkcs1:jP,pkcs5:tT,aesKW:eT};Object.assign(Se,cT);var ll=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function ag(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)}const cg={arraySet:function(t,e,r,n,i){if(e.subarray&&t.subarray)t.set(e.subarray(r,r+n),i);else for(let s=0;s<n;s++)t[i+s]=e[r+s]},flattenChunks:function(t){let e,r,n,i,s;for(n=0,e=0,r=t.length;e<r;e++)n+=t[e].length;const o=new Uint8Array(n);for(i=0,e=0,r=t.length;e<r;e++)s=t[e],o.set(s,i),i+=s.length;return o}},lg={arraySet:function(t,e,r,n,i){for(let s=0;s<n;s++)t[i+s]=e[r+s]},flattenChunks:function(t){return[].concat.apply([],t)}};let ii=ll?Uint8Array:Array,un=ll?Uint16Array:Array,nf=ll?Int32Array:Array,ug=ll?cg.flattenChunks:lg.flattenChunks,hi=ll?cg.arraySet:lg.arraySet;const pi=0,lT=1,Dc=2,uT=3,Zt=4,lh=5,Ll=6,gt=0,Oi=1,fg=2,Nt=-2,u9=-3,uc=-5,A2=-1,fT=1,Nl=2,dT=3,dg=4,v2=0,_2=1,xg=2,oa=8;function Aa(t){let e=t.length;for(;--e>=0;)t[e]=0}const xT=0,hg=1,hT=2,f9=29,ul=256,kc=ul+1+f9,Uo=30,d9=19,w2=2*kc+1,w0=15,Bx=16,pT=7,x9=256,pg=16,mg=17,gg=18,uh=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],hu=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],mT=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],B2=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Si=Array(2*(kc+2));Aa(Si);const fc=Array(2*Uo);Aa(fc);const Fc=Array(512);Aa(Fc);const Sc=Array(256);Aa(Sc);const h9=Array(f9);Aa(h9);const sf=Array(Uo);function Dx(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}let D2,k2,F2;function kx(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function yg(t){return t<256?Fc[t]:Fc[256+(t>>>7)]}function Pc(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function Rr(t,e,r){t.bi_valid>Bx-r?(t.bi_buf|=e<<t.bi_valid&65535,Pc(t,t.bi_buf),t.bi_buf=e>>Bx-t.bi_valid,t.bi_valid+=r-Bx):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)}function ei(t,e,r){Rr(t,r[2*e],r[2*e+1])}function Eg(t,e){let r=0;do r|=1&t,t>>>=1,r<<=1;while(--e>0);return r>>>1}function bg(t,e,r){const n=Array(w0+1);let i,s,o=0;for(i=1;i<=w0;i++)n[i]=o=o+r[i-1]<<1;for(s=0;s<=e;s++){const a=t[2*s+1];a!==0&&(t[2*s]=Eg(n[a]++,a))}}function Cg(t){let e;for(e=0;e<kc;e++)t.dyn_ltree[2*e]=0;for(e=0;e<Uo;e++)t.dyn_dtree[2*e]=0;for(e=0;e<d9;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*x9]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function Ag(t){t.bi_valid>8?Pc(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function S2(t,e,r,n){const i=2*e,s=2*r;return t[i]<t[s]||t[i]===t[s]&&n[e]<=n[r]}function Fx(t,e,r){const n=t.heap[r];let i=r<<1;for(;i<=t.heap_len&&(i<t.heap_len&&S2(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!S2(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n}function P2(t,e,r){let n,i,s,o,a=0;if(t.last_lit!==0)do n=t.pending_buf[t.d_buf+2*a]<<8|t.pending_buf[t.d_buf+2*a+1],i=t.pending_buf[t.l_buf+a],a++,n===0?ei(t,i,e):(s=Sc[i],ei(t,s+ul+1,e),o=uh[s],o!==0&&(i-=h9[s],Rr(t,i,o)),n--,s=yg(n),ei(t,s,r),o=hu[s],o!==0&&(n-=sf[s],Rr(t,n,o)));while(a<t.last_lit);ei(t,x9,e)}function Sx(t,e){const r=e.dyn_tree,n=e.stat_desc.static_tree,i=e.stat_desc.has_stree,s=e.stat_desc.elems;let o,a,c,l=-1;for(t.heap_len=0,t.heap_max=w2,o=0;o<s;o++)r[2*o]!==0?(t.heap[++t.heap_len]=l=o,t.depth[o]=0):r[2*o+1]=0;for(;t.heap_len<2;)c=t.heap[++t.heap_len]=l<2?++l:0,r[2*c]=1,t.depth[c]=0,t.opt_len--,i&&(t.static_len-=n[2*c+1]);for(e.max_code=l,o=t.heap_len>>1;o>=1;o--)Fx(t,r,o);c=s;do o=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Fx(t,r,1),a=t.heap[1],t.heap[--t.heap_max]=o,t.heap[--t.heap_max]=a,r[2*c]=r[2*o]+r[2*a],t.depth[c]=(t.depth[o]>=t.depth[a]?t.depth[o]:t.depth[a])+1,r[2*o+1]=r[2*a+1]=c,t.heap[1]=c++,Fx(t,r,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(u,f){const x=f.dyn_tree,h=f.max_code,C=f.stat_desc.static_tree,w=f.stat_desc.has_stree,k=f.stat_desc.extra_bits,O=f.stat_desc.extra_base,z=f.stat_desc.max_length;let P,A,T,F,R,d,p=0;for(F=0;F<=w0;F++)u.bl_count[F]=0;for(x[2*u.heap[u.heap_max]+1]=0,P=u.heap_max+1;P<w2;P++)A=u.heap[P],F=x[2*x[2*A+1]+1]+1,F>z&&(F=z,p++),x[2*A+1]=F,A>h||(u.bl_count[F]++,R=0,A>=O&&(R=k[A-O]),d=x[2*A],u.opt_len+=d*(F+R),w&&(u.static_len+=d*(C[2*A+1]+R)));if(p!==0){do{for(F=z-1;u.bl_count[F]===0;)F--;u.bl_count[F]--,u.bl_count[F+1]+=2,u.bl_count[z]--,p-=2}while(p>0);for(F=z;F!==0;F--)for(A=u.bl_count[F];A!==0;)T=u.heap[--P],T>h||(x[2*T+1]!==F&&(u.opt_len+=(F-x[2*T+1])*x[2*T],x[2*T+1]=F),A--)}}(t,e),bg(r,l,t.bl_count)}function T2(t,e,r){let n,i,s=-1,o=e[1],a=0,c=7,l=4;for(o===0&&(c=138,l=3),e[2*(r+1)+1]=65535,n=0;n<=r;n++)i=o,o=e[2*(n+1)+1],++a<c&&i===o||(a<l?t.bl_tree[2*i]+=a:i!==0?(i!==s&&t.bl_tree[2*i]++,t.bl_tree[2*pg]++):a<=10?t.bl_tree[2*mg]++:t.bl_tree[2*gg]++,a=0,s=i,o===0?(c=138,l=3):i===o?(c=6,l=3):(c=7,l=4))}function M2(t,e,r){let n,i,s=-1,o=e[1],a=0,c=7,l=4;for(o===0&&(c=138,l=3),n=0;n<=r;n++)if(i=o,o=e[2*(n+1)+1],!(++a<c&&i===o)){if(a<l)do ei(t,i,t.bl_tree);while(--a!=0);else i!==0?(i!==s&&(ei(t,i,t.bl_tree),a--),ei(t,pg,t.bl_tree),Rr(t,a-3,2)):a<=10?(ei(t,mg,t.bl_tree),Rr(t,a-3,3)):(ei(t,gg,t.bl_tree),Rr(t,a-11,7));a=0,s=i,o===0?(c=138,l=3):i===o?(c=6,l=3):(c=7,l=4)}}Aa(sf);let I2=!1;function gT(t){I2||(function(){let e,r,n,i,s;const o=Array(w0+1);for(n=0,i=0;i<f9-1;i++)for(h9[i]=n,e=0;e<1<<uh[i];e++)Sc[n++]=i;for(Sc[n-1]=i,s=0,i=0;i<16;i++)for(sf[i]=s,e=0;e<1<<hu[i];e++)Fc[s++]=i;for(s>>=7;i<Uo;i++)for(sf[i]=s<<7,e=0;e<1<<hu[i]-7;e++)Fc[256+s++]=i;for(r=0;r<=w0;r++)o[r]=0;for(e=0;e<=143;)Si[2*e+1]=8,e++,o[8]++;for(;e<=255;)Si[2*e+1]=9,e++,o[9]++;for(;e<=279;)Si[2*e+1]=7,e++,o[7]++;for(;e<=287;)Si[2*e+1]=8,e++,o[8]++;for(bg(Si,kc+1,o),e=0;e<Uo;e++)fc[2*e+1]=5,fc[2*e]=Eg(e,5);D2=new Dx(Si,uh,ul+1,kc,w0),k2=new Dx(fc,hu,0,Uo,w0),F2=new Dx([],mT,0,d9,pT)}(),I2=!0),t.l_desc=new kx(t.dyn_ltree,D2),t.d_desc=new kx(t.dyn_dtree,k2),t.bl_desc=new kx(t.bl_tree,F2),t.bi_buf=0,t.bi_valid=0,Cg(t)}function vg(t,e,r,n){Rr(t,(xT<<1)+(n?1:0),3),function(i,s,o,a){Ag(i),a&&(Pc(i,o),Pc(i,~o)),hi(i.pending_buf,i.window,s,o,i.pending),i.pending+=o}(t,e,r,!0)}function yT(t){Rr(t,hg<<1,3),ei(t,x9,Si),function(e){e.bi_valid===16?(Pc(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(t)}function ET(t,e,r,n){let i,s,o=0;t.level>0?(t.strm.data_type===xg&&(t.strm.data_type=function(a){let c,l=4093624447;for(c=0;c<=31;c++,l>>>=1)if(1&l&&a.dyn_ltree[2*c]!==0)return v2;if(a.dyn_ltree[18]!==0||a.dyn_ltree[20]!==0||a.dyn_ltree[26]!==0)return _2;for(c=32;c<ul;c++)if(a.dyn_ltree[2*c]!==0)return _2;return v2}(t)),Sx(t,t.l_desc),Sx(t,t.d_desc),o=function(a){let c;for(T2(a,a.dyn_ltree,a.l_desc.max_code),T2(a,a.dyn_dtree,a.d_desc.max_code),Sx(a,a.bl_desc),c=d9-1;c>=3&&a.bl_tree[2*B2[c]+1]===0;c--);return a.opt_len+=3*(c+1)+5+5+4,c}(t),i=t.opt_len+3+7>>>3,s=t.static_len+3+7>>>3,s<=i&&(i=s)):i=s=r+5,r+4<=i&&e!==-1?vg(t,e,r,n):t.strategy===dg||s===i?(Rr(t,(hg<<1)+(n?1:0),3),P2(t,Si,fc)):(Rr(t,(hT<<1)+(n?1:0),3),function(a,c,l,u){let f;for(Rr(a,c-257,5),Rr(a,l-1,5),Rr(a,u-4,4),f=0;f<u;f++)Rr(a,a.bl_tree[2*B2[f]+1],3);M2(a,a.dyn_ltree,c-1),M2(a,a.dyn_dtree,l-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),P2(t,t.dyn_ltree,t.dyn_dtree)),Cg(t),n&&Ag(t)}function Is(t,e,r){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,e===0?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(Sc[r]+ul+1)]++,t.dyn_dtree[2*yg(e)]++),t.last_lit===t.lit_bufsize-1}function Tc(t,e,r,n){let i=65535&t|0,s=t>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do i=i+e[n++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0}const bT=function(){let t;const e=[];for(let r=0;r<256;r++){t=r;for(let n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}();function Yt(t,e,r,n){const i=bT,s=n+r;t^=-1;for(let o=n;o<s;o++)t=t>>>8^i[255&(t^e[o])];return-1^t}var Mc={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};const CT=9,at=3,Ds=258,Bn=Ds+at+1,AT=32,of=42,fh=69,pu=73,mu=91,gu=103,B0=113,qa=666,Jt=1,dc=2,D0=3,$o=4,vT=3;function ks(t,e){return t.msg=Mc[e],e}function R2(t){return(t<<1)-(t>4?9:0)}function As(t){let e=t.length;for(;--e>=0;)t[e]=0}function hs(t){const e=t.state;let r=e.pending;r>t.avail_out&&(r=t.avail_out),r!==0&&(hi(t.output,e.pending_buf,e.pending_out,r,t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,e.pending===0&&(e.pending_out=0))}function rr(t,e){ET(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,hs(t.strm)}function dt(t,e){t.pending_buf[t.pending++]=e}function Ma(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function _T(t,e,r,n){let i=t.avail_in;return i>n&&(i=n),i===0?0:(t.avail_in-=i,hi(e,t.input,t.next_in,i,r),t.state.wrap===1?t.adler=Tc(t.adler,e,i,r):t.state.wrap===2&&(t.adler=Yt(t.adler,e,i,r)),t.next_in+=i,t.total_in+=i,i)}function _g(t,e){let r,n,i=t.max_chain_length,s=t.strstart,o=t.prev_length,a=t.nice_match;const c=t.strstart>t.w_size-Bn?t.strstart-(t.w_size-Bn):0,l=t.window,u=t.w_mask,f=t.prev,x=t.strstart+Ds;let h=l[s+o-1],C=l[s+o];t.prev_length>=t.good_match&&(i>>=2),a>t.lookahead&&(a=t.lookahead);do if(r=e,l[r+o]===C&&l[r+o-1]===h&&l[r]===l[s]&&l[++r]===l[s+1]){s+=2,r++;do;while(l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&s<x);if(n=Ds-(x-s),s=x-Ds,n>o){if(t.match_start=e,o=n,n>=a)break;h=l[s+o-1],C=l[s+o]}}while((e=f[e&u])>c&&--i!=0);return o<=t.lookahead?o:t.lookahead}function j0(t){const e=t.w_size;let r,n,i,s,o;do{if(s=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-Bn)){hi(t.window,t.window,e,e,0),t.match_start-=e,t.strstart-=e,t.block_start-=e,n=t.hash_size,r=n;do i=t.head[--r],t.head[r]=i>=e?i-e:0;while(--n);n=e,r=n;do i=t.prev[--r],t.prev[r]=i>=e?i-e:0;while(--n);s+=e}if(t.strm.avail_in===0)break;if(n=_T(t.strm,t.window,t.strstart+t.lookahead,s),t.lookahead+=n,t.lookahead+t.insert>=at)for(o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+at-1])&t.hash_mask,t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<at)););}while(t.lookahead<Bn&&t.strm.avail_in!==0)}function Px(t,e){let r,n;for(;;){if(t.lookahead<Bn){if(j0(t),t.lookahead<Bn&&e===pi)return Jt;if(t.lookahead===0)break}if(r=0,t.lookahead>=at&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+at-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),r!==0&&t.strstart-r<=t.w_size-Bn&&(t.match_length=_g(t,r)),t.match_length>=at)if(n=Is(t,t.strstart-t.match_start,t.match_length-at),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=at){t.match_length--;do t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+at-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!=0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=Is(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(rr(t,!1),t.strm.avail_out===0))return Jt}return t.insert=t.strstart<at-1?t.strstart:at-1,e===Zt?(rr(t,!0),t.strm.avail_out===0?D0:$o):t.last_lit&&(rr(t,!1),t.strm.avail_out===0)?Jt:dc}function xo(t,e){let r,n,i;for(;;){if(t.lookahead<Bn){if(j0(t),t.lookahead<Bn&&e===pi)return Jt;if(t.lookahead===0)break}if(r=0,t.lookahead>=at&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+at-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=at-1,r!==0&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-Bn&&(t.match_length=_g(t,r),t.match_length<=5&&(t.strategy===fT||t.match_length===at&&t.strstart-t.match_start>4096)&&(t.match_length=at-1)),t.prev_length>=at&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-at,n=Is(t,t.strstart-1-t.prev_match,t.prev_length-at),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+at-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!=0);if(t.match_available=0,t.match_length=at-1,t.strstart++,n&&(rr(t,!1),t.strm.avail_out===0))return Jt}else if(t.match_available){if(n=Is(t,0,t.window[t.strstart-1]),n&&rr(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return Jt}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=Is(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<at-1?t.strstart:at-1,e===Zt?(rr(t,!0),t.strm.avail_out===0?D0:$o):t.last_lit&&(rr(t,!1),t.strm.avail_out===0)?Jt:dc}class $n{constructor(e,r,n,i,s){this.good_length=e,this.max_lazy=r,this.nice_length=n,this.max_chain=i,this.func=s}}const Wa=[new $n(0,0,0,0,function(t,e){let r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(j0(t),t.lookahead===0&&e===pi)return Jt;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;const n=t.block_start+r;if((t.strstart===0||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,rr(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-Bn&&(rr(t,!1),t.strm.avail_out===0))return Jt}return t.insert=0,e===Zt?(rr(t,!0),t.strm.avail_out===0?D0:$o):(t.strstart>t.block_start&&(rr(t,!1),t.strm.avail_out),Jt)}),new $n(4,4,8,4,Px),new $n(4,5,16,8,Px),new $n(4,6,32,32,Px),new $n(4,4,16,16,xo),new $n(8,16,32,32,xo),new $n(8,16,128,128,xo),new $n(8,32,128,256,xo),new $n(32,128,258,1024,xo),new $n(32,258,258,4096,xo)];class wT{constructor(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=oa,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new un(1146),this.dyn_dtree=new un(122),this.bl_tree=new un(78),As(this.dyn_ltree),As(this.dyn_dtree),As(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new un(16),this.heap=new un(573),As(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new un(573),As(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}}function BT(t){const e=function(r){let n;return r&&r.state?(r.total_in=r.total_out=0,r.data_type=xg,n=r.state,n.pending=0,n.pending_out=0,n.wrap<0&&(n.wrap=-n.wrap),n.status=n.wrap?of:B0,r.adler=n.wrap===2?0:1,n.last_flush=pi,gT(n),gt):ks(r,Nt)}(t);return e===gt&&function(r){r.window_size=2*r.w_size,As(r.head),r.max_lazy_match=Wa[r.level].max_lazy,r.good_match=Wa[r.level].good_length,r.nice_match=Wa[r.level].nice_length,r.max_chain_length=Wa[r.level].max_chain,r.strstart=0,r.block_start=0,r.lookahead=0,r.insert=0,r.match_length=r.prev_length=at-1,r.match_available=0,r.ins_h=0}(t.state),e}function DT(t,e){let r,n,i,s;if(!t||!t.state||e>lh||e<0)return t?ks(t,Nt):Nt;if(n=t.state,!t.output||!t.input&&t.avail_in!==0||n.status===qa&&e!==Zt)return ks(t,t.avail_out===0?uc:Nt);if(n.strm=t,r=n.last_flush,n.last_flush=e,n.status===of)if(n.wrap===2)t.adler=0,dt(n,31),dt(n,139),dt(n,8),n.gzhead?(dt(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),dt(n,255&n.gzhead.time),dt(n,n.gzhead.time>>8&255),dt(n,n.gzhead.time>>16&255),dt(n,n.gzhead.time>>24&255),dt(n,n.level===9?2:n.strategy>=Nl||n.level<2?4:0),dt(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(dt(n,255&n.gzhead.extra.length),dt(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=Yt(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=fh):(dt(n,0),dt(n,0),dt(n,0),dt(n,0),dt(n,0),dt(n,n.level===9?2:n.strategy>=Nl||n.level<2?4:0),dt(n,vT),n.status=B0);else{let a=oa+(n.w_bits-8<<4)<<8,c=-1;c=n.strategy>=Nl||n.level<2?0:n.level<6?1:n.level===6?2:3,a|=c<<6,n.strstart!==0&&(a|=AT),a+=31-a%31,n.status=B0,Ma(n,a),n.strstart!==0&&(Ma(n,t.adler>>>16),Ma(n,65535&t.adler)),t.adler=1}if(n.status===fh)if(n.gzhead.extra){for(i=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>i&&(t.adler=Yt(t.adler,n.pending_buf,n.pending-i,i)),hs(t),i=n.pending,n.pending!==n.pending_buf_size));)dt(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>i&&(t.adler=Yt(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=pu)}else n.status=pu;if(n.status===pu)if(n.gzhead.name){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(t.adler=Yt(t.adler,n.pending_buf,n.pending-i,i)),hs(t),i=n.pending,n.pending===n.pending_buf_size)){s=1;break}s=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,dt(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=Yt(t.adler,n.pending_buf,n.pending-i,i)),s===0&&(n.gzindex=0,n.status=mu)}else n.status=mu;if(n.status===mu)if(n.gzhead.comment){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(t.adler=Yt(t.adler,n.pending_buf,n.pending-i,i)),hs(t),i=n.pending,n.pending===n.pending_buf_size)){s=1;break}s=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,dt(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=Yt(t.adler,n.pending_buf,n.pending-i,i)),s===0&&(n.status=gu)}else n.status=gu;if(n.status===gu&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&hs(t),n.pending+2<=n.pending_buf_size&&(dt(n,255&t.adler),dt(n,t.adler>>8&255),t.adler=0,n.status=B0)):n.status=B0),n.pending!==0){if(hs(t),t.avail_out===0)return n.last_flush=-1,gt}else if(t.avail_in===0&&R2(e)<=R2(r)&&e!==Zt)return ks(t,uc);if(n.status===qa&&t.avail_in!==0)return ks(t,uc);if(t.avail_in!==0||n.lookahead!==0||e!==pi&&n.status!==qa){var o=n.strategy===Nl?function(a,c){let l;for(;;){if(a.lookahead===0&&(j0(a),a.lookahead===0)){if(c===pi)return Jt;break}if(a.match_length=0,l=Is(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++,l&&(rr(a,!1),a.strm.avail_out===0))return Jt}return a.insert=0,c===Zt?(rr(a,!0),a.strm.avail_out===0?D0:$o):a.last_lit&&(rr(a,!1),a.strm.avail_out===0)?Jt:dc}(n,e):n.strategy===dT?function(a,c){let l,u,f,x;const h=a.window;for(;;){if(a.lookahead<=Ds){if(j0(a),a.lookahead<=Ds&&c===pi)return Jt;if(a.lookahead===0)break}if(a.match_length=0,a.lookahead>=at&&a.strstart>0&&(f=a.strstart-1,u=h[f],u===h[++f]&&u===h[++f]&&u===h[++f])){x=a.strstart+Ds;do;while(u===h[++f]&&u===h[++f]&&u===h[++f]&&u===h[++f]&&u===h[++f]&&u===h[++f]&&u===h[++f]&&u===h[++f]&&f<x);a.match_length=Ds-(x-f),a.match_length>a.lookahead&&(a.match_length=a.lookahead)}if(a.match_length>=at?(l=Is(a,1,a.match_length-at),a.lookahead-=a.match_length,a.strstart+=a.match_length,a.match_length=0):(l=Is(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++),l&&(rr(a,!1),a.strm.avail_out===0))return Jt}return a.insert=0,c===Zt?(rr(a,!0),a.strm.avail_out===0?D0:$o):a.last_lit&&(rr(a,!1),a.strm.avail_out===0)?Jt:dc}(n,e):Wa[n.level].func(n,e);if(o!==D0&&o!==$o||(n.status=qa),o===Jt||o===D0)return t.avail_out===0&&(n.last_flush=-1),gt;if(o===dc&&(e===lT?yT(n):e!==lh&&(vg(n,0,0,!1),e===uT&&(As(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),hs(t),t.avail_out===0))return n.last_flush=-1,gt}return e!==Zt?gt:n.wrap<=0?Oi:(n.wrap===2?(dt(n,255&t.adler),dt(n,t.adler>>8&255),dt(n,t.adler>>16&255),dt(n,t.adler>>24&255),dt(n,255&t.total_in),dt(n,t.total_in>>8&255),dt(n,t.total_in>>16&255),dt(n,t.total_in>>24&255)):(Ma(n,t.adler>>>16),Ma(n,65535&t.adler)),hs(t),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?gt:Oi)}try{String.fromCharCode.call(null,0)}catch{}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{}const dh=new ii(256);for(let t=0;t<256;t++)dh[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;function xh(t){let e,r,n,i,s=0;const o=t.length;for(n=0;n<o;n++)e=t.charCodeAt(n),(64512&e)==55296&&n+1<o&&(r=t.charCodeAt(n+1),(64512&r)==56320&&(e=65536+(e-55296<<10)+(r-56320),n++)),s+=e<128?1:e<2048?2:e<65536?3:4;const a=new ii(s);for(i=0,n=0;i<s;n++)e=t.charCodeAt(n),(64512&e)==55296&&n+1<o&&(r=t.charCodeAt(n+1),(64512&r)==56320&&(e=65536+(e-55296<<10)+(r-56320),n++)),e<128?a[i++]=e:e<2048?(a[i++]=192|e>>>6,a[i++]=128|63&e):e<65536?(a[i++]=224|e>>>12,a[i++]=128|e>>>6&63,a[i++]=128|63&e):(a[i++]=240|e>>>18,a[i++]=128|e>>>12&63,a[i++]=128|e>>>6&63,a[i++]=128|63&e);return a}dh[254]=dh[254]=1;class wg{constructor(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}}class hh{constructor(e){this.options={level:A2,method:oa,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,...e||{}};const r=this.options;r.raw&&r.windowBits>0?r.windowBits=-r.windowBits:r.gzip&&r.windowBits>0&&r.windowBits<16&&(r.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new wg,this.strm.avail_out=0;var n,i,s=function(o,a,c,l,u,f){if(!o)return Nt;let x=1;if(a===A2&&(a=6),l<0?(x=0,l=-l):l>15&&(x=2,l-=16),u<1||u>CT||c!==oa||l<8||l>15||a<0||a>9||f<0||f>dg)return ks(o,Nt);l===8&&(l=9);const h=new wT;return o.state=h,h.strm=o,h.wrap=x,h.gzhead=null,h.w_bits=l,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=u+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+at-1)/at),h.window=new ii(2*h.w_size),h.head=new un(h.hash_size),h.prev=new un(h.w_size),h.lit_bufsize=1<<u+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new ii(h.pending_buf_size),h.d_buf=1*h.lit_bufsize,h.l_buf=3*h.lit_bufsize,h.level=a,h.strategy=f,h.method=c,BT(o)}(this.strm,r.level,r.method,r.windowBits,r.memLevel,r.strategy);if(s!==gt)throw Error(Mc[s]);if(r.header&&(n=this.strm,i=r.header,n&&n.state&&(n.state.wrap!==2||(n.state.gzhead=i))),r.dictionary){let o;if(o=typeof r.dictionary=="string"?xh(r.dictionary):r.dictionary instanceof ArrayBuffer?new Uint8Array(r.dictionary):r.dictionary,s=function(a,c){let l,u,f,x,h,C,w,k,O=c.length;if(!a||!a.state||(l=a.state,x=l.wrap,x===2||x===1&&l.status!==of||l.lookahead))return Nt;for(x===1&&(a.adler=Tc(a.adler,c,O,0)),l.wrap=0,O>=l.w_size&&(x===0&&(As(l.head),l.strstart=0,l.block_start=0,l.insert=0),k=new ii(l.w_size),hi(k,c,O-l.w_size,l.w_size,0),c=k,O=l.w_size),h=a.avail_in,C=a.next_in,w=a.input,a.avail_in=O,a.next_in=0,a.input=c,j0(l);l.lookahead>=at;){u=l.strstart,f=l.lookahead-(at-1);do l.ins_h=(l.ins_h<<l.hash_shift^l.window[u+at-1])&l.hash_mask,l.prev[u&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=u,u++;while(--f);l.strstart=u,l.lookahead=at-1,j0(l)}return l.strstart+=l.lookahead,l.block_start=l.strstart,l.insert=l.lookahead,l.lookahead=0,l.match_length=l.prev_length=at-1,l.match_available=0,a.next_in=C,a.input=w,a.avail_in=h,l.wrap=x,gt}(this.strm,o),s!==gt)throw Error(Mc[s]);this._dict_set=!0}}push(e,r){const{strm:n,options:{chunkSize:i}}=this;var s,o;if(this.ended)return!1;o=r===~~r?r:r===!0?Zt:pi,typeof e=="string"?n.input=xh(e):e instanceof ArrayBuffer?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;do{if(n.avail_out===0&&(n.output=new ii(i),n.next_out=0,n.avail_out=i),(s=DT(n,o))!==Oi&&s!==gt)return this.onEnd(s),this.ended=!0,!1;n.avail_out!==0&&(n.avail_in!==0||o!==Zt&&o!==Dc)||this.onData(ag(n.output,n.next_out))}while((n.avail_in>0||n.avail_out===0)&&s!==Oi);return o===Zt?(s=function(a){let c;return a&&a.state?(c=a.state.status,c!==of&&c!==fh&&c!==pu&&c!==mu&&c!==gu&&c!==B0&&c!==qa?ks(a,Nt):(a.state=null,c===B0?ks(a,u9):gt)):Nt}(this.strm),this.onEnd(s),this.ended=!0,s===gt):o!==Dc||(this.onEnd(gt),n.avail_out=0,!0)}onData(e){this.chunks.push(e)}onEnd(e){e===gt&&(this.result=ug(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg}}const Kl=30,kT=12;function FT(t,e){let r,n,i,s,o,a,c,l,u,f;const x=t.state;r=t.next_in;const h=t.input,C=r+(t.avail_in-5);n=t.next_out;const w=t.output,k=n-(e-t.avail_out),O=n+(t.avail_out-257),z=x.dmax,P=x.wsize,A=x.whave,T=x.wnext,F=x.window;i=x.hold,s=x.bits;const R=x.lencode,d=x.distcode,p=(1<<x.lenbits)-1,_=(1<<x.distbits)-1;e:do{s<15&&(i+=h[r++]<<s,s+=8,i+=h[r++]<<s,s+=8),o=R[i&p];t:for(;;){if(a=o>>>24,i>>>=a,s-=a,a=o>>>16&255,a===0)w[n++]=65535&o;else{if(!(16&a)){if(!(64&a)){o=R[(65535&o)+(i&(1<<a)-1)];continue t}if(32&a){x.mode=kT;break e}t.msg="invalid literal/length code",x.mode=Kl;break e}c=65535&o,a&=15,a&&(s<a&&(i+=h[r++]<<s,s+=8),c+=i&(1<<a)-1,i>>>=a,s-=a),s<15&&(i+=h[r++]<<s,s+=8,i+=h[r++]<<s,s+=8),o=d[i&_];r:for(;;){if(a=o>>>24,i>>>=a,s-=a,a=o>>>16&255,!(16&a)){if(!(64&a)){o=d[(65535&o)+(i&(1<<a)-1)];continue r}t.msg="invalid distance code",x.mode=Kl;break e}if(l=65535&o,a&=15,s<a&&(i+=h[r++]<<s,s+=8,s<a&&(i+=h[r++]<<s,s+=8)),l+=i&(1<<a)-1,l>z){t.msg="invalid distance too far back",x.mode=Kl;break e}if(i>>>=a,s-=a,a=n-k,l>a){if(a=l-a,a>A&&x.sane){t.msg="invalid distance too far back",x.mode=Kl;break e}if(u=0,f=F,T===0){if(u+=P-a,a<c){c-=a;do w[n++]=F[u++];while(--a);u=n-l,f=w}}else if(T<a){if(u+=P+T-a,a-=T,a<c){c-=a;do w[n++]=F[u++];while(--a);if(u=0,T<c){a=T,c-=a;do w[n++]=F[u++];while(--a);u=n-l,f=w}}}else if(u+=T-a,a<c){c-=a;do w[n++]=F[u++];while(--a);u=n-l,f=w}for(;c>2;)w[n++]=f[u++],w[n++]=f[u++],w[n++]=f[u++],c-=3;c&&(w[n++]=f[u++],c>1&&(w[n++]=f[u++]))}else{u=n-l;do w[n++]=w[u++],w[n++]=w[u++],w[n++]=w[u++],c-=3;while(c>2);c&&(w[n++]=w[u++],c>1&&(w[n++]=w[u++]))}break}}break}}while(r<C&&n<O);c=s>>3,r-=c,s-=c<<3,i&=(1<<s)-1,t.next_in=r,t.next_out=n,t.avail_in=r<C?C-r+5:5-(r-C),t.avail_out=n<O?O-n+257:257-(n-O),x.hold=i,x.bits=s}const ho=15,O2=852,L2=592,N2=0,Tx=1,K2=2,ST=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],PT=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],TT=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],MT=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];function xc(t,e,r,n,i,s,o,a){const c=a.bits;let l,u,f,x,h,C=0,w=0,k=0,O=0,z=0,P=0,A=0,T=0,F=0,R=0,d=null,p=0;const _=new un(ho+1),b=new un(ho+1);let m,E,S,Q=null,Z=0;for(C=0;C<=ho;C++)_[C]=0;for(w=0;w<n;w++)_[e[r+w]]++;for(z=c,O=ho;O>=1&&_[O]===0;O--);if(z>O&&(z=O),O===0)return i[s++]=20971520,i[s++]=20971520,a.bits=1,0;for(k=1;k<O&&_[k]===0;k++);for(z<k&&(z=k),T=1,C=1;C<=ho;C++)if(T<<=1,T-=_[C],T<0)return-1;if(T>0&&(t===N2||O!==1))return-1;for(b[1]=0,C=1;C<ho;C++)b[C+1]=b[C]+_[C];for(w=0;w<n;w++)e[r+w]!==0&&(o[b[e[r+w]]++]=w);t===N2?(d=Q=o,h=19):t===Tx?(d=ST,p-=257,Q=PT,Z-=257,h=256):(d=TT,Q=MT,h=-1),R=0,w=0,C=k,x=s,P=z,A=0,f=-1,F=1<<z;const M=F-1;if(t===Tx&&F>O2||t===K2&&F>L2)return 1;for(;;){m=C-A,o[w]<h?(E=0,S=o[w]):o[w]>h?(E=Q[Z+o[w]],S=d[p+o[w]]):(E=96,S=0),l=1<<C-A,u=1<<P,k=u;do u-=l,i[x+(R>>A)+u]=m<<24|E<<16|S|0;while(u!==0);for(l=1<<C-1;R&l;)l>>=1;if(l!==0?(R&=l-1,R+=l):R=0,w++,--_[C]==0){if(C===O)break;C=e[r+o[w]]}if(C>z&&(R&M)!==f){for(A===0&&(A=z),x+=k,P=C-A,T=1<<P;P+A<O&&(T-=_[P+A],!(T<=0));)P++,T<<=1;if(F+=1<<P,t===Tx&&F>O2||t===K2&&F>L2)return 1;f=R&M,i[f]=z<<24|P<<16|x-s|0}}return R!==0&&(i[x+R]=C-A<<24|64<<16|0),a.bits=z,0}const IT=0,Bg=1,Dg=2,kg=1,U2=2,$2=3,z2=4,j2=5,H2=6,V2=7,q2=8,W2=9,G2=10,af=11,Bi=12,Mx=13,Y2=14,Ix=15,J2=16,X2=17,Q2=18,Z2=19,Ul=20,$l=21,ep=22,tp=23,rp=24,np=25,ip=26,Rx=27,sp=28,op=29,Bt=30,RT=852,OT=592;function ap(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}class LT{constructor(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new un(320),this.work=new un(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}}function NT(t){let e;return t&&t.state?(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,function(r){let n;return r&&r.state?(n=r.state,r.total_in=r.total_out=n.total=0,r.msg="",n.wrap&&(r.adler=1&n.wrap),n.mode=kg,n.last=0,n.havedict=0,n.dmax=32768,n.head=null,n.hold=0,n.bits=0,n.lencode=n.lendyn=new nf(RT),n.distcode=n.distdyn=new nf(OT),n.sane=1,n.back=-1,gt):Nt}(t)):Nt}function KT(t,e){let r,n;return t?(n=new LT,t.state=n,n.window=null,r=function(i,s){let o,a;return i&&i.state?(a=i.state,s<0?(o=0,s=-s):(o=1+(s>>4),s<48&&(s&=15)),s&&(s<8||s>15)?Nt:(a.window!==null&&a.wbits!==s&&(a.window=null),a.wrap=o,a.wbits=s,NT(i))):Nt}(t,e),r!==gt&&(t.state=null),r):Nt}let Ox,Lx,cp=!0;function UT(t){if(cp){let e;for(Ox=new nf(512),Lx=new nf(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(xc(Bg,t.lens,0,288,Ox,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;xc(Dg,t.lens,0,32,Lx,0,t.work,{bits:5}),cp=!1}t.lencode=Ox,t.lenbits=9,t.distcode=Lx,t.distbits=5}function Fg(t,e,r,n){let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new ii(s.wsize)),n>=s.wsize?(hi(s.window,e,r-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),hi(s.window,e,r-n,i,s.wnext),(n-=i)?(hi(s.window,e,r-n,n,0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0}function $T(t,e){let r,n,i,s,o,a,c,l,u,f,x,h,C,w,k,O,z,P,A,T,F,R,d,p,_=0,b=new ii(4);const m=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&t.avail_in!==0)return Nt;r=t.state,r.mode===Bi&&(r.mode=Mx),o=t.next_out,i=t.output,c=t.avail_out,s=t.next_in,n=t.input,a=t.avail_in,l=r.hold,u=r.bits,f=a,x=c,R=gt;e:for(;;)switch(r.mode){case kg:if(r.wrap===0){r.mode=Mx;break}for(;u<16;){if(a===0)break e;a--,l+=n[s++]<<u,u+=8}if(2&r.wrap&&l===35615){r.check=0,b[0]=255&l,b[1]=l>>>8&255,r.check=Yt(r.check,b,2,0),l=0,u=0,r.mode=U2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&l)<<8)+(l>>8))%31){t.msg="incorrect header check",r.mode=Bt;break}if((15&l)!==oa){t.msg="unknown compression method",r.mode=Bt;break}if(l>>>=4,u-=4,F=8+(15&l),r.wbits===0)r.wbits=F;else if(F>r.wbits){t.msg="invalid window size",r.mode=Bt;break}r.dmax=1<<F,t.adler=r.check=1,r.mode=512&l?G2:Bi,l=0,u=0;break;case U2:for(;u<16;){if(a===0)break e;a--,l+=n[s++]<<u,u+=8}if(r.flags=l,(255&r.flags)!==oa){t.msg="unknown compression method",r.mode=Bt;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=Bt;break}r.head&&(r.head.text=l>>8&1),512&r.flags&&(b[0]=255&l,b[1]=l>>>8&255,r.check=Yt(r.check,b,2,0)),l=0,u=0,r.mode=$2;case $2:for(;u<32;){if(a===0)break e;a--,l+=n[s++]<<u,u+=8}r.head&&(r.head.time=l),512&r.flags&&(b[0]=255&l,b[1]=l>>>8&255,b[2]=l>>>16&255,b[3]=l>>>24&255,r.check=Yt(r.check,b,4,0)),l=0,u=0,r.mode=z2;case z2:for(;u<16;){if(a===0)break e;a--,l+=n[s++]<<u,u+=8}r.head&&(r.head.xflags=255&l,r.head.os=l>>8),512&r.flags&&(b[0]=255&l,b[1]=l>>>8&255,r.check=Yt(r.check,b,2,0)),l=0,u=0,r.mode=j2;case j2:if(1024&r.flags){for(;u<16;){if(a===0)break e;a--,l+=n[s++]<<u,u+=8}r.length=l,r.head&&(r.head.extra_len=l),512&r.flags&&(b[0]=255&l,b[1]=l>>>8&255,r.check=Yt(r.check,b,2,0)),l=0,u=0}else r.head&&(r.head.extra=null);r.mode=H2;case H2:if(1024&r.flags&&(h=r.length,h>a&&(h=a),h&&(r.head&&(F=r.head.extra_len-r.length,r.head.extra||(r.head.extra=Array(r.head.extra_len)),hi(r.head.extra,n,s,h,F)),512&r.flags&&(r.check=Yt(r.check,n,h,s)),a-=h,s+=h,r.length-=h),r.length))break e;r.length=0,r.mode=V2;case V2:if(2048&r.flags){if(a===0)break e;h=0;do F=n[s+h++],r.head&&F&&r.length<65536&&(r.head.name+=String.fromCharCode(F));while(F&&h<a);if(512&r.flags&&(r.check=Yt(r.check,n,h,s)),a-=h,s+=h,F)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=q2;case q2:if(4096&r.flags){if(a===0)break e;h=0;do F=n[s+h++],r.head&&F&&r.length<65536&&(r.head.comment+=String.fromCharCode(F));while(F&&h<a);if(512&r.flags&&(r.check=Yt(r.check,n,h,s)),a-=h,s+=h,F)break e}else r.head&&(r.head.comment=null);r.mode=W2;case W2:if(512&r.flags){for(;u<16;){if(a===0)break e;a--,l+=n[s++]<<u,u+=8}if(l!==(65535&r.check)){t.msg="header crc mismatch",r.mode=Bt;break}l=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Bi;break;case G2:for(;u<32;){if(a===0)break e;a--,l+=n[s++]<<u,u+=8}t.adler=r.check=ap(l),l=0,u=0,r.mode=af;case af:if(r.havedict===0)return t.next_out=o,t.avail_out=c,t.next_in=s,t.avail_in=a,r.hold=l,r.bits=u,fg;t.adler=r.check=1,r.mode=Bi;case Bi:if(e===lh||e===Ll)break e;case Mx:if(r.last){l>>>=7&u,u-=7&u,r.mode=Rx;break}for(;u<3;){if(a===0)break e;a--,l+=n[s++]<<u,u+=8}switch(r.last=1&l,l>>>=1,u-=1,3&l){case 0:r.mode=Y2;break;case 1:if(UT(r),r.mode=Ul,e===Ll){l>>>=2,u-=2;break e}break;case 2:r.mode=X2;break;case 3:t.msg="invalid block type",r.mode=Bt}l>>>=2,u-=2;break;case Y2:for(l>>>=7&u,u-=7&u;u<32;){if(a===0)break e;a--,l+=n[s++]<<u,u+=8}if((65535&l)!=(l>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Bt;break}if(r.length=65535&l,l=0,u=0,r.mode=Ix,e===Ll)break e;case Ix:r.mode=J2;case J2:if(h=r.length,h){if(h>a&&(h=a),h>c&&(h=c),h===0)break e;hi(i,n,s,h,o),a-=h,s+=h,c-=h,o+=h,r.length-=h;break}r.mode=Bi;break;case X2:for(;u<14;){if(a===0)break e;a--,l+=n[s++]<<u,u+=8}if(r.nlen=257+(31&l),l>>>=5,u-=5,r.ndist=1+(31&l),l>>>=5,u-=5,r.ncode=4+(15&l),l>>>=4,u-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Bt;break}r.have=0,r.mode=Q2;case Q2:for(;r.have<r.ncode;){for(;u<3;){if(a===0)break e;a--,l+=n[s++]<<u,u+=8}r.lens[m[r.have++]]=7&l,l>>>=3,u-=3}for(;r.have<19;)r.lens[m[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,d={bits:r.lenbits},R=xc(IT,r.lens,0,19,r.lencode,0,r.work,d),r.lenbits=d.bits,R){t.msg="invalid code lengths set",r.mode=Bt;break}r.have=0,r.mode=Z2;case Z2:for(;r.have<r.nlen+r.ndist;){for(;_=r.lencode[l&(1<<r.lenbits)-1],k=_>>>24,O=_>>>16&255,z=65535&_,!(k<=u);){if(a===0)break e;a--,l+=n[s++]<<u,u+=8}if(z<16)l>>>=k,u-=k,r.lens[r.have++]=z;else{if(z===16){for(p=k+2;u<p;){if(a===0)break e;a--,l+=n[s++]<<u,u+=8}if(l>>>=k,u-=k,r.have===0){t.msg="invalid bit length repeat",r.mode=Bt;break}F=r.lens[r.have-1],h=3+(3&l),l>>>=2,u-=2}else if(z===17){for(p=k+3;u<p;){if(a===0)break e;a--,l+=n[s++]<<u,u+=8}l>>>=k,u-=k,F=0,h=3+(7&l),l>>>=3,u-=3}else{for(p=k+7;u<p;){if(a===0)break e;a--,l+=n[s++]<<u,u+=8}l>>>=k,u-=k,F=0,h=11+(127&l),l>>>=7,u-=7}if(r.have+h>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Bt;break}for(;h--;)r.lens[r.have++]=F}}if(r.mode===Bt)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Bt;break}if(r.lenbits=9,d={bits:r.lenbits},R=xc(Bg,r.lens,0,r.nlen,r.lencode,0,r.work,d),r.lenbits=d.bits,R){t.msg="invalid literal/lengths set",r.mode=Bt;break}if(r.distbits=6,r.distcode=r.distdyn,d={bits:r.distbits},R=xc(Dg,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,d),r.distbits=d.bits,R){t.msg="invalid distances set",r.mode=Bt;break}if(r.mode=Ul,e===Ll)break e;case Ul:r.mode=$l;case $l:if(a>=6&&c>=258){t.next_out=o,t.avail_out=c,t.next_in=s,t.avail_in=a,r.hold=l,r.bits=u,FT(t,x),o=t.next_out,i=t.output,c=t.avail_out,s=t.next_in,n=t.input,a=t.avail_in,l=r.hold,u=r.bits,r.mode===Bi&&(r.back=-1);break}for(r.back=0;_=r.lencode[l&(1<<r.lenbits)-1],k=_>>>24,O=_>>>16&255,z=65535&_,!(k<=u);){if(a===0)break e;a--,l+=n[s++]<<u,u+=8}if(O&&!(240&O)){for(P=k,A=O,T=z;_=r.lencode[T+((l&(1<<P+A)-1)>>P)],k=_>>>24,O=_>>>16&255,z=65535&_,!(P+k<=u);){if(a===0)break e;a--,l+=n[s++]<<u,u+=8}l>>>=P,u-=P,r.back+=P}if(l>>>=k,u-=k,r.back+=k,r.length=z,O===0){r.mode=ip;break}if(32&O){r.back=-1,r.mode=Bi;break}if(64&O){t.msg="invalid literal/length code",r.mode=Bt;break}r.extra=15&O,r.mode=ep;case ep:if(r.extra){for(p=r.extra;u<p;){if(a===0)break e;a--,l+=n[s++]<<u,u+=8}r.length+=l&(1<<r.extra)-1,l>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=tp;case tp:for(;_=r.distcode[l&(1<<r.distbits)-1],k=_>>>24,O=_>>>16&255,z=65535&_,!(k<=u);){if(a===0)break e;a--,l+=n[s++]<<u,u+=8}if(!(240&O)){for(P=k,A=O,T=z;_=r.distcode[T+((l&(1<<P+A)-1)>>P)],k=_>>>24,O=_>>>16&255,z=65535&_,!(P+k<=u);){if(a===0)break e;a--,l+=n[s++]<<u,u+=8}l>>>=P,u-=P,r.back+=P}if(l>>>=k,u-=k,r.back+=k,64&O){t.msg="invalid distance code",r.mode=Bt;break}r.offset=z,r.extra=15&O,r.mode=rp;case rp:if(r.extra){for(p=r.extra;u<p;){if(a===0)break e;a--,l+=n[s++]<<u,u+=8}r.offset+=l&(1<<r.extra)-1,l>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Bt;break}r.mode=np;case np:if(c===0)break e;if(h=x-c,r.offset>h){if(h=r.offset-h,h>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Bt;break}h>r.wnext?(h-=r.wnext,C=r.wsize-h):C=r.wnext-h,h>r.length&&(h=r.length),w=r.window}else w=i,C=o-r.offset,h=r.length;h>c&&(h=c),c-=h,r.length-=h;do i[o++]=w[C++];while(--h);r.length===0&&(r.mode=$l);break;case ip:if(c===0)break e;i[o++]=r.length,c--,r.mode=$l;break;case Rx:if(r.wrap){for(;u<32;){if(a===0)break e;a--,l|=n[s++]<<u,u+=8}if(x-=c,t.total_out+=x,r.total+=x,x&&(t.adler=r.check=r.flags?Yt(r.check,i,x,o-x):Tc(r.check,i,x,o-x)),x=c,(r.flags?l:ap(l))!==r.check){t.msg="incorrect data check",r.mode=Bt;break}l=0,u=0}r.mode=sp;case sp:if(r.wrap&&r.flags){for(;u<32;){if(a===0)break e;a--,l+=n[s++]<<u,u+=8}if(l!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=Bt;break}l=0,u=0}r.mode=op;case op:R=Oi;break e;case Bt:R=u9;break e;default:return Nt}return t.next_out=o,t.avail_out=c,t.next_in=s,t.avail_in=a,r.hold=l,r.bits=u,(r.wsize||x!==t.avail_out&&r.mode<Bt&&(r.mode<Rx||e!==Zt))&&Fg(t,t.output,t.next_out,x-t.avail_out),f-=t.avail_in,x-=t.avail_out,t.total_in+=f,t.total_out+=x,r.total+=x,r.wrap&&x&&(t.adler=r.check=r.flags?Yt(r.check,i,x,t.next_out-x):Tc(r.check,i,x,t.next_out-x)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Bi?128:0)+(r.mode===Ul||r.mode===Ix?256:0),(f===0&&x===0||e===Zt)&&R===gt&&(R=uc),R}function lp(t,e){const r=e.length;let n,i;return t&&t.state?(n=t.state,n.wrap!==0&&n.mode!==af?Nt:n.mode===af&&(i=1,i=Tc(i,e,r,0),i!==n.check)?u9:(Fg(t,e,r,r),n.havedict=1,gt)):Nt}class zT{constructor(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}}class up{constructor(e){this.options={chunkSize:16384,windowBits:0,...e||{}};const r=this.options;r.raw&&r.windowBits>=0&&r.windowBits<16&&(r.windowBits=-r.windowBits,r.windowBits===0&&(r.windowBits=-15)),!(r.windowBits>=0&&r.windowBits<16)||e&&e.windowBits||(r.windowBits+=32),r.windowBits>15&&r.windowBits<48&&!(15&r.windowBits)&&(r.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new wg,this.strm.avail_out=0;let n=KT(this.strm,r.windowBits);if(n!==gt||(this.header=new zT,function(i,s){let o;i&&i.state&&(o=i.state,!(2&o.wrap)||(o.head=s,s.done=!1))}(this.strm,this.header),r.dictionary&&(typeof r.dictionary=="string"?r.dictionary=xh(r.dictionary):r.dictionary instanceof ArrayBuffer&&(r.dictionary=new Uint8Array(r.dictionary)),r.raw&&(n=lp(this.strm,r.dictionary),n!==gt))))throw Error(Mc[n])}push(e,r){const{strm:n,options:{chunkSize:i,dictionary:s}}=this;let o,a,c=!1;if(this.ended)return!1;a=r===~~r?r:r===!0?Zt:pi,typeof e=="string"?n.input=function(l){const u=new ii(l.length);for(let f=0,x=u.length;f<x;f++)u[f]=l.charCodeAt(f);return u}(e):e instanceof ArrayBuffer?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;do{if(n.avail_out===0&&(n.output=new ii(i),n.next_out=0,n.avail_out=i),o=$T(n,pi),o===fg&&s&&(o=lp(this.strm,s)),o===uc&&c===!0&&(o=gt,c=!1),o!==Oi&&o!==gt)return this.onEnd(o),this.ended=!0,!1;n.next_out&&(n.avail_out!==0&&o!==Oi&&(n.avail_in!==0||a!==Zt&&a!==Dc)||this.onData(ag(n.output,n.next_out))),n.avail_in===0&&n.avail_out===0&&(c=!0)}while((n.avail_in>0||n.avail_out===0)&&o!==Oi);return o===Oi&&(a=Zt),a===Zt?(o=function(l){if(!l||!l.state)return Nt;const u=l.state;return u.window&&(u.window=null),l.state=null,gt}(this.strm),this.onEnd(o),this.ended=!0,o===gt):a!==Dc||(this.onEnd(gt),n.avail_out=0,!0)}onData(e){this.chunks.push(e)}onEnd(e){e===gt&&(this.result=ug(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg}}var fp=[0,1,3,7,15,31,63,127,255],Ga=function(t){this.stream=t,this.bitOffset=0,this.curByte=0,this.hasByte=!1};Ga.prototype._ensureByte=function(){this.hasByte||(this.curByte=this.stream.readByte(),this.hasByte=!0)},Ga.prototype.read=function(t){for(var e=0;t>0;){this._ensureByte();var r=8-this.bitOffset;if(t>=r)e<<=r,e|=fp[r]&this.curByte,this.hasByte=!1,this.bitOffset=0,t-=r;else{e<<=t;var n=r-t;e|=(this.curByte&fp[t]<<n)>>n,this.bitOffset+=t,t=0}}return e},Ga.prototype.seek=function(t){var e=t%8,r=(t-e)/8;this.bitOffset=e,this.stream.seek(r),this.hasByte=!1},Ga.prototype.pi=function(){var t,e=new Uint8Array(6);for(t=0;t<e.length;t++)e[t]=this.read(8);return function(r){return Array.prototype.map.call(r,n=>("00"+n.toString(16)).slice(-2)).join("")}(e)};var jT=Ga,d0=function(){};d0.prototype.readByte=function(){throw Error("abstract method readByte() not implemented")},d0.prototype.read=function(t,e,r){for(var n=0;n<r;){var i=this.readByte();if(i<0)return n===0?-1:n;t[e++]=i,n++}return n},d0.prototype.seek=function(t){throw Error("abstract method seek() not implemented")},d0.prototype.writeByte=function(t){throw Error("abstract method readByte() not implemented")},d0.prototype.write=function(t,e,r){var n;for(n=0;n<r;n++)this.writeByte(t[e++]);return r},d0.prototype.flush=function(){};var Nx,Sg=d0,HT=(Nx=new Uint32Array([0,79764919,159529838,222504665,319059676,398814059,445009330,507990021,638119352,583659535,797628118,726387553,890018660,835552979,1015980042,944750013,1276238704,1221641927,1167319070,1095957929,1595256236,1540665371,1452775106,1381403509,1780037320,1859660671,1671105958,1733955601,2031960084,2111593891,1889500026,1952343757,2552477408,2632100695,2443283854,2506133561,2334638140,2414271883,2191915858,2254759653,3190512472,3135915759,3081330742,3009969537,2905550212,2850959411,2762807018,2691435357,3560074640,3505614887,3719321342,3648080713,3342211916,3287746299,3467911202,3396681109,4063920168,4143685023,4223187782,4286162673,3779000052,3858754371,3904687514,3967668269,881225847,809987520,1023691545,969234094,662832811,591600412,771767749,717299826,311336399,374308984,453813921,533576470,25881363,88864420,134795389,214552010,2023205639,2086057648,1897238633,1976864222,1804852699,1867694188,1645340341,1724971778,1587496639,1516133128,1461550545,1406951526,1302016099,1230646740,1142491917,1087903418,2896545431,2825181984,2770861561,2716262478,3215044683,3143675388,3055782693,3001194130,2326604591,2389456536,2200899649,2280525302,2578013683,2640855108,2418763421,2498394922,3769900519,3832873040,3912640137,3992402750,4088425275,4151408268,4197601365,4277358050,3334271071,3263032808,3476998961,3422541446,3585640067,3514407732,3694837229,3640369242,1762451694,1842216281,1619975040,1682949687,2047383090,2127137669,1938468188,2001449195,1325665622,1271206113,1183200824,1111960463,1543535498,1489069629,1434599652,1363369299,622672798,568075817,748617968,677256519,907627842,853037301,1067152940,995781531,51762726,131386257,177728840,240578815,269590778,349224269,429104020,491947555,4046411278,4126034873,4172115296,4234965207,3794477266,3874110821,3953728444,4016571915,3609705398,3555108353,3735388376,3664026991,3290680682,3236090077,3449943556,3378572211,3174993278,3120533705,3032266256,2961025959,2923101090,2868635157,2813903052,2742672763,2604032198,2683796849,2461293480,2524268063,2284983834,2364738477,2175806836,2238787779,1569362073,1498123566,1409854455,1355396672,1317987909,1246755826,1192025387,1137557660,2072149281,2135122070,1912620623,1992383480,1753615357,1816598090,1627664531,1707420964,295390185,358241886,404320391,483945776,43990325,106832002,186451547,266083308,932423249,861060070,1041341759,986742920,613929101,542559546,756411363,701822548,3316196985,3244833742,3425377559,3370778784,3601682597,3530312978,3744426955,3689838204,3819031489,3881883254,3928223919,4007849240,4037393693,4100235434,4180117107,4259748804,2310601993,2373574846,2151335527,2231098320,2596047829,2659030626,2470359227,2550115596,2947551409,2876312838,2788305887,2733848168,3165939309,3094707162,3040238851,2985771188]),function(){var t=4294967295;this.getCRC=function(){return~t>>>0},this.updateCRC=function(e){t=t<<8^Nx[255&(t>>>24^e)]},this.updateCRCRun=function(e,r){for(;r-- >0;)t=t<<8^Nx[255&(t>>>24^e)]}}),dp=function(t,e){var r,n=t[e];for(r=e;r>0;r--)t[r]=t[r-1];return t[0]=n,n},Dt={OK:0,LAST_BLOCK:-1,NOT_BZIP_DATA:-2,UNEXPECTED_INPUT_EOF:-3,UNEXPECTED_OUTPUT_EOF:-4,DATA_ERROR:-5,OUT_OF_MEMORY:-6,OBSOLETE_INPUT:-7,END_OF_BLOCK:-8},ps={};ps[Dt.LAST_BLOCK]="Bad file checksum",ps[Dt.NOT_BZIP_DATA]="Not bzip data",ps[Dt.UNEXPECTED_INPUT_EOF]="Unexpected input EOF",ps[Dt.UNEXPECTED_OUTPUT_EOF]="Unexpected output EOF",ps[Dt.DATA_ERROR]="Data error",ps[Dt.OUT_OF_MEMORY]="Out of memory",ps[Dt.OBSOLETE_INPUT]="Obsolete (pre 0.9.5) bzip format not supported.";var tr=function(t,e){var r=ps[t]||"unknown error";e&&(r+=": "+e);var n=new TypeError(r);throw n.errorCode=t,n},Ya=function(t,e){this.writePos=this.writeCurrent=this.writeCount=0,this._start_bunzip(t,e)};Ya.prototype._init_block=function(){return this._get_next_block()?(this.blockCRC=new HT,!0):(this.writeCount=-1,!1)},Ya.prototype._start_bunzip=function(t,e){var r=new Uint8Array(4);t.read(r,0,4)===4&&String.fromCharCode(r[0],r[1],r[2])==="BZh"||tr(Dt.NOT_BZIP_DATA,"bad magic");var n=r[3]-48;(n<1||n>9)&&tr(Dt.NOT_BZIP_DATA,"level out of range"),this.reader=new jT(t),this.dbufSize=1e5*n,this.nextoutput=0,this.outputStream=e,this.streamCRC=0},Ya.prototype._get_next_block=function(){var t,e,r,n=this.reader,i=n.pi();if(i==="177245385090")return!1;i!=="314159265359"&&tr(Dt.NOT_BZIP_DATA),this.targetBlockCRC=n.read(32)>>>0,this.streamCRC=(this.targetBlockCRC^(this.streamCRC<<1|this.streamCRC>>>31))>>>0,n.read(1)&&tr(Dt.OBSOLETE_INPUT);var s=n.read(24);s>this.dbufSize&&tr(Dt.DATA_ERROR,"initial position out of bounds");var o=n.read(16),a=new Uint8Array(256),c=0;for(t=0;t<16;t++)if(o&1<<15-t){var l=16*t;for(r=n.read(16),e=0;e<16;e++)r&1<<15-e&&(a[c++]=l+e)}var u=n.read(3);(u<2||u>6)&&tr(Dt.DATA_ERROR);var f=n.read(15);f===0&&tr(Dt.DATA_ERROR);var x=new Uint8Array(256);for(t=0;t<u;t++)x[t]=t;var h=new Uint8Array(f);for(t=0;t<f;t++){for(e=0;n.read(1);e++)e>=u&&tr(Dt.DATA_ERROR);h[t]=dp(x,e)}var C,w=c+2,k=[];for(e=0;e<u;e++){var O,z,P=new Uint8Array(w),A=new Uint16Array(21);for(o=n.read(5),t=0;t<w;t++){for(;(o<1||o>20)&&tr(Dt.DATA_ERROR),n.read(1);)n.read(1)?o--:o++;P[t]=o}for(O=z=P[0],t=1;t<w;t++)P[t]>z?z=P[t]:P[t]<O&&(O=P[t]);C={},k.push(C),C.permute=new Uint16Array(258),C.limit=new Uint32Array(22),C.base=new Uint32Array(21),C.minLen=O,C.maxLen=z;var T=0;for(t=O;t<=z;t++)for(A[t]=C.limit[t]=0,o=0;o<w;o++)P[o]===t&&(C.permute[T++]=o);for(t=0;t<w;t++)A[P[t]]++;for(T=o=0,t=O;t<z;t++)T+=A[t],C.limit[t]=T-1,T<<=1,o+=A[t],C.base[t+1]=T-o;C.limit[z+1]=Number.MAX_VALUE,C.limit[z]=T+A[z]-1,C.base[O]=0}var F=new Uint32Array(256);for(t=0;t<256;t++)x[t]=t;var R,d=0,p=0,_=0,b=this.dbuf=new Uint32Array(this.dbufSize);for(w=0;;){for(w--||(w=49,_>=f&&tr(Dt.DATA_ERROR),C=k[h[_++]]),t=C.minLen,e=n.read(t);t>C.maxLen&&tr(Dt.DATA_ERROR),!(e<=C.limit[t]);t++)e=e<<1|n.read(1);((e-=C.base[t])<0||e>=258)&&tr(Dt.DATA_ERROR);var m=C.permute[e];if(m!==0&&m!==1){if(d)for(d=0,p+o>this.dbufSize&&tr(Dt.DATA_ERROR),F[R=a[x[0]]]+=o;o--;)b[p++]=R;if(m>c)break;p>=this.dbufSize&&tr(Dt.DATA_ERROR),F[R=a[R=dp(x,t=m-1)]]++,b[p++]=R}else d||(d=1,o=0),o+=m===0?d:2*d,d<<=1}for((s<0||s>=p)&&tr(Dt.DATA_ERROR),e=0,t=0;t<256;t++)r=e+F[t],F[t]=e,e=r;for(t=0;t<p;t++)b[F[R=255&b[t]]]|=t<<8,F[R]++;var E=0,S=0,Q=0;return p&&(S=255&(E=b[s]),E>>=8,Q=-1),this.writePos=E,this.writeCurrent=S,this.writeCount=p,this.writeRun=Q,!0},Ya.prototype._read_bunzip=function(t,e){var r,n,i;if(this.writeCount<0)return 0;var s=this.dbuf,o=this.writePos,a=this.writeCurrent,c=this.writeCount;this.outputsize;for(var l=this.writeRun;c;){for(c--,n=a,a=255&(o=s[o]),o>>=8,l++==3?(r=a,i=n,a=-1):(r=1,i=a),this.blockCRC.updateCRCRun(i,r);r--;)this.outputStream.writeByte(i),this.nextoutput++;a!=n&&(l=0)}return this.writeCount=c,this.blockCRC.getCRC()!==this.targetBlockCRC&&tr(Dt.DATA_ERROR,"Bad block CRC (got "+this.blockCRC.getCRC().toString(16)+" expected "+this.targetBlockCRC.toString(16)+")"),this.nextoutput};var VT=function(t){if("readByte"in t)return t;var e=new Sg;return e.pos=0,e.readByte=function(){return t[this.pos++]},e.seek=function(r){this.pos=r},e.eof=function(){return this.pos>=t.length},e},qT=function(t){var e=new Sg,r=!0;if(t)if(typeof t=="number")e.buffer=new Uint8Array(t),r=!1;else{if("writeByte"in t)return t;e.buffer=t,r=!1}else e.buffer=new Uint8Array(16384);return e.pos=0,e.writeByte=function(n){if(r&&this.pos>=this.buffer.length){var i=new Uint8Array(2*this.buffer.length);i.set(this.buffer),this.buffer=i}this.buffer[this.pos++]=n},e.getBuffer=function(){if(this.pos!==this.buffer.length){if(!r)throw new TypeError("outputsize does not match decoded input");var n=new Uint8Array(this.pos);n.set(this.buffer.subarray(0,this.pos)),this.buffer=n}return this.buffer},e._coerced=!0,e},xp=function(t,e,r){for(var n=VT(t),i=qT(e),s=new Ya(n,i);!("eof"in n)||!n.eof();)if(s._init_block())s._read_bunzip();else{var o=s.reader.read(32)>>>0;if(o!==s.streamCRC&&tr(Dt.DATA_ERROR,"Bad stream CRC (got "+s.streamCRC.toString(16)+" expected "+o.toString(16)+")"),!r||!("eof"in n)||n.eof())break;s._start_bunzip(n,i)}if("getBuffer"in i)return i.getBuffer()};class va{static get tag(){return D.packet.literalData}constructor(e=new Date){this.format=D.literal.utf8,this.date=U.normalizeDate(e),this.text=null,this.data=null,this.filename=""}setText(e,r=D.literal.utf8){this.format=r,this.text=e,this.data=null}getText(e=!1){return(this.text===null||U.isStream(this.text))&&(this.text=U.decodeUTF8(U.nativeEOL(this.getBytes(e)))),this.text}setBytes(e,r){this.format=r,this.data=e,this.text=null}getBytes(e=!1){return this.data===null&&(this.data=U.canonicalizeEOL(U.encodeUTF8(this.text))),e?No(this.data):this.data}setFilename(e){this.filename=e}getFilename(){return this.filename}async read(e){await ld(e,async r=>{const n=await r.readByte(),i=await r.readByte();this.filename=U.decodeUTF8(await r.readBytes(i)),this.date=U.readDate(await r.readBytes(4));let s=r.remainder();Rt(s)&&(s=await Lt(s)),this.setBytes(s,n)})}writeHeader(){const e=U.encodeUTF8(this.filename),r=new Uint8Array([e.length]),n=new Uint8Array([this.format]),i=U.writeDate(this.date);return U.concatUint8Array([n,r,e,i])}write(){const e=this.writeHeader(),r=this.getBytes();return U.concat([e,r])}}const Ia=Symbol("verified"),WT=new Set([D.signatureSubpacket.issuer,D.signatureSubpacket.issuerFingerprint,D.signatureSubpacket.embeddedSignature]);class Br{static get tag(){return D.packet.signature}constructor(){this.version=null,this.signatureType=null,this.hashAlgorithm=null,this.publicKeyAlgorithm=null,this.signatureData=null,this.unhashedSubpackets=[],this.signedHashValue=null,this.created=null,this.signatureExpirationTime=null,this.signatureNeverExpires=!0,this.exportable=null,this.trustLevel=null,this.trustAmount=null,this.regularExpression=null,this.revocable=null,this.keyExpirationTime=null,this.keyNeverExpires=null,this.preferredSymmetricAlgorithms=null,this.revocationKeyClass=null,this.revocationKeyAlgorithm=null,this.revocationKeyFingerprint=null,this.issuerKeyID=new Hs,this.rawNotations=[],this.notations={},this.preferredHashAlgorithms=null,this.preferredCompressionAlgorithms=null,this.keyServerPreferences=null,this.preferredKeyServer=null,this.isPrimaryUserID=null,this.policyURI=null,this.keyFlags=null,this.signersUserID=null,this.reasonForRevocationFlag=null,this.reasonForRevocationString=null,this.features=null,this.signatureTargetPublicKeyAlgorithm=null,this.signatureTargetHashAlgorithm=null,this.signatureTargetHash=null,this.embeddedSignature=null,this.issuerKeyVersion=null,this.issuerFingerprint=null,this.preferredAEADAlgorithms=null,this.revoked=null,this[Ia]=null}read(e){let r=0;if(this.version=e[r++],this.version!==4&&this.version!==5)throw new kt(`Version ${this.version} of the signature packet is unsupported.`);if(this.signatureType=e[r++],this.publicKeyAlgorithm=e[r++],this.hashAlgorithm=e[r++],r+=this.readSubPackets(e.subarray(r,e.length),!0),!this.created)throw Error("Missing signature creation time subpacket.");this.signatureData=e.subarray(0,r),r+=this.readSubPackets(e.subarray(r,e.length),!1),this.signedHashValue=e.subarray(r,r+2),r+=2,this.params=Se.signature.parseSignatureParams(this.publicKeyAlgorithm,e.subarray(r,e.length))}writeParams(){return this.params instanceof Promise?Zs(async()=>Se.serializeParams(this.publicKeyAlgorithm,await this.params)):Se.serializeParams(this.publicKeyAlgorithm,this.params)}write(){const e=[];return e.push(this.signatureData),e.push(this.writeUnhashedSubPackets()),e.push(this.signedHashValue),e.push(this.writeParams()),U.concat(e)}async sign(e,r,n=new Date,i=!1){e.version===5?this.version=5:this.version=4;const s=[new Uint8Array([this.version,this.signatureType,this.publicKeyAlgorithm,this.hashAlgorithm])];this.created=U.normalizeDate(n),this.issuerKeyVersion=e.version,this.issuerFingerprint=e.getFingerprintBytes(),this.issuerKeyID=e.getKeyID(),s.push(this.writeHashedSubPackets()),this.unhashedSubpackets=[],this.signatureData=U.concat(s);const o=this.toHash(this.signatureType,r,i),a=await this.hash(this.signatureType,r,o,i);this.signedHashValue=nr(z0(a),0,2);const c=async()=>Se.signature.sign(this.publicKeyAlgorithm,this.hashAlgorithm,e.publicParams,e.privateParams,o,await Lt(a));U.isStream(a)?this.params=c():(this.params=await c(),this[Ia]=!0)}writeHashedSubPackets(){const e=D.signatureSubpacket,r=[];let n;if(this.created===null)throw Error("Missing signature creation time");r.push(Ct(e.signatureCreationTime,!0,U.writeDate(this.created))),this.signatureExpirationTime!==null&&r.push(Ct(e.signatureExpirationTime,!0,U.writeNumber(this.signatureExpirationTime,4))),this.exportable!==null&&r.push(Ct(e.exportableCertification,!0,new Uint8Array([this.exportable?1:0]))),this.trustLevel!==null&&(n=new Uint8Array([this.trustLevel,this.trustAmount]),r.push(Ct(e.trustSignature,!0,n))),this.regularExpression!==null&&r.push(Ct(e.regularExpression,!0,this.regularExpression)),this.revocable!==null&&r.push(Ct(e.revocable,!0,new Uint8Array([this.revocable?1:0]))),this.keyExpirationTime!==null&&r.push(Ct(e.keyExpirationTime,!0,U.writeNumber(this.keyExpirationTime,4))),this.preferredSymmetricAlgorithms!==null&&(n=U.stringToUint8Array(U.uint8ArrayToString(this.preferredSymmetricAlgorithms)),r.push(Ct(e.preferredSymmetricAlgorithms,!1,n))),this.revocationKeyClass!==null&&(n=new Uint8Array([this.revocationKeyClass,this.revocationKeyAlgorithm]),n=U.concat([n,this.revocationKeyFingerprint]),r.push(Ct(e.revocationKey,!1,n))),this.issuerKeyID.isNull()||this.issuerKeyVersion===5||r.push(Ct(e.issuer,!0,this.issuerKeyID.write())),this.rawNotations.forEach(({name:o,value:a,humanReadable:c,critical:l})=>{n=[new Uint8Array([c?128:0,0,0,0])];const u=U.encodeUTF8(o);n.push(U.writeNumber(u.length,2)),n.push(U.writeNumber(a.length,2)),n.push(u),n.push(a),n=U.concat(n),r.push(Ct(e.notationData,l,n))}),this.preferredHashAlgorithms!==null&&(n=U.stringToUint8Array(U.uint8ArrayToString(this.preferredHashAlgorithms)),r.push(Ct(e.preferredHashAlgorithms,!1,n))),this.preferredCompressionAlgorithms!==null&&(n=U.stringToUint8Array(U.uint8ArrayToString(this.preferredCompressionAlgorithms)),r.push(Ct(e.preferredCompressionAlgorithms,!1,n))),this.keyServerPreferences!==null&&(n=U.stringToUint8Array(U.uint8ArrayToString(this.keyServerPreferences)),r.push(Ct(e.keyServerPreferences,!1,n))),this.preferredKeyServer!==null&&r.push(Ct(e.preferredKeyServer,!1,U.encodeUTF8(this.preferredKeyServer))),this.isPrimaryUserID!==null&&r.push(Ct(e.primaryUserID,!1,new Uint8Array([this.isPrimaryUserID?1:0]))),this.policyURI!==null&&r.push(Ct(e.policyURI,!1,U.encodeUTF8(this.policyURI))),this.keyFlags!==null&&(n=U.stringToUint8Array(U.uint8ArrayToString(this.keyFlags)),r.push(Ct(e.keyFlags,!0,n))),this.signersUserID!==null&&r.push(Ct(e.signersUserID,!1,U.encodeUTF8(this.signersUserID))),this.reasonForRevocationFlag!==null&&(n=U.stringToUint8Array(String.fromCharCode(this.reasonForRevocationFlag)+this.reasonForRevocationString),r.push(Ct(e.reasonForRevocation,!0,n))),this.features!==null&&(n=U.stringToUint8Array(U.uint8ArrayToString(this.features)),r.push(Ct(e.features,!1,n))),this.signatureTargetPublicKeyAlgorithm!==null&&(n=[new Uint8Array([this.signatureTargetPublicKeyAlgorithm,this.signatureTargetHashAlgorithm])],n.push(U.stringToUint8Array(this.signatureTargetHash)),n=U.concat(n),r.push(Ct(e.signatureTarget,!0,n))),this.embeddedSignature!==null&&r.push(Ct(e.embeddedSignature,!0,this.embeddedSignature.write())),this.issuerFingerprint!==null&&(n=[new Uint8Array([this.issuerKeyVersion]),this.issuerFingerprint],n=U.concat(n),r.push(Ct(e.issuerFingerprint,this.version===5,n))),this.preferredAEADAlgorithms!==null&&(n=U.stringToUint8Array(U.uint8ArrayToString(this.preferredAEADAlgorithms)),r.push(Ct(e.preferredAEADAlgorithms,!1,n)));const i=U.concat(r),s=U.writeNumber(i.length,2);return U.concat([s,i])}writeUnhashedSubPackets(){const e=[];this.unhashedSubpackets.forEach(i=>{e.push(cl(i.length)),e.push(i)});const r=U.concat(e),n=U.writeNumber(r.length,2);return U.concat([n,r])}readSubPacket(e,r=!0){let n=0;const i=!!(128&e[n]),s=127&e[n];if(r||(this.unhashedSubpackets.push(e.subarray(n,e.length)),WT.has(s)))switch(n++,s){case D.signatureSubpacket.signatureCreationTime:this.created=U.readDate(e.subarray(n,e.length));break;case D.signatureSubpacket.signatureExpirationTime:{const o=U.readNumber(e.subarray(n,e.length));this.signatureNeverExpires=o===0,this.signatureExpirationTime=o;break}case D.signatureSubpacket.exportableCertification:this.exportable=e[n++]===1;break;case D.signatureSubpacket.trustSignature:this.trustLevel=e[n++],this.trustAmount=e[n++];break;case D.signatureSubpacket.regularExpression:this.regularExpression=e[n];break;case D.signatureSubpacket.revocable:this.revocable=e[n++]===1;break;case D.signatureSubpacket.keyExpirationTime:{const o=U.readNumber(e.subarray(n,e.length));this.keyExpirationTime=o,this.keyNeverExpires=o===0;break}case D.signatureSubpacket.preferredSymmetricAlgorithms:this.preferredSymmetricAlgorithms=[...e.subarray(n,e.length)];break;case D.signatureSubpacket.revocationKey:this.revocationKeyClass=e[n++],this.revocationKeyAlgorithm=e[n++],this.revocationKeyFingerprint=e.subarray(n,n+20);break;case D.signatureSubpacket.issuer:this.issuerKeyID.read(e.subarray(n,e.length));break;case D.signatureSubpacket.notationData:{const o=!!(128&e[n]);n+=4;const a=U.readNumber(e.subarray(n,n+2));n+=2;const c=U.readNumber(e.subarray(n,n+2));n+=2;const l=U.decodeUTF8(e.subarray(n,n+a)),u=e.subarray(n+a,n+a+c);this.rawNotations.push({name:l,humanReadable:o,value:u,critical:i}),o&&(this.notations[l]=U.decodeUTF8(u));break}case D.signatureSubpacket.preferredHashAlgorithms:this.preferredHashAlgorithms=[...e.subarray(n,e.length)];break;case D.signatureSubpacket.preferredCompressionAlgorithms:this.preferredCompressionAlgorithms=[...e.subarray(n,e.length)];break;case D.signatureSubpacket.keyServerPreferences:this.keyServerPreferences=[...e.subarray(n,e.length)];break;case D.signatureSubpacket.preferredKeyServer:this.preferredKeyServer=U.decodeUTF8(e.subarray(n,e.length));break;case D.signatureSubpacket.primaryUserID:this.isPrimaryUserID=e[n++]!==0;break;case D.signatureSubpacket.policyURI:this.policyURI=U.decodeUTF8(e.subarray(n,e.length));break;case D.signatureSubpacket.keyFlags:this.keyFlags=[...e.subarray(n,e.length)];break;case D.signatureSubpacket.signersUserID:this.signersUserID=U.decodeUTF8(e.subarray(n,e.length));break;case D.signatureSubpacket.reasonForRevocation:this.reasonForRevocationFlag=e[n++],this.reasonForRevocationString=U.decodeUTF8(e.subarray(n,e.length));break;case D.signatureSubpacket.features:this.features=[...e.subarray(n,e.length)];break;case D.signatureSubpacket.signatureTarget:{this.signatureTargetPublicKeyAlgorithm=e[n++],this.signatureTargetHashAlgorithm=e[n++];const o=Se.getHashByteLength(this.signatureTargetHashAlgorithm);this.signatureTargetHash=U.uint8ArrayToString(e.subarray(n,n+o));break}case D.signatureSubpacket.embeddedSignature:this.embeddedSignature=new Br,this.embeddedSignature.read(e.subarray(n,e.length));break;case D.signatureSubpacket.issuerFingerprint:this.issuerKeyVersion=e[n++],this.issuerFingerprint=e.subarray(n,e.length),this.issuerKeyVersion===5?this.issuerKeyID.read(this.issuerFingerprint):this.issuerKeyID.read(this.issuerFingerprint.subarray(-8));break;case D.signatureSubpacket.preferredAEADAlgorithms:this.preferredAEADAlgorithms=[...e.subarray(n,e.length)];break;default:{const o=Error("Unknown signature subpacket type "+s);if(i)throw o;U.printDebug(o)}}}readSubPackets(e,r=!0,n){const i=U.readNumber(e.subarray(0,2));let s=2;for(;s<2+i;){const o=Xm(e.subarray(s,e.length));s+=o.offset,this.readSubPacket(e.subarray(s,s+o.len),r,n),s+=o.len}return s}toSign(e,r){const n=D.signature;switch(e){case n.binary:return r.text!==null?U.encodeUTF8(r.getText(!0)):r.getBytes(!0);case n.text:{const i=r.getBytes(!0);return U.canonicalizeEOL(i)}case n.standalone:return new Uint8Array(0);case n.certGeneric:case n.certPersona:case n.certCasual:case n.certPositive:case n.certRevocation:{let i,s;if(r.userID)s=180,i=r.userID;else{if(!r.userAttribute)throw Error("Either a userID or userAttribute packet needs to be supplied for certification.");s=209,i=r.userAttribute}const o=i.write();return U.concat([this.toSign(n.key,r),new Uint8Array([s]),U.writeNumber(o.length,4),o])}case n.subkeyBinding:case n.subkeyRevocation:case n.keyBinding:return U.concat([this.toSign(n.key,r),this.toSign(n.key,{key:r.bind})]);case n.key:if(r.key===void 0)throw Error("Key packet is required for this signature.");return r.key.writeForHash(this.version);case n.keyRevocation:return this.toSign(n.key,r);case n.timestamp:return new Uint8Array(0);case n.thirdParty:throw Error("Not implemented");default:throw Error("Unknown signature type.")}}calculateTrailer(e,r){let n=0;return Ft(z0(this.signatureData),i=>{n+=i.length},()=>{const i=[];return this.version!==5||this.signatureType!==D.signature.binary&&this.signatureType!==D.signature.text||(r?i.push(new Uint8Array(6)):i.push(e.writeHeader())),i.push(new Uint8Array([this.version,255])),this.version===5&&i.push(new Uint8Array(4)),i.push(U.writeNumber(n,4)),U.concat(i)})}toHash(e,r,n=!1){const i=this.toSign(e,r);return U.concat([i,this.signatureData,this.calculateTrailer(r,n)])}async hash(e,r,n,i=!1){return n||(n=this.toHash(e,r,i)),Se.hash.digest(this.hashAlgorithm,n)}async verify(e,r,n,i=new Date,s=!1,o=Be){if(!this.issuerKeyID.equals(e.getKeyID()))throw Error("Signature was not issued by the given public key");if(this.publicKeyAlgorithm!==e.algorithm)throw Error("Public key algorithm used to sign signature does not match issuer key algorithm.");const a=r===D.signature.binary||r===D.signature.text;if(!(this[Ia]&&!a)){let l,u;if(this.hashed?u=await this.hashed:(l=this.toHash(r,n,s),u=await this.hash(r,n,l)),u=await Lt(u),this.signedHashValue[0]!==u[0]||this.signedHashValue[1]!==u[1])throw Error("Signed digest did not match");if(this.params=await this.params,this[Ia]=await Se.signature.verify(this.publicKeyAlgorithm,this.hashAlgorithm,this.params,e.publicParams,l,u),!this[Ia])throw Error("Signature verification failed")}const c=U.normalizeDate(i);if(c&&this.created>c)throw Error("Signature creation time is in the future");if(c&&c>=this.getExpirationTime())throw Error("Signature is expired");if(o.rejectHashAlgorithms.has(this.hashAlgorithm))throw Error("Insecure hash algorithm: "+D.read(D.hash,this.hashAlgorithm).toUpperCase());if(o.rejectMessageHashAlgorithms.has(this.hashAlgorithm)&&[D.signature.binary,D.signature.text].includes(this.signatureType))throw Error("Insecure message hash algorithm: "+D.read(D.hash,this.hashAlgorithm).toUpperCase());if(this.rawNotations.forEach(({name:l,critical:u})=>{if(u&&o.knownNotations.indexOf(l)<0)throw Error("Unknown critical notation: "+l)}),this.revocationKeyClass!==null)throw Error("This key is intended to be revoked with an authorized key, which OpenPGP.js does not support.")}isExpired(e=new Date){const r=U.normalizeDate(e);return r!==null&&!(this.created<=r&&r<this.getExpirationTime())}getExpirationTime(){return this.signatureNeverExpires?1/0:new Date(this.created.getTime()+1e3*this.signatureExpirationTime)}}function Ct(t,e,r){const n=[];return n.push(cl(r.length+1)),n.push(new Uint8Array([(e?128:0)|t])),n.push(r),U.concat(n)}class Dn{static get tag(){return D.packet.onePassSignature}constructor(){this.version=null,this.signatureType=null,this.hashAlgorithm=null,this.publicKeyAlgorithm=null,this.issuerKeyID=null,this.flags=null}read(e){let r=0;if(this.version=e[r++],this.version!==3)throw new kt(`Version ${this.version} of the one-pass signature packet is unsupported.`);return this.signatureType=e[r++],this.hashAlgorithm=e[r++],this.publicKeyAlgorithm=e[r++],this.issuerKeyID=new Hs,this.issuerKeyID.read(e.subarray(r,r+8)),r+=8,this.flags=e[r++],this}write(){const e=new Uint8Array([3,this.signatureType,this.hashAlgorithm,this.publicKeyAlgorithm]),r=new Uint8Array([this.flags]);return U.concatUint8Array([e,this.issuerKeyID.write(),r])}calculateTrailer(...e){return Zs(async()=>Br.prototype.calculateTrailer.apply(await this.correspondingSig,e))}async verify(){const e=await this.correspondingSig;if(!e||e.constructor.tag!==D.packet.signature)throw Error("Corresponding signature packet missing");if(e.signatureType!==this.signatureType||e.hashAlgorithm!==this.hashAlgorithm||e.publicKeyAlgorithm!==this.publicKeyAlgorithm||!e.issuerKeyID.equals(this.issuerKeyID))throw Error("Corresponding signature packet does not match one-pass signature packet");return e.hashed=this.hashed,e.verify.apply(e,arguments)}}function GT(t,e){if(!e[t]){let r;try{r=D.read(D.packet,t)}catch{throw new kt("Unknown packet type with tag: "+t)}throw Error("Packet not allowed in this context: "+r)}return new e[t]}Dn.prototype.hash=Br.prototype.hash,Dn.prototype.toHash=Br.prototype.toHash,Dn.prototype.toSign=Br.prototype.toSign;class yt extends Array{static async fromBinary(e,r,n=Be){const i=new yt;return await i.read(e,r,n),i}async read(e,r,n=Be){n.additionalAllowedPackets.length&&(r={...r,...U.constructAllowedPackets(n.additionalAllowedPackets)}),this.stream=qi(e,async(s,o)=>{const a=zr(o);try{for(;;)if(await a.ready,await WP(s,async c=>{try{if(c.tag===D.packet.marker||c.tag===D.packet.trust)return;const l=GT(c.tag,r);l.packets=new yt,l.fromStream=U.isStream(c.packet),await l.read(c.packet,n),await a.write(l)}catch(l){const u=!n.ignoreUnsupportedPackets&&l instanceof kt,f=!(n.ignoreMalformedPackets||l instanceof kt);if(u||f||du(c.tag))await a.abort(l);else{const x=new ch(c.tag,c.packet);await a.write(x)}U.printDebugError(l)}}))return await a.ready,void await a.close()}catch(c){await a.abort(c)}});const i=bi(this.stream);for(;;){const{done:s,value:o}=await i.read();if(s?this.stream=null:this.push(o),s||du(o.constructor.tag))break}i.releaseLock()}write(){const e=[];for(let r=0;r<this.length;r++){const n=this[r]instanceof ch?this[r].tag:this[r].constructor.tag,i=this[r].write();if(U.isStream(i)&&du(this[r].constructor.tag)){let s=[],o=0;const a=512;e.push(Qm(n)),e.push(Ft(i,c=>{if(s.push(c),o+=c.length,o>=a){const l=Math.min(Math.log(o)/Math.LN2|0,30),u=2**l,f=U.concat([qP(l)].concat(s));return s=[f.subarray(1+u)],o=s[0].length,f.subarray(0,1+u)}},()=>U.concat([cl(o)].concat(s))))}else{if(U.isStream(i)){let s=0;e.push(Ft(z0(i),o=>{s+=o.length},()=>f2(n,s)))}else e.push(f2(n,i.length));e.push(i)}}return U.concat(e)}filterByTag(...e){const r=new yt,n=i=>s=>i===s;for(let i=0;i<this.length;i++)e.some(n(this[i].constructor.tag))&&r.push(this[i]);return r}findPacket(e){return this.find(r=>r.constructor.tag===e)}indexOfTag(...e){const r=[],n=this,i=s=>o=>s===o;for(let s=0;s<this.length;s++)e.some(i(n[s].constructor.tag))&&r.push(s);return r}}const YT=U.constructAllowedPackets([va,Dn,Br]);class fl{static get tag(){return D.packet.compressedData}constructor(e=Be){this.packets=null,this.algorithm=e.preferredCompressionAlgorithm,this.compressed=null,this.deflateLevel=e.deflateLevel}async read(e,r=Be){await ld(e,async n=>{this.algorithm=await n.readByte(),this.compressed=n.remainder(),await this.decompress(r)})}write(){return this.compressed===null&&this.compress(),U.concat([new Uint8Array([this.algorithm]),this.compressed])}async decompress(e=Be){const r=D.read(D.compression,this.algorithm),n=XT[r];if(!n)throw Error(r+" decompression not supported");this.packets=await yt.fromBinary(n(this.compressed),YT,e)}compress(){const e=D.read(D.compression,this.algorithm),r=JT[e];if(!r)throw Error(e+" compression not supported");this.compressed=r(this.packets.write(),this.deflateLevel)}}const ti=U.getNodeZlib();function hp(t){return t}function cf(t,e,r={}){return function(n){return!U.isStream(n)||Rt(n)?Zs(()=>Lt(n).then(i=>new Promise((s,o)=>{t(i,r,(a,c)=>{if(a)return o(a);s(c)})}))):cd(r9(n).pipe(e(r)))}}function lf(t,e={}){return function(r){const n=new t(e);return Ft(r,i=>{if(i.length)return n.push(i,Dc),n.result},()=>{if(t===hh)return n.push([],Zt),n.result})}}function pp(t){return function(e){return Zs(async()=>t(await Lt(e)))}}const JT=ti?{zip:(t,e)=>cf(ti.deflateRaw,ti.createDeflateRaw,{level:e})(t),zlib:(t,e)=>cf(ti.deflate,ti.createDeflate,{level:e})(t)}:{zip:(t,e)=>lf(hh,{raw:!0,level:e})(t),zlib:(t,e)=>lf(hh,{level:e})(t)},XT=ti?{uncompressed:hp,zip:cf(ti.inflateRaw,ti.createInflateRaw),zlib:cf(ti.inflate,ti.createInflate),bzip2:pp(xp)}:{uncompressed:hp,zip:lf(up,{raw:!0}),zlib:lf(up),bzip2:pp(xp)},QT=U.constructAllowedPackets([va,fl,Dn,Br]);class Pg{static get tag(){return D.packet.symEncryptedIntegrityProtectedData}constructor(){this.version=1,this.encrypted=null,this.packets=null}async read(e){await ld(e,async r=>{const n=await r.readByte();if(n!==1)throw new kt(`Version ${n} of the SEIP packet is unsupported.`);this.encrypted=r.remainder()})}write(){return U.concat([new Uint8Array([1]),this.encrypted])}async encrypt(e,r,n=Be){const{blockSize:i}=Se.getCipher(e);let s=this.packets.write();Rt(s)&&(s=await Lt(s));const o=await Se.getPrefixRandom(e),a=new Uint8Array([211,20]),c=U.concat([o,s,a]),l=await Se.hash.sha1(No(c)),u=U.concat([c,l]);return this.encrypted=await Se.mode.cfb.encrypt(e,r,u,new Uint8Array(i),n),!0}async decrypt(e,r,n=Be){const{blockSize:i}=Se.getCipher(e);let s=z0(this.encrypted);Rt(s)&&(s=await Lt(s));const o=await Se.mode.cfb.decrypt(e,r,s,new Uint8Array(i)),a=nr(No(o),-20),c=nr(o,0,-20),l=Promise.all([Lt(await Se.hash.sha1(No(c))),Lt(a)]).then(([x,h])=>{if(!U.equalsUint8Array(x,h))throw Error("Modification detected.");return new Uint8Array}),u=nr(c,i+2);let f=nr(u,0,-2);return f=Lr([f,Zs(()=>l)]),U.isStream(s)&&n.allowUnauthenticatedStream||(f=await Lt(f)),this.packets=await yt.fromBinary(f,QT,n),!0}}const ZT=U.constructAllowedPackets([va,fl,Dn,Br]);class gd{static get tag(){return D.packet.aeadEncryptedData}constructor(){this.version=1,this.cipherAlgorithm=null,this.aeadAlgorithm=D.aead.eax,this.chunkSizeByte=null,this.iv=null,this.encrypted=null,this.packets=null}async read(e){await ld(e,async r=>{const n=await r.readByte();if(n!==1)throw new kt(`Version ${n} of the AEAD-encrypted data packet is not supported.`);this.cipherAlgorithm=await r.readByte(),this.aeadAlgorithm=await r.readByte(),this.chunkSizeByte=await r.readByte();const i=Se.getAEADMode(this.aeadAlgorithm);this.iv=await r.readBytes(i.ivLength),this.encrypted=r.remainder()})}write(){return U.concat([new Uint8Array([this.version,this.cipherAlgorithm,this.aeadAlgorithm,this.chunkSizeByte]),this.iv,this.encrypted])}async decrypt(e,r,n=Be){this.packets=await yt.fromBinary(await this.crypt("decrypt",r,z0(this.encrypted)),ZT,n)}async encrypt(e,r,n=Be){this.cipherAlgorithm=e;const{ivLength:i}=Se.getAEADMode(this.aeadAlgorithm);this.iv=Se.random.getRandomBytes(i),this.chunkSizeByte=n.aeadChunkSizeByte;const s=this.packets.write();this.encrypted=await this.crypt("encrypt",r,s)}async crypt(e,r,n){const i=Se.getAEADMode(this.aeadAlgorithm),s=await i(this.cipherAlgorithm,r),o=e==="decrypt"?i.tagLength:0,a=e==="encrypt"?i.tagLength:0,c=2**(this.chunkSizeByte+6)+o,l=new ArrayBuffer(21),u=new Uint8Array(l,0,13),f=new Uint8Array(l),x=new DataView(l),h=new Uint8Array(l,5,8);u.set([192|gd.tag,this.version,this.cipherAlgorithm,this.aeadAlgorithm,this.chunkSizeByte],0);let C=0,w=Promise.resolve(),k=0,O=0;const z=this.iv;return qi(n,async(P,A)=>{if(U.isStream(P)!=="array"){const R=new sa({},{highWaterMark:U.getHardwareConcurrency()*2**(this.chunkSizeByte+6),size:d=>d.length});js(R.readable,A),A=R.writable}const T=bi(P),F=zr(A);try{for(;;){let R=await T.readBytes(c+o)||new Uint8Array;const d=R.subarray(R.length-o);let p,_;if(R=R.subarray(0,R.length-o),!C||R.length?(T.unshift(d),p=s[e](R,i.getNonce(z,h),u),O+=R.length-o+a):(x.setInt32(17,k),p=s[e](d,i.getNonce(z,h),f),O+=a,_=!0),k+=R.length-o,w=w.then(()=>p).then(async b=>{await F.ready,await F.write(b),O-=b.length}).catch(b=>F.abort(b)),(_||O>F.desiredSize)&&await w,_){await F.close();break}x.setInt32(9,++C)}}catch(R){await F.abort(R)}})}}class ph{static get tag(){return D.packet.publicKeyEncryptedSessionKey}constructor(){this.version=3,this.publicKeyID=new Hs,this.publicKeyAlgorithm=null,this.sessionKey=null,this.sessionKeyAlgorithm=null,this.encrypted={}}read(e){let r=0;if(this.version=e[r++],this.version!==3)throw new kt(`Version ${this.version} of the PKESK packet is unsupported.`);r+=this.publicKeyID.read(e.subarray(r)),this.publicKeyAlgorithm=e[r++],this.encrypted=Se.parseEncSessionKeyParams(this.publicKeyAlgorithm,e.subarray(r),this.version),this.publicKeyAlgorithm===D.publicKey.x25519&&(this.sessionKeyAlgorithm=D.write(D.symmetric,this.encrypted.C.algorithm))}write(){const e=[new Uint8Array([this.version]),this.publicKeyID.write(),new Uint8Array([this.publicKeyAlgorithm]),Se.serializeParams(this.publicKeyAlgorithm,this.encrypted)];return U.concatUint8Array(e)}async encrypt(e){const r=D.write(D.publicKey,this.publicKeyAlgorithm),n=mp(this.version,r,this.sessionKeyAlgorithm,this.sessionKey);this.encrypted=await Se.publicKeyEncrypt(r,this.sessionKeyAlgorithm,e.publicParams,n,e.getFingerprintBytes())}async decrypt(e,r){if(this.publicKeyAlgorithm!==e.algorithm)throw Error("Decryption error");const n=r?mp(this.version,this.publicKeyAlgorithm,r.sessionKeyAlgorithm,r.sessionKey):null,i=await Se.publicKeyDecrypt(this.publicKeyAlgorithm,e.publicParams,e.privateParams,this.encrypted,e.getFingerprintBytes(),n),{sessionKey:s,sessionKeyAlgorithm:o}=function(a,c,l,u){switch(c){case D.publicKey.rsaEncrypt:case D.publicKey.rsaEncryptSign:case D.publicKey.elgamal:case D.publicKey.ecdh:{const f=l.subarray(0,l.length-2),x=l.subarray(l.length-2),h=U.writeChecksum(f.subarray(f.length%8)),C=h[0]===x[0]&h[1]===x[1],w={sessionKeyAlgorithm:f[0],sessionKey:f.subarray(1)};if(u){const k=C&w.sessionKeyAlgorithm===u.sessionKeyAlgorithm&w.sessionKey.length===u.sessionKey.length;return{sessionKey:U.selectUint8Array(k,w.sessionKey,u.sessionKey),sessionKeyAlgorithm:U.selectUint8(k,w.sessionKeyAlgorithm,u.sessionKeyAlgorithm)}}if(C&&D.read(D.symmetric,w.sessionKeyAlgorithm))return w;throw Error("Decryption error")}case D.publicKey.x25519:return{sessionKey:l};default:throw Error("Unsupported public key algorithm")}}(this.version,this.publicKeyAlgorithm,i,r);this.publicKeyAlgorithm!==D.publicKey.x25519&&(this.sessionKeyAlgorithm=o),this.sessionKey=s}}function mp(t,e,r,n){switch(e){case D.publicKey.rsaEncrypt:case D.publicKey.rsaEncryptSign:case D.publicKey.elgamal:case D.publicKey.ecdh:return U.concatUint8Array([new Uint8Array([r]),n,U.writeChecksum(n.subarray(n.length%8))]);case D.publicKey.x25519:return n;default:throw Error("Unsupported public key algorithm")}}class hc{constructor(e=Be){this.algorithm=D.hash.sha256,this.type="iterated",this.c=e.s2kIterationCountByte,this.salt=null}getCount(){return 16+(15&this.c)<<6+(this.c>>4)}read(e){let r=0;try{this.type=D.read(D.s2k,e[r++])}catch{throw new kt("Unknown S2K type.")}switch(this.algorithm=e[r++],this.type){case"simple":break;case"salted":this.salt=e.subarray(r,r+8),r+=8;break;case"iterated":this.salt=e.subarray(r,r+8),r+=8,this.c=e[r++];break;case"gnu":if(U.uint8ArrayToString(e.subarray(r,r+3))!=="GNU")throw new kt("Unknown s2k type.");if(r+=3,1e3+e[r++]!==1001)throw new kt("Unknown s2k gnu protection mode.");this.type="gnu-dummy";break;default:throw new kt("Unknown s2k type.")}return r}write(){if(this.type==="gnu-dummy")return new Uint8Array([101,0,...U.stringToUint8Array("GNU"),1]);const e=[new Uint8Array([D.write(D.s2k,this.type),this.algorithm])];switch(this.type){case"simple":break;case"salted":e.push(this.salt);break;case"iterated":e.push(this.salt),e.push(new Uint8Array([this.c]));break;case"gnu":throw Error("GNU s2k type not supported.");default:throw Error("Unknown s2k type.")}return U.concatUint8Array(e)}async produceKey(e,r){e=U.encodeUTF8(e);const n=[];let i=0,s=0;for(;i<r;){let o;switch(this.type){case"simple":o=U.concatUint8Array([new Uint8Array(s),e]);break;case"salted":o=U.concatUint8Array([new Uint8Array(s),this.salt,e]);break;case"iterated":{const c=U.concatUint8Array([this.salt,e]);let l=c.length;const u=Math.max(this.getCount(),l);o=new Uint8Array(s+u),o.set(c,s);for(let f=s+l;f<u;f+=l,l*=2)o.copyWithin(f,s,f);break}case"gnu":throw Error("GNU s2k type not supported.");default:throw Error("Unknown s2k type.")}const a=await Se.hash.digest(this.algorithm,o);n.push(a),i+=a.length,s++}return U.concatUint8Array(n).subarray(0,r)}}class aa{static get tag(){return D.packet.symEncryptedSessionKey}constructor(e=Be){this.version=e.aeadProtect?5:4,this.sessionKey=null,this.sessionKeyEncryptionAlgorithm=null,this.sessionKeyAlgorithm=D.symmetric.aes256,this.aeadAlgorithm=D.write(D.aead,e.preferredAEADAlgorithm),this.encrypted=null,this.s2k=null,this.iv=null}read(e){let r=0;if(this.version=e[r++],this.version!==4&&this.version!==5)throw new kt(`Version ${this.version} of the SKESK packet is unsupported.`);const n=e[r++];if(this.version===5&&(this.aeadAlgorithm=e[r++]),this.s2k=new hc,r+=this.s2k.read(e.subarray(r,e.length)),this.version===5){const i=Se.getAEADMode(this.aeadAlgorithm);this.iv=e.subarray(r,r+=i.ivLength)}this.version===5||r<e.length?(this.encrypted=e.subarray(r,e.length),this.sessionKeyEncryptionAlgorithm=n):this.sessionKeyAlgorithm=n}write(){const e=this.encrypted===null?this.sessionKeyAlgorithm:this.sessionKeyEncryptionAlgorithm;let r;return this.version===5?r=U.concatUint8Array([new Uint8Array([this.version,e,this.aeadAlgorithm]),this.s2k.write(),this.iv,this.encrypted]):(r=U.concatUint8Array([new Uint8Array([this.version,e]),this.s2k.write()]),this.encrypted!==null&&(r=U.concatUint8Array([r,this.encrypted]))),r}async decrypt(e){const r=this.sessionKeyEncryptionAlgorithm!==null?this.sessionKeyEncryptionAlgorithm:this.sessionKeyAlgorithm,{blockSize:n,keySize:i}=Se.getCipher(r),s=await this.s2k.produceKey(e,i);if(this.version===5){const o=Se.getAEADMode(this.aeadAlgorithm),a=new Uint8Array([192|aa.tag,this.version,this.sessionKeyEncryptionAlgorithm,this.aeadAlgorithm]),c=await o(r,s);this.sessionKey=await c.decrypt(this.encrypted,this.iv,a)}else if(this.encrypted!==null){const o=await Se.mode.cfb.decrypt(r,s,this.encrypted,new Uint8Array(n));this.sessionKeyAlgorithm=D.write(D.symmetric,o[0]),this.sessionKey=o.subarray(1,o.length)}else this.sessionKey=s}async encrypt(e,r=Be){const n=this.sessionKeyEncryptionAlgorithm!==null?this.sessionKeyEncryptionAlgorithm:this.sessionKeyAlgorithm;this.sessionKeyEncryptionAlgorithm=n,this.s2k=new hc(r),this.s2k.salt=Se.random.getRandomBytes(8);const{blockSize:i,keySize:s}=Se.getCipher(n),o=await this.s2k.produceKey(e,s);if(this.sessionKey===null&&(this.sessionKey=Se.generateSessionKey(this.sessionKeyAlgorithm)),this.version===5){const a=Se.getAEADMode(this.aeadAlgorithm);this.iv=Se.random.getRandomBytes(a.ivLength);const c=new Uint8Array([192|aa.tag,this.version,this.sessionKeyEncryptionAlgorithm,this.aeadAlgorithm]),l=await a(n,o);this.encrypted=await l.encrypt(this.sessionKey,this.iv,c)}else{const a=U.concatUint8Array([new Uint8Array([this.sessionKeyAlgorithm]),this.sessionKey]);this.encrypted=await Se.mode.cfb.encrypt(n,o,a,new Uint8Array(i),r)}}}class si{static get tag(){return D.packet.publicKey}constructor(e=new Date,r=Be){this.version=r.v5Keys?5:4,this.created=U.normalizeDate(e),this.algorithm=null,this.publicParams=null,this.expirationTimeV3=0,this.fingerprint=null,this.keyID=null}static fromSecretKeyPacket(e){const r=new si,{version:n,created:i,algorithm:s,publicParams:o,keyID:a,fingerprint:c}=e;return r.version=n,r.created=i,r.algorithm=s,r.publicParams=o,r.keyID=a,r.fingerprint=c,r}async read(e){let r=0;if(this.version=e[r++],this.version===4||this.version===5){this.created=U.readDate(e.subarray(r,r+4)),r+=4,this.algorithm=e[r++],this.version===5&&(r+=4);const{read:n,publicParams:i}=Se.parsePublicKeyParams(this.algorithm,e.subarray(r));return this.publicParams=i,r+=n,await this.computeFingerprintAndKeyID(),r}throw new kt(`Version ${this.version} of the key packet is unsupported.`)}write(){const e=[];e.push(new Uint8Array([this.version])),e.push(U.writeDate(this.created)),e.push(new Uint8Array([this.algorithm]));const r=Se.serializeParams(this.algorithm,this.publicParams);return this.version===5&&e.push(U.writeNumber(r.length,4)),e.push(r),U.concatUint8Array(e)}writeForHash(e){const r=this.writePublicKey();return e===5?U.concatUint8Array([new Uint8Array([154]),U.writeNumber(r.length,4),r]):U.concatUint8Array([new Uint8Array([153]),U.writeNumber(r.length,2),r])}isDecrypted(){return null}getCreationTime(){return this.created}getKeyID(){return this.keyID}async computeFingerprintAndKeyID(){if(await this.computeFingerprint(),this.keyID=new Hs,this.version===5)this.keyID.read(this.fingerprint.subarray(0,8));else{if(this.version!==4)throw Error("Unsupported key version");this.keyID.read(this.fingerprint.subarray(12,20))}}async computeFingerprint(){const e=this.writeForHash(this.version);if(this.version===5)this.fingerprint=await Se.hash.sha256(e);else{if(this.version!==4)throw Error("Unsupported key version");this.fingerprint=await Se.hash.sha1(e)}}getFingerprintBytes(){return this.fingerprint}getFingerprint(){return U.uint8ArrayToHex(this.getFingerprintBytes())}hasSameFingerprintAs(e){return this.version===e.version&&U.equalsUint8Array(this.writePublicKey(),e.writePublicKey())}getAlgorithmInfo(){const e={};e.algorithm=D.read(D.publicKey,this.algorithm);const r=this.publicParams.n||this.publicParams.p;return r?e.bits=U.uint8ArrayBitLength(r):this.publicParams.oid&&(e.curve=this.publicParams.oid.getName()),e}}si.prototype.readPublicKey=si.prototype.read,si.prototype.writePublicKey=si.prototype.write;const eM=U.constructAllowedPackets([va,fl,Dn,Br]);class tM{static get tag(){return D.packet.symmetricallyEncryptedData}constructor(){this.encrypted=null,this.packets=null}read(e){this.encrypted=e}write(){return this.encrypted}async decrypt(e,r,n=Be){if(!n.allowUnauthenticatedMessages)throw Error("Message is not authenticated.");const{blockSize:i}=Se.getCipher(e),s=await Lt(z0(this.encrypted)),o=await Se.mode.cfb.decrypt(e,r,s.subarray(i+2),s.subarray(2,i+2));this.packets=await yt.fromBinary(o,eM,n)}async encrypt(e,r,n=Be){const i=this.packets.write(),{blockSize:s}=Se.getCipher(e),o=await Se.getPrefixRandom(e),a=await Se.mode.cfb.encrypt(e,r,o,new Uint8Array(s),n),c=await Se.mode.cfb.encrypt(e,r,i,a.subarray(2),n);this.encrypted=U.concat([a,c])}}class yd extends si{static get tag(){return D.packet.publicSubkey}constructor(e,r){super(e,r)}static fromSecretSubkeyPacket(e){const r=new yd,{version:n,created:i,algorithm:s,publicParams:o,keyID:a,fingerprint:c}=e;return r.version=n,r.created=i,r.algorithm=s,r.publicParams=o,r.keyID=a,r.fingerprint=c,r}}class p9{static get tag(){return D.packet.userAttribute}constructor(){this.attributes=[]}read(e){let r=0;for(;r<e.length;){const n=Xm(e.subarray(r,e.length));r+=n.offset,this.attributes.push(U.uint8ArrayToString(e.subarray(r,r+n.len))),r+=n.len}}write(){const e=[];for(let r=0;r<this.attributes.length;r++)e.push(cl(this.attributes[r].length)),e.push(U.stringToUint8Array(this.attributes[r]));return U.concatUint8Array(e)}equals(e){return!!(e&&e instanceof p9)&&this.attributes.every(function(r,n){return r===e.attributes[n]})}}class m9 extends si{static get tag(){return D.packet.secretKey}constructor(e=new Date,r=Be){super(e,r),this.keyMaterial=null,this.isEncrypted=null,this.s2kUsage=0,this.s2k=null,this.symmetric=null,this.aead=null,this.privateParams=null}async read(e){let r=await this.readPublicKey(e);const n=r;this.s2kUsage=e[r++],this.version===5&&r++;try{if(this.s2kUsage===255||this.s2kUsage===254||this.s2kUsage===253){if(this.symmetric=e[r++],this.s2kUsage===253&&(this.aead=e[r++]),this.s2k=new hc,r+=this.s2k.read(e.subarray(r,e.length)),this.s2k.type==="gnu-dummy")return}else this.s2kUsage&&(this.symmetric=this.s2kUsage);this.s2kUsage&&(this.iv=e.subarray(r,r+Se.getCipher(this.symmetric).blockSize),r+=this.iv.length)}catch(i){if(!this.s2kUsage)throw i;this.unparseableKeyMaterial=e.subarray(n),this.isEncrypted=!0}if(this.version===5&&(r+=4),this.keyMaterial=e.subarray(r),this.isEncrypted=!!this.s2kUsage,!this.isEncrypted){const i=this.keyMaterial.subarray(0,-2);if(!U.equalsUint8Array(U.writeChecksum(i),this.keyMaterial.subarray(-2)))throw Error("Key checksum mismatch");try{const{privateParams:s}=Se.parsePrivateKeyParams(this.algorithm,i,this.publicParams);this.privateParams=s}catch(s){throw s instanceof kt?s:Error("Error reading MPIs")}}}write(){const e=this.writePublicKey();if(this.unparseableKeyMaterial)return U.concatUint8Array([e,this.unparseableKeyMaterial]);const r=[e];r.push(new Uint8Array([this.s2kUsage]));const n=[];return this.s2kUsage!==255&&this.s2kUsage!==254&&this.s2kUsage!==253||(n.push(this.symmetric),this.s2kUsage===253&&n.push(this.aead),n.push(...this.s2k.write())),this.s2kUsage&&this.s2k.type!=="gnu-dummy"&&n.push(...this.iv),this.version===5&&r.push(new Uint8Array([n.length])),r.push(new Uint8Array(n)),this.isDummy()||(this.s2kUsage||(this.keyMaterial=Se.serializeParams(this.algorithm,this.privateParams)),this.version===5&&r.push(U.writeNumber(this.keyMaterial.length,4)),r.push(this.keyMaterial),this.s2kUsage||r.push(U.writeChecksum(this.keyMaterial))),U.concatUint8Array(r)}isDecrypted(){return this.isEncrypted===!1}isMissingSecretKeyMaterial(){return this.unparseableKeyMaterial!==void 0||this.isDummy()}isDummy(){return!(!this.s2k||this.s2k.type!=="gnu-dummy")}makeDummy(e=Be){this.isDummy()||(this.isDecrypted()&&this.clearPrivateParams(),delete this.unparseableKeyMaterial,this.isEncrypted=null,this.keyMaterial=null,this.s2k=new hc(e),this.s2k.algorithm=0,this.s2k.c=0,this.s2k.type="gnu-dummy",this.s2kUsage=254,this.symmetric=D.symmetric.aes256)}async encrypt(e,r=Be){if(this.isDummy())return;if(!this.isDecrypted())throw Error("Key packet is already encrypted");if(!e)throw Error("A non-empty passphrase is required for key encryption.");this.s2k=new hc(r),this.s2k.salt=Se.random.getRandomBytes(8);const n=Se.serializeParams(this.algorithm,this.privateParams);this.symmetric=D.symmetric.aes256;const i=await gp(this.s2k,e,this.symmetric),{blockSize:s}=Se.getCipher(this.symmetric);if(this.iv=Se.random.getRandomBytes(s),r.aeadProtect){this.s2kUsage=253,this.aead=D.aead.eax;const o=Se.getAEADMode(this.aead),a=await o(this.symmetric,i);this.keyMaterial=await a.encrypt(n,this.iv.subarray(0,o.ivLength),new Uint8Array)}else this.s2kUsage=254,this.keyMaterial=await Se.mode.cfb.encrypt(this.symmetric,i,U.concatUint8Array([n,await Se.hash.sha1(n,r)]),this.iv,r)}async decrypt(e){if(this.isDummy())return!1;if(this.unparseableKeyMaterial)throw Error("Key packet cannot be decrypted: unsupported S2K or cipher algo");if(this.isDecrypted())throw Error("Key packet is already decrypted.");let r,n;if(this.s2kUsage!==254&&this.s2kUsage!==253)throw this.s2kUsage===255?Error("Encrypted private key is authenticated using an insecure two-byte hash"):Error("Private key is encrypted using an insecure S2K function: unsalted MD5");if(r=await gp(this.s2k,e,this.symmetric),this.s2kUsage===253){const i=Se.getAEADMode(this.aead),s=await i(this.symmetric,r);try{n=await s.decrypt(this.keyMaterial,this.iv.subarray(0,i.ivLength),new Uint8Array)}catch(o){throw o.message==="Authentication tag mismatch"?Error("Incorrect key passphrase: "+o.message):o}}else{const i=await Se.mode.cfb.decrypt(this.symmetric,r,this.keyMaterial,this.iv);n=i.subarray(0,-20);const s=await Se.hash.sha1(n);if(!U.equalsUint8Array(s,i.subarray(-20)))throw Error("Incorrect key passphrase")}try{const{privateParams:i}=Se.parsePrivateKeyParams(this.algorithm,n,this.publicParams);this.privateParams=i}catch{throw Error("Error reading MPIs")}this.isEncrypted=!1,this.keyMaterial=null,this.s2kUsage=0}async validate(){if(this.isDummy())return;if(!this.isDecrypted())throw Error("Key is not decrypted");let e;try{e=await Se.validateParams(this.algorithm,this.publicParams,this.privateParams)}catch{e=!1}if(!e)throw Error("Key is invalid")}async generate(e,r){const{privateParams:n,publicParams:i}=await Se.generateParams(this.algorithm,e,r);this.privateParams=n,this.publicParams=i,this.isEncrypted=!1}clearPrivateParams(){this.isMissingSecretKeyMaterial()||(Object.keys(this.privateParams).forEach(e=>{this.privateParams[e].fill(0),delete this.privateParams[e]}),this.privateParams=null,this.isEncrypted=!0)}}async function gp(t,e,r){const{keySize:n}=Se.getCipher(r);return t.produceKey(e,n)}var rM=Ci(function(t){(function(e){function r(i){function s(){return Me<qe}function o(){return Me}function a(ge){Me=ge}function c(){Me=0,qe=nt.length}function l(ge,ye){return{name:ge,tokens:ye||"",semantic:ye||"",children:[]}}function u(ge,ye){var _e;return ye===null?null:((_e=l(ge)).tokens=ye.tokens,_e.semantic=ye.semantic,_e.children.push(ye),_e)}function f(ge,ye){return ye!==null&&(ge.tokens+=ye.tokens,ge.semantic+=ye.semantic),ge.children.push(ye),ge}function x(ge){var ye;return s()&&ge(ye=nt[Me])?(Me+=1,l("token",ye)):null}function h(ge){return function(){return u("literal",x(function(ye){return ye===ge}))}}function C(){var ge=arguments;return function(){var ye,_e,De,Ue;for(Ue=o(),_e=l("and"),ye=0;ye<ge.length;ye+=1){if((De=ge[ye]())===null)return a(Ue),null;f(_e,De)}return _e}}function w(){var ge=arguments;return function(){var ye,_e,De;for(De=o(),ye=0;ye<ge.length;ye+=1){if((_e=ge[ye]())!==null)return _e;a(De)}return null}}function k(ge){return function(){var ye,_e;return _e=o(),(ye=ge())!==null?ye:(a(_e),l("opt"))}}function O(ge){return function(){var ye=ge();return ye!==null&&(ye.semantic=""),ye}}function z(ge){return function(){var ye=ge();return ye!==null&&ye.semantic.length>0&&(ye.semantic=" "),ye}}function P(ge,ye){return function(){var _e,De,Ue,Oe,Te;for(Oe=o(),_e=l("star"),Ue=0,Te=ye===void 0?0:ye;(De=ge())!==null;)Ue+=1,f(_e,De);return Ue>=Te?_e:(a(Oe),null)}}function A(ge){return ge.charCodeAt(0)>=128}function T(){return u("cr",h("\r")())}function F(){return u("crlf",C(T,p)())}function R(){return u("dquote",h('"')())}function d(){return u("htab",h("	")())}function p(){return u("lf",h(`
`)())}function _(){return u("sp",h(" ")())}function b(){return u("vchar",x(function(ge){var ye=ge.charCodeAt(0),_e=33<=ye&&ye<=126;return i.rfc6532&&(_e=_e||A(ge)),_e}))}function m(){return u("wsp",w(_,d)())}function E(){var ge=u("quoted-pair",w(C(h("\\"),w(b,m)),V)());return ge===null?null:(ge.semantic=ge.semantic[1],ge)}function S(){return u("fws",w(G,C(k(C(P(m),O(F))),P(m,1)))())}function Q(){return u("ctext",w(function(){return x(function(ge){var ye=ge.charCodeAt(0),_e=33<=ye&&ye<=39||42<=ye&&ye<=91||93<=ye&&ye<=126;return i.rfc6532&&(_e=_e||A(ge)),_e})},ce)())}function Z(){return u("ccontent",w(Q,E,M)())}function M(){return u("comment",C(h("("),P(C(k(S),Z)),k(S),h(")"))())}function te(){return u("cfws",w(C(P(C(k(S),M),1),k(S)),S)())}function ie(){return u("atext",x(function(ge){var ye="a"<=ge&&ge<="z"||"A"<=ge&&ge<="Z"||"0"<=ge&&ge<="9"||["!","#","$","%","&","'","*","+","-","/","=","?","^","_","`","{","|","}","~"].indexOf(ge)>=0;return i.rfc6532&&(ye=ye||A(ge)),ye}))}function ue(){return u("atom",C(z(k(te)),P(ie,1),z(k(te)))())}function ne(){var ge,ye;return(ge=u("dot-atom-text",P(ie,1)()))===null||(ye=P(C(h("."),P(ie,1)))())!==null&&f(ge,ye),ge}function le(){return u("dot-atom",C(O(k(te)),ne,O(k(te)))())}function Ae(){return u("qtext",w(function(){return x(function(ge){var ye=ge.charCodeAt(0),_e=ye===33||35<=ye&&ye<=91||93<=ye&&ye<=126;return i.rfc6532&&(_e=_e||A(ge)),_e})},H)())}function me(){return u("qcontent",w(Ae,E)())}function W(){return u("quoted-string",C(O(k(te)),O(R),P(C(k(z(S)),me)),k(O(S)),O(R),O(k(te)))())}function re(){return u("word",w(ue,W)())}function K(){return u("address",w(v,fe)())}function v(){return u("mailbox",w(J,ae)())}function J(){return u("name-addr",C(k(he),xe)())}function xe(){return u("angle-addr",w(C(O(k(te)),h("<"),ae,h(">"),O(k(te))),X)())}function fe(){return u("group",C(he,h(":"),k(B),h(";"),O(k(te)))())}function he(){return u("display-name",((ge=u("phrase",w(Y,P(re,1))()))!==null&&(ge.semantic=function(ye){return ye.replace(/([ \t]|\r\n)+/g," ").replace(/^\s*/,"").replace(/\s*$/,"")}(ge.semantic)),ge));var ge}function y(){return u("mailbox-list",w(C(v,P(C(h(","),v))),L)())}function g(){return u("address-list",w(C(K,P(C(h(","),K))),be)())}function B(){return u("group-list",w(y,O(te),Ee)())}function I(){return u("local-part",w(Pe,le,W)())}function j(){return u("dtext",w(function(){return x(function(ge){var ye=ge.charCodeAt(0),_e=33<=ye&&ye<=90||94<=ye&&ye<=126;return i.rfc6532&&(_e=_e||A(ge)),_e})},Ne)())}function $(){return u("domain-literal",C(O(k(te)),h("["),P(C(k(S),j)),k(S),h("]"),O(k(te)))())}function q(){return u("domain",(ge=w(Ye,le,$)(),i.rejectTLD&&ge&&ge.semantic&&ge.semantic.indexOf(".")<0?null:(ge&&(ge.semantic=ge.semantic.replace(/\s+/g,"")),ge)));var ge}function ae(){return u("addr-spec",C(I,h("@"),q)())}function oe(){return i.strict?null:u("obs-NO-WS-CTL",x(function(ge){var ye=ge.charCodeAt(0);return 1<=ye&&ye<=8||ye===11||ye===12||14<=ye&&ye<=31||ye===127}))}function ce(){return i.strict?null:u("obs-ctext",oe())}function H(){return i.strict?null:u("obs-qtext",oe())}function V(){return i.strict?null:u("obs-qp",C(h("\\"),w(h("\0"),oe,p,T))())}function Y(){return i.strict?null:i.atInDisplayName?u("obs-phrase",C(re,P(w(re,h("."),h("@"),z(te))))()):u("obs-phrase",C(re,P(w(re,h("."),z(te))))())}function G(){return i.strict?null:u("obs-FWS",P(C(O(k(F)),m),1)())}function X(){return i.strict?null:u("obs-angle-addr",C(O(k(te)),h("<"),ee,ae,h(">"),O(k(te)))())}function ee(){return i.strict?null:u("obs-route",C(N,h(":"))())}function N(){return i.strict?null:u("obs-domain-list",C(P(w(O(te),h(","))),h("@"),q,P(C(h(","),O(k(te)),k(C(h("@"),q)))))())}function L(){return i.strict?null:u("obs-mbox-list",C(P(C(O(k(te)),h(","))),v,P(C(h(","),k(C(v,O(te))))))())}function be(){return i.strict?null:u("obs-addr-list",C(P(C(O(k(te)),h(","))),K,P(C(h(","),k(C(K,O(te))))))())}function Ee(){return i.strict?null:u("obs-group-list",C(P(C(O(k(te)),h(",")),1),O(k(te)))())}function Pe(){return i.strict?null:u("obs-local-part",C(re,P(C(h("."),re)))())}function Ye(){return i.strict?null:u("obs-domain",C(ue,P(C(h("."),ue)))())}function Ne(){return i.strict?null:u("obs-dtext",w(oe,E)())}function ke(ge,ye){var _e,De,Ue;if(ye==null)return null;for(De=[ye];De.length>0;){if((Ue=De.pop()).name===ge)return Ue;for(_e=Ue.children.length-1;_e>=0;_e-=1)De.push(Ue.children[_e])}return null}function rt(ge,ye){var _e,De,Ue,Oe,Te;if(ye==null)return null;for(De=[ye],Oe=[],Te={},_e=0;_e<ge.length;_e+=1)Te[ge[_e]]=!0;for(;De.length>0;)if((Ue=De.pop()).name in Te)Oe.push(Ue);else for(_e=Ue.children.length-1;_e>=0;_e-=1)De.push(Ue.children[_e]);return Oe}function Ve(ge){var ye,_e,De,Ue,Oe;if(ge===null)return null;for(ye=[],_e=rt(["group","mailbox"],ge),De=0;De<_e.length;De+=1)(Ue=_e[De]).name==="group"?ye.push(Ze(Ue)):Ue.name==="mailbox"&&ye.push(Ot(Ue));return Oe={ast:ge,addresses:ye},i.simple&&(Oe=function(Te){var lt;if(Te&&Te.addresses)for(lt=0;lt<Te.addresses.length;lt+=1)delete Te.addresses[lt].node;return Te}(Oe)),i.oneResult?function(Te){return!Te||!i.partial&&Te.addresses.length>1?null:Te.addresses&&Te.addresses[0]}(Oe):i.simple?Oe&&Oe.addresses:Oe}function Ze(ge){var ye,_e=ke("display-name",ge),De=[],Ue=rt(["mailbox"],ge);for(ye=0;ye<Ue.length;ye+=1)De.push(Ot(Ue[ye]));return{node:ge,parts:{name:_e},type:ge.name,name:Le(_e),addresses:De}}function Ot(ge){var ye=ke("display-name",ge),_e=ke("addr-spec",ge),De=function(lt,We){var ft,gr,yr,Sr;if(We==null)return null;for(gr=[We],Sr=[];gr.length>0;)for((yr=gr.pop()).name===lt&&Sr.push(yr),ft=yr.children.length-1;ft>=0;ft-=1)gr.push(yr.children[ft]);return Sr}("cfws",ge),Ue=rt(["comment"],ge),Oe=ke("local-part",_e),Te=ke("domain",_e);return{node:ge,parts:{name:ye,address:_e,local:Oe,domain:Te,comments:De},type:ge.name,name:Le(ye),address:Le(_e),local:Le(Oe),domain:Le(Te),comments:ze(Ue),groupName:Le(ge.groupName)}}function Le(ge){return ge!=null?ge.semantic:null}function ze(ge){var ye="";if(ge)for(var _e=0;_e<ge.length;_e+=1)ye+=Le(ge[_e]);return ye}var nt,Me,qe,xt,je;if((i=n(i,{}))===null)return null;if(nt=i.input,je={address:K,"address-list":g,"angle-addr":xe,from:function(){return u("from",w(y,g)())},group:fe,mailbox:v,"mailbox-list":y,"reply-to":function(){return u("reply-to",g())},sender:function(){return u("sender",w(v,K)())}}[i.startAt]||g,!i.strict){if(c(),i.strict=!0,xt=je(nt),i.partial||!s())return Ve(xt);i.strict=!1}return c(),xt=je(nt),!i.partial&&s()?null:Ve(xt)}function n(i,s){function o(u){return Object.prototype.toString.call(u)==="[object String]"}function a(u){return u==null}var c,l;if(o(i))i={input:i};else if(!function(u){return u===Object(u)}(i))return null;if(!o(i.input)||!s)return null;for(l in c={oneResult:!1,partial:!1,rejectTLD:!1,rfc6532:!1,simple:!1,startAt:"address-list",strict:!1,atInDisplayName:!1})a(i[l])&&(i[l]=a(s[l])?c[l]:s[l]);return i}r.parseOneAddress=function(i){return r(n(i,{oneResult:!0,rfc6532:!0,simple:!0,startAt:"address-list"}))},r.parseAddressList=function(i){return r(n(i,{rfc6532:!0,simple:!0,startAt:"address-list"}))},r.parseFrom=function(i){return r(n(i,{rfc6532:!0,simple:!0,startAt:"from"}))},r.parseSender=function(i){return r(n(i,{oneResult:!0,rfc6532:!0,simple:!0,startAt:"sender"}))},r.parseReplyTo=function(i){return r(n(i,{rfc6532:!0,simple:!0,startAt:"reply-to"}))},t.exports=r})()});class Ed{static get tag(){return D.packet.userID}constructor(){this.userID="",this.name="",this.email="",this.comment=""}static fromObject(e){if(U.isString(e)||e.name&&!U.isString(e.name)||e.email&&!U.isEmailAddress(e.email)||e.comment&&!U.isString(e.comment))throw Error("Invalid user ID format");const r=new Ed;Object.assign(r,e);const n=[];return r.name&&n.push(r.name),r.comment&&n.push(`(${r.comment})`),r.email&&n.push(`<${r.email}>`),r.userID=n.join(" "),r}read(e,r=Be){const n=U.decodeUTF8(e);if(n.length>r.maxUserIDLength)throw Error("User ID string is too long");try{const{name:i,address:s,comments:o}=rM.parseOneAddress({input:n,atInDisplayName:!0});this.comment=o.replace(/^\(|\)$/g,""),this.name=i,this.email=s}catch{}this.userID=n}write(){return U.encodeUTF8(this.userID)}equals(e){return e&&e.userID===this.userID}}class Tg extends m9{static get tag(){return D.packet.secretSubkey}constructor(e=new Date,r=Be){super(e,r)}}class Mg{constructor(e){this.packets=e||new yt}write(){return this.packets.write()}armor(e=Be){return il(D.armor.signature,this.write(),void 0,void 0,void 0,e)}getSigningKeyIDs(){return this.packets.map(e=>e.issuerKeyID)}}async function Ig(t,e){const r=new Tg(t.date,e);return r.packets=null,r.algorithm=D.write(D.publicKey,t.algorithm),await r.generate(t.rsaBits,t.curve),await r.computeFingerprintAndKeyID(),r}async function nM(t,e){const r=new m9(t.date,e);return r.packets=null,r.algorithm=D.write(D.publicKey,t.algorithm),await r.generate(t.rsaBits,t.curve,t.config),await r.computeFingerprintAndKeyID(),r}async function qn(t,e,r,n,i=new Date,s){let o,a;for(let c=t.length-1;c>=0;c--)try{(!o||t[c].created>=o.created)&&(await t[c].verify(e,r,n,i,void 0,s),o=t[c])}catch(l){a=l}if(!o)throw U.wrapError(`Could not find valid ${D.read(D.signature,r)} signature in key ${e.getKeyID().toHex()}`.replace("certGeneric ","self-").replace(/([a-z])([A-Z])/g,(c,l,u)=>l+" "+u.toLowerCase()),a);return o}function mh(t,e,r=new Date){const n=U.normalizeDate(r);if(n!==null){const i=uf(t,e);return!(t.created<=n&&n<i)}return!1}async function Rg(t,e,r,n){const i={};i.key=e,i.bind=t;const s={signatureType:D.signature.subkeyBinding};return r.sign?(s.keyFlags=[D.keyFlags.signData],s.embeddedSignature=await Ji(i,null,t,{signatureType:D.signature.keyBinding},r.date,void 0,void 0,void 0,n)):s.keyFlags=[D.keyFlags.encryptCommunication|D.keyFlags.encryptStorage],r.keyExpirationTime>0&&(s.keyExpirationTime=r.keyExpirationTime,s.keyNeverExpires=!1),await Ji(i,null,e,s,r.date,void 0,void 0,void 0,n)}async function Og(t,e,r=new Date,n={},i){let s=i.preferredHashAlgorithm,o=s;if(t){const a=await t.getPrimaryUser(r,n,i);a.selfCertification.preferredHashAlgorithms&&([o]=a.selfCertification.preferredHashAlgorithms,s=Se.hash.getHashByteLength(s)<=Se.hash.getHashByteLength(o)?o:s)}switch(e.algorithm){case D.publicKey.ecdsa:case D.publicKey.eddsaLegacy:case D.publicKey.ed25519:o=Se.getPreferredCurveHashAlgo(e.algorithm,e.publicParams.oid)}return Se.hash.getHashByteLength(s)<=Se.hash.getHashByteLength(o)?o:s}async function gh(t,e=[],r=new Date,n=[],i=Be){const s={symmetric:D.symmetric.aes128,aead:D.aead.eax,compression:D.compression.uncompressed}[t],o={symmetric:i.preferredSymmetricAlgorithm,aead:i.preferredAEADAlgorithm,compression:i.preferredCompressionAlgorithm}[t],a={symmetric:"preferredSymmetricAlgorithms",aead:"preferredAEADAlgorithms",compression:"preferredCompressionAlgorithms"}[t];return(await Promise.all(e.map(async function(l,u){const f=(await l.getPrimaryUser(r,n[u],i)).selfCertification[a];return!!f&&f.indexOf(o)>=0}))).every(Boolean)?o:s}async function Ji(t,e,r,n,i,s,o=[],a=!1,c){if(r.isDummy())throw Error("Cannot sign with a gnu-dummy key.");if(!r.isDecrypted())throw Error("Signing key is not decrypted.");const l=new Br;return Object.assign(l,n),l.publicKeyAlgorithm=r.algorithm,l.hashAlgorithm=await Og(e,r,i,s,c),l.rawNotations=o,await l.sign(r,t,i,a),l}async function I0(t,e,r,n=new Date,i){(t=t[r])&&(e[r].length?await Promise.all(t.map(async function(s){s.isExpired(n)||i&&!await i(s)||e[r].some(function(o){return U.equalsUint8Array(o.writeParams(),s.writeParams())})||e[r].push(s)})):e[r]=t)}async function ca(t,e,r,n,i,s,o=new Date,a){s=s||t;const c=[];return await Promise.all(n.map(async function(l){try{i&&!l.issuerKeyID.equals(i.issuerKeyID)||(await l.verify(s,e,r,a.revocationsExpire?o:null,!1,a),c.push(l.issuerKeyID))}catch{}})),i?(i.revoked=!!c.some(l=>l.equals(i.issuerKeyID))||i.revoked||!1,i.revoked):c.length>0}function uf(t,e){let r;return e.keyNeverExpires===!1&&(r=t.created.getTime()+1e3*e.keyExpirationTime),r?new Date(r):1/0}function yh(t,e={}){switch(t.type=t.type||e.type,t.curve=t.curve||e.curve,t.rsaBits=t.rsaBits||e.rsaBits,t.keyExpirationTime=t.keyExpirationTime!==void 0?t.keyExpirationTime:e.keyExpirationTime,t.passphrase=U.isString(t.passphrase)?t.passphrase:e.passphrase,t.date=t.date||e.date,t.sign=t.sign||!1,t.type){case"ecc":try{t.curve=D.write(D.curve,t.curve)}catch{throw Error("Unknown curve")}t.curve!==D.curve.ed25519Legacy&&t.curve!==D.curve.curve25519Legacy||(t.curve=t.sign?D.curve.ed25519Legacy:D.curve.curve25519Legacy),t.sign?t.algorithm=t.curve===D.curve.ed25519Legacy?D.publicKey.eddsaLegacy:D.publicKey.ecdsa:t.algorithm=D.publicKey.ecdh;break;case"rsa":t.algorithm=D.publicKey.rsaEncryptSign;break;default:throw Error("Unsupported key type "+t.type)}return t}function yp(t,e){const r=t.algorithm;return r!==D.publicKey.rsaEncrypt&&r!==D.publicKey.elgamal&&r!==D.publicKey.ecdh&&r!==D.publicKey.x25519&&(!e.keyFlags||(e.keyFlags[0]&D.keyFlags.signData)!=0)}function Ep(t,e){const r=t.algorithm;return r!==D.publicKey.dsa&&r!==D.publicKey.rsaSign&&r!==D.publicKey.ecdsa&&r!==D.publicKey.eddsaLegacy&&r!==D.publicKey.ed25519&&(!e.keyFlags||(e.keyFlags[0]&D.keyFlags.encryptCommunication)!=0||(e.keyFlags[0]&D.keyFlags.encryptStorage)!=0)}function bp(t,e){return!!e.allowInsecureDecryptionWithSigningKeys||!t.keyFlags||(t.keyFlags[0]&D.keyFlags.encryptCommunication)!=0||(t.keyFlags[0]&D.keyFlags.encryptStorage)!=0}function ko(t,e){const r=D.write(D.publicKey,t.algorithm),n=t.getAlgorithmInfo();if(e.rejectPublicKeyAlgorithms.has(r))throw Error(n.algorithm+" keys are considered too weak.");switch(r){case D.publicKey.rsaEncryptSign:case D.publicKey.rsaSign:case D.publicKey.rsaEncrypt:if(n.bits<e.minRSABits)throw Error(`RSA keys shorter than ${e.minRSABits} bits are considered too weak.`);break;case D.publicKey.ecdsa:case D.publicKey.eddsaLegacy:case D.publicKey.ecdh:if(e.rejectCurves.has(n.curve))throw Error(`Support for ${n.algorithm} keys using curve ${n.curve} is disabled.`)}}class pc{constructor(e,r){this.userID=e.constructor.tag===D.packet.userID?e:null,this.userAttribute=e.constructor.tag===D.packet.userAttribute?e:null,this.selfCertifications=[],this.otherCertifications=[],this.revocationSignatures=[],this.mainKey=r}toPacketList(){const e=new yt;return e.push(this.userID||this.userAttribute),e.push(...this.revocationSignatures),e.push(...this.selfCertifications),e.push(...this.otherCertifications),e}clone(){const e=new pc(this.userID||this.userAttribute,this.mainKey);return e.selfCertifications=[...this.selfCertifications],e.otherCertifications=[...this.otherCertifications],e.revocationSignatures=[...this.revocationSignatures],e}async certify(e,r,n){const i=this.mainKey.keyPacket,s={userID:this.userID,userAttribute:this.userAttribute,key:i},o=new pc(s.userID||s.userAttribute,this.mainKey);return o.otherCertifications=await Promise.all(e.map(async function(a){if(!a.isPrivate())throw Error("Need private key for signing");if(a.hasSameFingerprintAs(i))throw Error("The user's own key can only be used for self-certifications");const c=await a.getSigningKey(void 0,r,void 0,n);return Ji(s,a,c.keyPacket,{signatureType:D.signature.certGeneric,keyFlags:[D.keyFlags.certifyKeys|D.keyFlags.signData]},r,void 0,void 0,void 0,n)})),await o.update(this,r,n),o}async isRevoked(e,r,n=new Date,i=Be){const s=this.mainKey.keyPacket;return ca(s,D.signature.certRevocation,{key:s,userID:this.userID,userAttribute:this.userAttribute},this.revocationSignatures,e,r,n,i)}async verifyCertificate(e,r,n=new Date,i){const s=this,o=this.mainKey.keyPacket,a={userID:this.userID,userAttribute:this.userAttribute,key:o},{issuerKeyID:c}=e,l=r.filter(u=>u.getKeys(c).length>0);return l.length===0?null:(await Promise.all(l.map(async u=>{const f=await u.getSigningKey(c,e.created,void 0,i);if(e.revoked||await s.isRevoked(e,f.keyPacket,n,i))throw Error("User certificate is revoked");try{await e.verify(f.keyPacket,D.signature.certGeneric,a,n,void 0,i)}catch(x){throw U.wrapError("User certificate is invalid",x)}})),!0)}async verifyAllCertifications(e,r=new Date,n){const i=this,s=this.selfCertifications.concat(this.otherCertifications);return Promise.all(s.map(async o=>({keyID:o.issuerKeyID,valid:await i.verifyCertificate(o,e,r,n).catch(()=>!1)})))}async verify(e=new Date,r){if(!this.selfCertifications.length)throw Error("No self-certifications found");const n=this,i=this.mainKey.keyPacket,s={userID:this.userID,userAttribute:this.userAttribute,key:i};let o;for(let a=this.selfCertifications.length-1;a>=0;a--)try{const c=this.selfCertifications[a];if(c.revoked||await n.isRevoked(c,void 0,e,r))throw Error("Self-certification is revoked");try{await c.verify(i,D.signature.certGeneric,s,e,void 0,r)}catch(l){throw U.wrapError("Self-certification is invalid",l)}return!0}catch(c){o=c}throw o}async update(e,r,n){const i=this.mainKey.keyPacket,s={userID:this.userID,userAttribute:this.userAttribute,key:i};await I0(e,this,"selfCertifications",r,async function(o){try{return await o.verify(i,D.signature.certGeneric,s,r,!1,n),!0}catch{return!1}}),await I0(e,this,"otherCertifications",r),await I0(e,this,"revocationSignatures",r,function(o){return ca(i,D.signature.certRevocation,s,[o],void 0,void 0,r,n)})}async revoke(e,{flag:r=D.reasonForRevocation.noReason,string:n=""}={},i=new Date,s=Be){const o={userID:this.userID,userAttribute:this.userAttribute,key:e},a=new pc(o.userID||o.userAttribute,this.mainKey);return a.revocationSignatures.push(await Ji(o,null,e,{signatureType:D.signature.certRevocation,reasonForRevocationFlag:D.write(D.reasonForRevocation,r),reasonForRevocationString:n},i,void 0,void 0,!1,s)),await a.update(this),a}}class la{constructor(e,r){this.keyPacket=e,this.bindingSignatures=[],this.revocationSignatures=[],this.mainKey=r}toPacketList(){const e=new yt;return e.push(this.keyPacket),e.push(...this.revocationSignatures),e.push(...this.bindingSignatures),e}clone(){const e=new la(this.keyPacket,this.mainKey);return e.bindingSignatures=[...this.bindingSignatures],e.revocationSignatures=[...this.revocationSignatures],e}async isRevoked(e,r,n=new Date,i=Be){const s=this.mainKey.keyPacket;return ca(s,D.signature.subkeyRevocation,{key:s,bind:this.keyPacket},this.revocationSignatures,e,r,n,i)}async verify(e=new Date,r=Be){const n=this.mainKey.keyPacket,i={key:n,bind:this.keyPacket},s=await qn(this.bindingSignatures,n,D.signature.subkeyBinding,i,e,r);if(s.revoked||await this.isRevoked(s,null,e,r))throw Error("Subkey is revoked");if(mh(this.keyPacket,s,e))throw Error("Subkey is expired");return s}async getExpirationTime(e=new Date,r=Be){const n=this.mainKey.keyPacket,i={key:n,bind:this.keyPacket};let s;try{s=await qn(this.bindingSignatures,n,D.signature.subkeyBinding,i,e,r)}catch{return null}const o=uf(this.keyPacket,s),a=s.getExpirationTime();return o<a?o:a}async update(e,r=new Date,n=Be){const i=this.mainKey.keyPacket;if(!this.hasSameFingerprintAs(e))throw Error("Subkey update method: fingerprints of subkeys not equal");this.keyPacket.constructor.tag===D.packet.publicSubkey&&e.keyPacket.constructor.tag===D.packet.secretSubkey&&(this.keyPacket=e.keyPacket);const s=this,o={key:i,bind:s.keyPacket};await I0(e,this,"bindingSignatures",r,async function(a){for(let c=0;c<s.bindingSignatures.length;c++)if(s.bindingSignatures[c].issuerKeyID.equals(a.issuerKeyID))return a.created>s.bindingSignatures[c].created&&(s.bindingSignatures[c]=a),!1;try{return await a.verify(i,D.signature.subkeyBinding,o,r,void 0,n),!0}catch{return!1}}),await I0(e,this,"revocationSignatures",r,function(a){return ca(i,D.signature.subkeyRevocation,o,[a],void 0,void 0,r,n)})}async revoke(e,{flag:r=D.reasonForRevocation.noReason,string:n=""}={},i=new Date,s=Be){const o={key:e,bind:this.keyPacket},a=new la(this.keyPacket,this.mainKey);return a.revocationSignatures.push(await Ji(o,null,e,{signatureType:D.signature.subkeyRevocation,reasonForRevocationFlag:D.write(D.reasonForRevocation,r),reasonForRevocationString:n},i,void 0,void 0,!1,s)),await a.update(this),a}hasSameFingerprintAs(e){return this.keyPacket.hasSameFingerprintAs(e.keyPacket||e)}}["getKeyID","getFingerprint","getAlgorithmInfo","getCreationTime","isDecrypted"].forEach(t=>{la.prototype[t]=function(){return this.keyPacket[t]()}});const iM=U.constructAllowedPackets([Br]),Cp=new Set([D.packet.publicKey,D.packet.privateKey]),Ap=new Set([D.packet.publicKey,D.packet.privateKey,D.packet.publicSubkey,D.packet.privateSubkey]);class Lg{packetListToStructure(e,r=new Set){let n,i,s,o;for(const a of e){if(a instanceof ch){Ap.has(a.tag)&&!o&&(o=Cp.has(a.tag)?Cp:Ap);continue}const c=a.constructor.tag;if(o){if(!o.has(c))continue;o=null}if(r.has(c))throw Error("Unexpected packet type: "+c);switch(c){case D.packet.publicKey:case D.packet.secretKey:if(this.keyPacket)throw Error("Key block contains multiple keys");if(this.keyPacket=a,i=this.getKeyID(),!i)throw Error("Missing Key ID");break;case D.packet.userID:case D.packet.userAttribute:n=new pc(a,this),this.users.push(n);break;case D.packet.publicSubkey:case D.packet.secretSubkey:n=null,s=new la(a,this),this.subkeys.push(s);break;case D.packet.signature:switch(a.signatureType){case D.signature.certGeneric:case D.signature.certPersona:case D.signature.certCasual:case D.signature.certPositive:if(!n){U.printDebug("Dropping certification signatures without preceding user packet");continue}a.issuerKeyID.equals(i)?n.selfCertifications.push(a):n.otherCertifications.push(a);break;case D.signature.certRevocation:n?n.revocationSignatures.push(a):this.directSignatures.push(a);break;case D.signature.key:this.directSignatures.push(a);break;case D.signature.subkeyBinding:if(!s){U.printDebug("Dropping subkey binding signature without preceding subkey packet");continue}s.bindingSignatures.push(a);break;case D.signature.keyRevocation:this.revocationSignatures.push(a);break;case D.signature.subkeyRevocation:if(!s){U.printDebug("Dropping subkey revocation signature without preceding subkey packet");continue}s.revocationSignatures.push(a)}}}}toPacketList(){const e=new yt;return e.push(this.keyPacket),e.push(...this.revocationSignatures),e.push(...this.directSignatures),this.users.map(r=>e.push(...r.toPacketList())),this.subkeys.map(r=>e.push(...r.toPacketList())),e}clone(e=!1){const r=new this.constructor(this.toPacketList());return e&&r.getKeys().forEach(n=>{if(n.keyPacket=Object.create(Object.getPrototypeOf(n.keyPacket),Object.getOwnPropertyDescriptors(n.keyPacket)),!n.keyPacket.isDecrypted())return;const i={};Object.keys(n.keyPacket.privateParams).forEach(s=>{i[s]=new Uint8Array(n.keyPacket.privateParams[s])}),n.keyPacket.privateParams=i}),r}getSubkeys(e=null){return this.subkeys.filter(r=>!e||r.getKeyID().equals(e,!0))}getKeys(e=null){const r=[];return e&&!this.getKeyID().equals(e,!0)||r.push(this),r.concat(this.getSubkeys(e))}getKeyIDs(){return this.getKeys().map(e=>e.getKeyID())}getUserIDs(){return this.users.map(e=>e.userID?e.userID.userID:null).filter(e=>e!==null)}write(){return this.toPacketList().write()}async getSigningKey(e=null,r=new Date,n={},i=Be){await this.verifyPrimaryKey(r,n,i);const s=this.keyPacket,o=this.subkeys.slice().sort((c,l)=>l.keyPacket.created-c.keyPacket.created);let a;for(const c of o)if(!e||c.getKeyID().equals(e))try{await c.verify(r,i);const l={key:s,bind:c.keyPacket},u=await qn(c.bindingSignatures,s,D.signature.subkeyBinding,l,r,i);if(!yp(c.keyPacket,u))continue;if(!u.embeddedSignature)throw Error("Missing embedded signature");return await qn([u.embeddedSignature],c.keyPacket,D.signature.keyBinding,l,r,i),ko(c.keyPacket,i),c}catch(l){a=l}try{const c=await this.getPrimaryUser(r,n,i);if((!e||s.getKeyID().equals(e))&&yp(s,c.selfCertification))return ko(s,i),this}catch(c){a=c}throw U.wrapError("Could not find valid signing key packet in key "+this.getKeyID().toHex(),a)}async getEncryptionKey(e,r=new Date,n={},i=Be){await this.verifyPrimaryKey(r,n,i);const s=this.keyPacket,o=this.subkeys.slice().sort((c,l)=>l.keyPacket.created-c.keyPacket.created);let a;for(const c of o)if(!e||c.getKeyID().equals(e))try{await c.verify(r,i);const l={key:s,bind:c.keyPacket},u=await qn(c.bindingSignatures,s,D.signature.subkeyBinding,l,r,i);if(Ep(c.keyPacket,u))return ko(c.keyPacket,i),c}catch(l){a=l}try{const c=await this.getPrimaryUser(r,n,i);if((!e||s.getKeyID().equals(e))&&Ep(s,c.selfCertification))return ko(s,i),this}catch(c){a=c}throw U.wrapError("Could not find valid encryption key packet in key "+this.getKeyID().toHex(),a)}async isRevoked(e,r,n=new Date,i=Be){return ca(this.keyPacket,D.signature.keyRevocation,{key:this.keyPacket},this.revocationSignatures,e,r,n,i)}async verifyPrimaryKey(e=new Date,r={},n=Be){const i=this.keyPacket;if(await this.isRevoked(null,null,e,n))throw Error("Primary key is revoked");const{selfCertification:s}=await this.getPrimaryUser(e,r,n);if(mh(i,s,e))throw Error("Primary key is expired");const o=await qn(this.directSignatures,i,D.signature.key,{key:i},e,n).catch(()=>{});if(o&&mh(i,o,e))throw Error("Primary key is expired")}async getExpirationTime(e,r=Be){let n;try{const{selfCertification:i}=await this.getPrimaryUser(null,e,r),s=uf(this.keyPacket,i),o=i.getExpirationTime(),a=await qn(this.directSignatures,this.keyPacket,D.signature.key,{key:this.keyPacket},null,r).catch(()=>{});if(a){const c=uf(this.keyPacket,a);n=Math.min(s,o,c)}else n=s<o?s:o}catch{n=null}return U.normalizeDate(n)}async getPrimaryUser(e=new Date,r={},n=Be){const i=this.keyPacket,s=[];let o;for(let u=0;u<this.users.length;u++)try{const f=this.users[u];if(!f.userID)continue;if(r.name!==void 0&&f.userID.name!==r.name||r.email!==void 0&&f.userID.email!==r.email||r.comment!==void 0&&f.userID.comment!==r.comment)throw Error("Could not find user that matches that user ID");const x={userID:f.userID,key:i},h=await qn(f.selfCertifications,i,D.signature.certGeneric,x,e,n);s.push({index:u,user:f,selfCertification:h})}catch(f){o=f}if(!s.length)throw o||Error("Could not find primary user");await Promise.all(s.map(async function(u){return u.selfCertification.revoked||u.user.isRevoked(u.selfCertification,null,e,n)}));const a=s.sort(function(u,f){const x=u.selfCertification,h=f.selfCertification;return h.revoked-x.revoked||x.isPrimaryUserID-h.isPrimaryUserID||x.created-h.created}).pop(),{user:c,selfCertification:l}=a;if(l.revoked||await c.isRevoked(l,null,e,n))throw Error("Primary user is revoked");return a}async update(e,r=new Date,n=Be){if(!this.hasSameFingerprintAs(e))throw Error("Primary key fingerprints must be equal to update the key");if(!this.isPrivate()&&e.isPrivate()){if(!(this.subkeys.length===e.subkeys.length&&this.subkeys.every(s=>e.subkeys.some(o=>s.hasSameFingerprintAs(o)))))throw Error("Cannot update public key with private key if subkeys mismatch");return e.update(this,n)}const i=this.clone();return await I0(e,i,"revocationSignatures",r,s=>ca(i.keyPacket,D.signature.keyRevocation,i,[s],null,e.keyPacket,r,n)),await I0(e,i,"directSignatures",r),await Promise.all(e.users.map(async s=>{const o=i.users.filter(a=>s.userID&&s.userID.equals(a.userID)||s.userAttribute&&s.userAttribute.equals(a.userAttribute));if(o.length>0)await Promise.all(o.map(a=>a.update(s,r,n)));else{const a=s.clone();a.mainKey=i,i.users.push(a)}})),await Promise.all(e.subkeys.map(async s=>{const o=i.subkeys.filter(a=>a.hasSameFingerprintAs(s));if(o.length>0)await Promise.all(o.map(a=>a.update(s,r,n)));else{const a=s.clone();a.mainKey=i,i.subkeys.push(a)}})),i}async getRevocationCertificate(e=new Date,r=Be){const n={key:this.keyPacket},i=await qn(this.revocationSignatures,this.keyPacket,D.signature.keyRevocation,n,e,r),s=new yt;return s.push(i),il(D.armor.publicKey,s.write(),null,null,"This is a revocation certificate")}async applyRevocationCertificate(e,r=new Date,n=Be){const i=await ud(e,n),s=(await yt.fromBinary(i.data,iM,n)).findPacket(D.packet.signature);if(!s||s.signatureType!==D.signature.keyRevocation)throw Error("Could not find revocation signature packet");if(!s.issuerKeyID.equals(this.getKeyID()))throw Error("Revocation signature does not match key");try{await s.verify(this.keyPacket,D.signature.keyRevocation,{key:this.keyPacket},r,void 0,n)}catch(a){throw U.wrapError("Could not verify revocation signature",a)}const o=this.clone();return o.revocationSignatures.push(s),o}async signPrimaryUser(e,r,n,i=Be){const{index:s,user:o}=await this.getPrimaryUser(r,n,i),a=await o.certify(e,r,i),c=this.clone();return c.users[s]=a,c}async signAllUsers(e,r=new Date,n=Be){const i=this.clone();return i.users=await Promise.all(this.users.map(function(s){return s.certify(e,r,n)})),i}async verifyPrimaryUser(e,r=new Date,n,i=Be){const s=this.keyPacket,{user:o}=await this.getPrimaryUser(r,n,i);return e?await o.verifyAllCertifications(e,r,i):[{keyID:s.getKeyID(),valid:await o.verify(r,i).catch(()=>!1)}]}async verifyAllUsers(e,r=new Date,n=Be){const i=this.keyPacket,s=[];return await Promise.all(this.users.map(async o=>{const a=e?await o.verifyAllCertifications(e,r,n):[{keyID:i.getKeyID(),valid:await o.verify(r,n).catch(()=>!1)}];s.push(...a.map(c=>({userID:o.userID?o.userID.userID:null,userAttribute:o.userAttribute,keyID:c.keyID,valid:c.valid})))})),s}}["getKeyID","getFingerprint","getAlgorithmInfo","getCreationTime","hasSameFingerprintAs"].forEach(t=>{Lg.prototype[t]=la.prototype[t]});class Eh extends Lg{constructor(e){if(super(),this.keyPacket=null,this.revocationSignatures=[],this.directSignatures=[],this.users=[],this.subkeys=[],e&&(this.packetListToStructure(e,new Set([D.packet.secretKey,D.packet.secretSubkey])),!this.keyPacket))throw Error("Invalid key: missing public-key packet")}isPrivate(){return!1}toPublic(){return this}armor(e=Be){return il(D.armor.publicKey,this.toPacketList().write(),void 0,void 0,void 0,e)}}class bd extends Eh{constructor(e){if(super(),this.packetListToStructure(e,new Set([D.packet.publicKey,D.packet.publicSubkey])),!this.keyPacket)throw Error("Invalid key: missing private-key packet")}isPrivate(){return!0}toPublic(){const e=new yt,r=this.toPacketList();for(const n of r)switch(n.constructor.tag){case D.packet.secretKey:{const i=si.fromSecretKeyPacket(n);e.push(i);break}case D.packet.secretSubkey:{const i=yd.fromSecretSubkeyPacket(n);e.push(i);break}default:e.push(n)}return new Eh(e)}armor(e=Be){return il(D.armor.privateKey,this.toPacketList().write(),void 0,void 0,void 0,e)}async getDecryptionKeys(e,r=new Date,n={},i=Be){const s=this.keyPacket,o=[];for(let c=0;c<this.subkeys.length;c++)if(!e||this.subkeys[c].getKeyID().equals(e,!0))try{const l={key:s,bind:this.subkeys[c].keyPacket};bp(await qn(this.subkeys[c].bindingSignatures,s,D.signature.subkeyBinding,l,r,i),i)&&o.push(this.subkeys[c])}catch{}const a=await this.getPrimaryUser(r,n,i);return e&&!s.getKeyID().equals(e,!0)||!bp(a.selfCertification,i)||o.push(this),o}isDecrypted(){return this.getKeys().some(({keyPacket:e})=>e.isDecrypted())}async validate(e=Be){if(!this.isPrivate())throw Error("Cannot validate a public key");let r;if(this.keyPacket.isDummy()){const n=await this.getSigningKey(null,null,void 0,{...e,rejectPublicKeyAlgorithms:new Set,minRSABits:0});n&&!n.keyPacket.isDummy()&&(r=n.keyPacket)}else r=this.keyPacket;if(r)return r.validate();{const n=this.getKeys();if(n.map(s=>s.keyPacket.isDummy()).every(Boolean))throw Error("Cannot validate an all-gnu-dummy key");return Promise.all(n.map(async s=>s.keyPacket.validate()))}}clearPrivateParams(){this.getKeys().forEach(({keyPacket:e})=>{e.isDecrypted()&&e.clearPrivateParams()})}async revoke({flag:e=D.reasonForRevocation.noReason,string:r=""}={},n=new Date,i=Be){if(!this.isPrivate())throw Error("Need private key for revoking");const s={key:this.keyPacket},o=this.clone();return o.revocationSignatures.push(await Ji(s,null,this.keyPacket,{signatureType:D.signature.keyRevocation,reasonForRevocationFlag:D.write(D.reasonForRevocation,e),reasonForRevocationString:r},n,void 0,void 0,void 0,i)),o}async addSubkey(e={}){const r={...Be,...e.config};if(e.passphrase)throw Error("Subkey could not be encrypted here, please encrypt whole key");if(e.rsaBits<r.minRSABits)throw Error(`rsaBits should be at least ${r.minRSABits}, got: ${e.rsaBits}`);const n=this.keyPacket;if(n.isDummy())throw Error("Cannot add subkey to gnu-dummy primary key");if(!n.isDecrypted())throw Error("Key is not decrypted");const i=n.getAlgorithmInfo();i.type=i.curve?"ecc":"rsa",i.rsaBits=i.bits||4096,i.curve=i.curve||"curve25519",e=yh(e,i);const s=await Ig(e);ko(s,r);const o=await Rg(s,n,e,r),a=this.toPacketList();return a.push(s,o),new bd(a)}}const sM=U.constructAllowedPackets([si,yd,m9,Tg,Ed,p9,Br]);function oM(t){for(const e of t)switch(e.constructor.tag){case D.packet.secretKey:return new bd(t);case D.packet.publicKey:return new Eh(t)}throw Error("No key packet found")}async function aM(t,e,r,n){r.passphrase&&await t.encrypt(r.passphrase,n),await Promise.all(e.map(async function(o,a){const c=r.subkeys[a].passphrase;c&&await o.encrypt(c,n)}));const i=new yt;i.push(t),await Promise.all(r.userIDs.map(async function(o,a){function c(x,h){return[h,...x.filter(C=>C!==h)]}const l=Ed.fromObject(o),u={};u.userID=l,u.key=t;const f={};return f.signatureType=D.signature.certGeneric,f.keyFlags=[D.keyFlags.certifyKeys|D.keyFlags.signData],f.preferredSymmetricAlgorithms=c([D.symmetric.aes256,D.symmetric.aes128,D.symmetric.aes192],n.preferredSymmetricAlgorithm),n.aeadProtect&&(f.preferredAEADAlgorithms=c([D.aead.eax,D.aead.ocb],n.preferredAEADAlgorithm)),f.preferredHashAlgorithms=c([D.hash.sha256,D.hash.sha512],n.preferredHashAlgorithm),f.preferredCompressionAlgorithms=c([D.compression.zlib,D.compression.zip,D.compression.uncompressed],n.preferredCompressionAlgorithm),a===0&&(f.isPrimaryUserID=!0),f.features=[0],f.features[0]|=D.features.modificationDetection,n.aeadProtect&&(f.features[0]|=D.features.aead),n.v5Keys&&(f.features[0]|=D.features.v5Keys),r.keyExpirationTime>0&&(f.keyExpirationTime=r.keyExpirationTime,f.keyNeverExpires=!1),{userIDPacket:l,signaturePacket:await Ji(u,null,t,f,r.date,void 0,void 0,void 0,n)}})).then(o=>{o.forEach(({userIDPacket:a,signaturePacket:c})=>{i.push(a),i.push(c)})}),await Promise.all(e.map(async function(o,a){const c=r.subkeys[a];return{secretSubkeyPacket:o,subkeySignaturePacket:await Rg(o,t,c,n)}})).then(o=>{o.forEach(({secretSubkeyPacket:a,subkeySignaturePacket:c})=>{i.push(a),i.push(c)})});const s={key:t};return i.push(await Ji(s,null,t,{signatureType:D.signature.keyRevocation,reasonForRevocationFlag:D.reasonForRevocation.noReason,reasonForRevocationString:""},r.date,void 0,void 0,void 0,n)),r.passphrase&&t.clearPrivateParams(),await Promise.all(e.map(async function(o,a){r.subkeys[a].passphrase&&o.clearPrivateParams()})),new bd(i)}async function bh({armoredKey:t,binaryKey:e,config:r,...n}){if(r={...Be,...r},!t&&!e)throw Error("readKey: must pass options object containing `armoredKey` or `binaryKey`");if(t&&!U.isString(t))throw Error("readKey: options.armoredKey must be a string");if(e&&!U.isUint8Array(e))throw Error("readKey: options.binaryKey must be a Uint8Array");const i=Object.keys(n);if(i.length>0)throw Error("Unknown option: "+i.join(", "));let s;if(t){const{type:o,data:a}=await ud(t,r);if(o!==D.armor.publicKey&&o!==D.armor.privateKey)throw Error("Armored text not of type key");s=a}else s=e;return oM(await yt.fromBinary(s,sM,r))}const cM=U.constructAllowedPackets([va,fl,gd,Pg,tM,ph,aa,Dn,Br]),lM=U.constructAllowedPackets([aa]),uM=U.constructAllowedPackets([Br]);class ln{constructor(e){this.packets=e||new yt}getEncryptionKeyIDs(){const e=[];return this.packets.filterByTag(D.packet.publicKeyEncryptedSessionKey).forEach(function(r){e.push(r.publicKeyID)}),e}getSigningKeyIDs(){const e=this.unwrapCompressed(),r=e.packets.filterByTag(D.packet.onePassSignature);return r.length>0?r.map(n=>n.issuerKeyID):e.packets.filterByTag(D.packet.signature).map(n=>n.issuerKeyID)}async decrypt(e,r,n,i=new Date,s=Be){const o=n||await this.decryptSessionKeys(e,r,i,s),a=this.packets.filterByTag(D.packet.symmetricallyEncryptedData,D.packet.symEncryptedIntegrityProtectedData,D.packet.aeadEncryptedData);if(a.length===0)throw Error("No encrypted data found");const c=a[0];let l=null;const u=Promise.all(o.map(async({algorithm:x,data:h})=>{if(!U.isUint8Array(h)||!U.isString(x))throw Error("Invalid session key for decryption.");try{const C=D.write(D.symmetric,x);await c.decrypt(C,h,s)}catch(C){U.printDebugError(C),l=C}}));if(rh(c.encrypted),c.encrypted=null,await u,!c.packets||!c.packets.length)throw l||Error("Decryption failed.");const f=new ln(c.packets);return c.packets=new yt,f}async decryptSessionKeys(e,r,n=new Date,i=Be){let s,o=[];if(r){const a=this.packets.filterByTag(D.packet.symEncryptedSessionKey);if(a.length===0)throw Error("No symmetrically encrypted session key packet found.");await Promise.all(r.map(async function(c,l){let u;u=l?await yt.fromBinary(a.write(),lM,i):a,await Promise.all(u.map(async function(f){try{await f.decrypt(c),o.push(f)}catch(x){U.printDebugError(x)}}))}))}else{if(!e)throw Error("No key or password specified.");{const a=this.packets.filterByTag(D.packet.publicKeyEncryptedSessionKey);if(a.length===0)throw Error("No public key encrypted session key packet found.");await Promise.all(a.map(async function(c){await Promise.all(e.map(async function(l){let u=[D.symmetric.aes256,D.symmetric.aes128,D.symmetric.tripledes,D.symmetric.cast5];try{const x=await l.getPrimaryUser(n,void 0,i);x.selfCertification.preferredSymmetricAlgorithms&&(u=u.concat(x.selfCertification.preferredSymmetricAlgorithms))}catch{}const f=(await l.getDecryptionKeys(c.publicKeyID,null,void 0,i)).map(x=>x.keyPacket);await Promise.all(f.map(async function(x){if(!(!x||x.isDummy())){if(!x.isDecrypted())throw Error("Decryption key is not decrypted.");if(i.constantTimePKCS1Decryption&&(c.publicKeyAlgorithm===D.publicKey.rsaEncrypt||c.publicKeyAlgorithm===D.publicKey.rsaEncryptSign||c.publicKeyAlgorithm===D.publicKey.rsaSign||c.publicKeyAlgorithm===D.publicKey.elgamal)){const h=c.write();await Promise.all(Array.from(i.constantTimePKCS1DecryptionSupportedSymmetricAlgorithms).map(async C=>{const w=new ph;w.read(h);const k={sessionKeyAlgorithm:C,sessionKey:Se.generateSessionKey(C)};try{await w.decrypt(x,k),o.push(w)}catch(O){U.printDebugError(O),s=O}}))}else try{if(await c.decrypt(x),!u.includes(D.write(D.symmetric,c.sessionKeyAlgorithm)))throw Error("A non-preferred symmetric algorithm was used.");o.push(c)}catch(h){U.printDebugError(h),s=h}}}))})),rh(c.encrypted),c.encrypted=null}))}}if(o.length>0){if(o.length>1){const a=new Set;o=o.filter(c=>{const l=c.sessionKeyAlgorithm+U.uint8ArrayToString(c.sessionKey);return!a.has(l)&&(a.add(l),!0)})}return o.map(a=>({data:a.sessionKey,algorithm:D.read(D.symmetric,a.sessionKeyAlgorithm)}))}throw s||Error("Session key decryption failed.")}getLiteralData(){const e=this.unwrapCompressed().packets.findPacket(D.packet.literalData);return e&&e.getBytes()||null}getFilename(){const e=this.unwrapCompressed().packets.findPacket(D.packet.literalData);return e&&e.getFilename()||null}getText(){const e=this.unwrapCompressed().packets.findPacket(D.packet.literalData);return e?e.getText():null}static async generateSessionKey(e=[],r=new Date,n=[],i=Be){const s=await gh("symmetric",e,r,n,i),o=D.read(D.symmetric,s),a=i.aeadProtect&&await async function(c,l=new Date,u=[],f=Be){let x=!0;return await Promise.all(c.map(async function(h,C){const w=await h.getPrimaryUser(l,u[C],f);w.selfCertification.features&&w.selfCertification.features[0]&D.features.aead||(x=!1)})),x}(e,r,n,i)?D.read(D.aead,await gh("aead",e,r,n,i)):void 0;return await Promise.all(e.map(c=>c.getEncryptionKey().catch(()=>null).then(l=>{if(l&&l.keyPacket.algorithm===D.publicKey.x25519&&!U.isAES(s))throw Error("Could not generate a session key compatible with the given `encryptionKeys`: X22519 keys can only be used to encrypt AES session keys; change `config.preferredSymmetricAlgorithm` accordingly.")}))),{data:Se.generateSessionKey(s),algorithm:o,aeadAlgorithm:a}}async encrypt(e,r,n,i=!1,s=[],o=new Date,a=[],c=Be){if(n){if(!U.isUint8Array(n.data)||!U.isString(n.algorithm))throw Error("Invalid session key for encryption.")}else if(e&&e.length)n=await ln.generateSessionKey(e,o,a,c);else{if(!r||!r.length)throw Error("No keys, passwords, or session key provided.");n=await ln.generateSessionKey(void 0,void 0,void 0,c)}const{data:l,algorithm:u,aeadAlgorithm:f}=n,x=await ln.encryptSessionKey(l,u,f,e,r,i,s,o,a,c);let h;f?(h=new gd,h.aeadAlgorithm=D.write(D.aead,f)):h=new Pg,h.packets=this.packets;const C=D.write(D.symmetric,u);return await h.encrypt(C,l,c),x.packets.push(h),h.packets=new yt,x}static async encryptSessionKey(e,r,n,i,s,o=!1,a=[],c=new Date,l=[],u=Be){const f=new yt,x=D.write(D.symmetric,r),h=n&&D.write(D.aead,n);if(i){const C=await Promise.all(i.map(async function(w,k){const O=await w.getEncryptionKey(a[k],c,l,u),z=new ph;return z.publicKeyID=o?Hs.wildcard():O.getKeyID(),z.publicKeyAlgorithm=O.keyPacket.algorithm,z.sessionKey=e,z.sessionKeyAlgorithm=x,await z.encrypt(O.keyPacket),delete z.sessionKey,z}));f.push(...C)}if(s){const C=async function(z,P){try{return await z.decrypt(P),1}catch{return 0}},w=(z,P)=>z+P,k=async function(z,P,A,T){const F=new aa(u);return F.sessionKey=z,F.sessionKeyAlgorithm=P,A&&(F.aeadAlgorithm=A),await F.encrypt(T,u),u.passwordCollisionCheck&&(await Promise.all(s.map(R=>C(F,R)))).reduce(w)!==1?k(z,P,T):(delete F.sessionKey,F)},O=await Promise.all(s.map(z=>k(e,x,h,z)));f.push(...O)}return new ln(f)}async sign(e=[],r=null,n=[],i=new Date,s=[],o=[],a=Be){const c=new yt,l=this.packets.findPacket(D.packet.literalData);if(!l)throw Error("No literal data packet to sign.");let u,f;const x=l.text===null?D.signature.binary:D.signature.text;if(r)for(f=r.packets.filterByTag(D.packet.signature),u=f.length-1;u>=0;u--){const h=f[u],C=new Dn;C.signatureType=h.signatureType,C.hashAlgorithm=h.hashAlgorithm,C.publicKeyAlgorithm=h.publicKeyAlgorithm,C.issuerKeyID=h.issuerKeyID,e.length||u!==0||(C.flags=1),c.push(C)}return await Promise.all(Array.from(e).reverse().map(async function(h,C){if(!h.isPrivate())throw Error("Need private key for signing");const w=n[e.length-1-C],k=await h.getSigningKey(w,i,s,a),O=new Dn;return O.signatureType=x,O.hashAlgorithm=await Og(h,k.keyPacket,i,s,a),O.publicKeyAlgorithm=k.keyPacket.algorithm,O.issuerKeyID=k.getKeyID(),C===e.length-1&&(O.flags=1),O})).then(h=>{h.forEach(C=>c.push(C))}),c.push(l),c.push(...await vp(l,e,r,n,i,s,o,!1,a)),new ln(c)}compress(e,r=Be){if(e===D.compression.uncompressed)return this;const n=new fl(r);n.algorithm=e,n.packets=this.packets;const i=new yt;return i.push(n),new ln(i)}async signDetached(e=[],r=null,n=[],i=new Date,s=[],o=[],a=Be){const c=this.packets.findPacket(D.packet.literalData);if(!c)throw Error("No literal data packet to sign.");return new Mg(await vp(c,e,r,n,i,s,o,!0,a))}async verify(e,r=new Date,n=Be){const i=this.unwrapCompressed(),s=i.packets.filterByTag(D.packet.literalData);if(s.length!==1)throw Error("Can only verify message with one literal data packet.");Rt(i.packets.stream)&&i.packets.push(...await Lt(i.packets.stream,c=>c||[]));const o=i.packets.filterByTag(D.packet.onePassSignature).reverse(),a=i.packets.filterByTag(D.packet.signature);return o.length&&!a.length&&U.isStream(i.packets.stream)&&!Rt(i.packets.stream)?(await Promise.all(o.map(async c=>{c.correspondingSig=new Promise((l,u)=>{c.correspondingSigResolve=l,c.correspondingSigReject=u}),c.signatureData=Zs(async()=>(await c.correspondingSig).signatureData),c.hashed=Lt(await c.hash(c.signatureType,s[0],void 0,!1)),c.hashed.catch(()=>{})})),i.packets.stream=qi(i.packets.stream,async(c,l)=>{const u=bi(c),f=zr(l);try{for(let x=0;x<o.length;x++){const{value:h}=await u.read();o[x].correspondingSigResolve(h)}await u.readToEnd(),await f.ready,await f.close()}catch(x){o.forEach(h=>{h.correspondingSigReject(x)}),await f.abort(x)}}),Kx(o,s,e,r,!1,n)):Kx(a,s,e,r,!1,n)}verifyDetached(e,r,n=new Date,i=Be){const s=this.unwrapCompressed().packets.filterByTag(D.packet.literalData);if(s.length!==1)throw Error("Can only verify message with one literal data packet.");return Kx(e.packets.filterByTag(D.packet.signature),s,r,n,!0,i)}unwrapCompressed(){const e=this.packets.filterByTag(D.packet.compressedData);return e.length?new ln(e[0].packets):this}async appendSignature(e,r=Be){await this.packets.read(U.isUint8Array(e)?e:(await ud(e)).data,uM,r)}write(){return this.packets.write()}armor(e=Be){return il(D.armor.message,this.write(),null,null,null,e)}}async function vp(t,e,r=null,n=[],i=new Date,s=[],o=[],a=!1,c=Be){const l=new yt,u=t.text===null?D.signature.binary:D.signature.text;if(await Promise.all(e.map(async(f,x)=>{const h=s[x];if(!f.isPrivate())throw Error("Need private key for signing");const C=await f.getSigningKey(n[x],i,h,c);return Ji(t,f,C.keyPacket,{signatureType:u},i,h,o,a,c)})).then(f=>{l.push(...f)}),r){const f=r.packets.filterByTag(D.packet.signature);l.push(...f)}return l}async function Kx(t,e,r,n=new Date,i=!1,s=Be){return Promise.all(t.filter(function(o){return["text","binary"].includes(D.read(D.signature,o.signatureType))}).map(async function(o){return async function(a,c,l,u=new Date,f=!1,x=Be){let h,C;for(const O of l){const z=O.getKeys(a.issuerKeyID);if(z.length>0){h=O,C=z[0];break}}const w=a instanceof Dn?a.correspondingSig:a,k={keyID:a.issuerKeyID,verified:(async()=>{if(!C)throw Error("Could not find signing key with key ID "+a.issuerKeyID.toHex());await a.verify(C.keyPacket,a.signatureType,c[0],u,f,x);const O=await w;if(C.getCreationTime()>O.created)throw Error("Key is newer than the signature");try{await h.getSigningKey(C.getKeyID(),O.created,void 0,x)}catch(z){if(!x.allowInsecureVerificationWithReformattedKeys||!z.message.match(/Signature creation time is in the future/))throw z;await h.getSigningKey(C.getKeyID(),u,void 0,x)}return!0})(),signature:(async()=>{const O=await w,z=new yt;return O&&z.push(O),new Mg(z)})()};return k.signature.catch(()=>{}),k.verified.catch(()=>{}),k}(o,e,r,n,i,s)}))}async function Ch({armoredMessage:t,binaryMessage:e,config:r,...n}){r={...Be,...r};let i=t||e;if(!i)throw Error("readMessage: must pass options object containing `armoredMessage` or `binaryMessage`");if(t&&!U.isString(t)&&!U.isStream(t))throw Error("readMessage: options.armoredMessage must be a string or stream");if(e&&!U.isUint8Array(e)&&!U.isStream(e))throw Error("readMessage: options.binaryMessage must be a Uint8Array or stream");const s=Object.keys(n);if(s.length>0)throw Error("Unknown option: "+s.join(", "));const o=U.isStream(i);if(o&&(await _m(),i=nl(i)),t){const{type:l,data:u}=await ud(i,r);if(l!==D.armor.message)throw Error("Armored text not of type message");i=u}const a=await yt.fromBinary(i,cM,r),c=new ln(a);return c.fromStream=o,c}async function fM({text:t,binary:e,filename:r,date:n=new Date,format:i=t!==void 0?"utf8":"binary",...s}){let o=t!==void 0?t:e;if(o===void 0)throw Error("createMessage: must pass options object containing `text` or `binary`");if(t&&!U.isString(t)&&!U.isStream(t))throw Error("createMessage: options.text must be a string or stream");if(e&&!U.isUint8Array(e)&&!U.isStream(e))throw Error("createMessage: options.binary must be a Uint8Array or stream");const a=Object.keys(s);if(a.length>0)throw Error("Unknown option: "+a.join(", "));const c=U.isStream(o);c&&(await _m(),o=nl(o));const l=new va(n);t!==void 0?l.setText(o,D.write(D.literal,i)):l.setBytes(o,D.write(D.literal,i)),r!==void 0&&l.setFilename(r);const u=new yt;u.push(l);const f=new ln(u);return f.fromStream=c,f}async function dM({userIDs:t=[],passphrase:e,type:r="ecc",rsaBits:n=4096,curve:i="curve25519",keyExpirationTime:s=0,date:o=new Date,subkeys:a=[{}],format:c="armored",config:l,...u}){g9(l={...Be,...l}),t=Wr(t);const f=Object.keys(u);if(f.length>0)throw Error("Unknown option: "+f.join(", "));if(t.length===0)throw Error("UserIDs are required for key generation");if(r==="rsa"&&n<l.minRSABits)throw Error(`rsaBits should be at least ${l.minRSABits}, got: ${n}`);const x={userIDs:t,passphrase:e,type:r,rsaBits:n,curve:i,keyExpirationTime:s,date:o,subkeys:a};try{const{key:h,revocationCertificate:C}=await async function(w,k){w.sign=!0,(w=yh(w)).subkeys=w.subkeys.map((T,F)=>yh(w.subkeys[F],w));let O=[nM(w,k)];O=O.concat(w.subkeys.map(T=>Ig(T,k)));const z=await Promise.all(O),P=await aM(z[0],z.slice(1),w,k),A=await P.getRevocationCertificate(w.date,k);return P.revocationSignatures=[],{key:P,revocationCertificate:A}}(x,l);return h.getKeys().forEach(({keyPacket:w})=>ko(w,l)),{privateKey:_p(h,c,l),publicKey:_p(h.toPublic(),c,l),revocationCertificate:C}}catch(h){throw U.wrapError("Error generating keypair",h)}}async function xM({message:t,encryptionKeys:e,signingKeys:r,passwords:n,sessionKey:i,format:s="armored",signature:o=null,wildcard:a=!1,signingKeyIDs:c=[],encryptionKeyIDs:l=[],date:u=new Date,signingUserIDs:f=[],encryptionUserIDs:x=[],signatureNotations:h=[],config:C,...w}){if(g9(C={...Be,...C}),Ng(t),hM(s),e=Wr(e),r=Wr(r),n=Wr(n),c=Wr(c),l=Wr(l),f=Wr(f),x=Wr(x),h=Wr(h),w.detached)throw Error("The `detached` option has been removed from openpgp.encrypt, separately call openpgp.sign instead. Don't forget to remove the `privateKeys` option as well.");if(w.publicKeys)throw Error("The `publicKeys` option has been removed from openpgp.encrypt, pass `encryptionKeys` instead");if(w.privateKeys)throw Error("The `privateKeys` option has been removed from openpgp.encrypt, pass `signingKeys` instead");if(w.armor!==void 0)throw Error("The `armor` option has been removed from openpgp.encrypt, pass `format` instead.");const k=Object.keys(w);if(k.length>0)throw Error("Unknown option: "+k.join(", "));r||(r=[]);const O=t.fromStream;try{if((r.length||o)&&(t=await t.sign(r,o,c,u,f,h,C)),t=t.compress(await gh("compression",e,u,x,C),C),t=await t.encrypt(e,n,i,a,l,u,x,C),s==="object")return t;const z=s==="armored";return Kg(z?t.armor(C):t.write(),O,z?"utf8":"binary")}catch(z){throw U.wrapError("Error encrypting message",z)}}async function Ah({message:t,decryptionKeys:e,passwords:r,sessionKeys:n,verificationKeys:i,expectSigned:s=!1,format:o="utf8",signature:a=null,date:c=new Date,config:l,...u}){if(g9(l={...Be,...l}),Ng(t),i=Wr(i),e=Wr(e),r=Wr(r),n=Wr(n),u.privateKeys)throw Error("The `privateKeys` option has been removed from openpgp.decrypt, pass `decryptionKeys` instead");if(u.publicKeys)throw Error("The `publicKeys` option has been removed from openpgp.decrypt, pass `verificationKeys` instead");const f=Object.keys(u);if(f.length>0)throw Error("Unknown option: "+f.join(", "));try{const x=await t.decrypt(e,r,n,c,l);i||(i=[]);const h={};if(h.signatures=a?await x.verifyDetached(a,i,c,l):await x.verify(i,c,l),h.data=o==="binary"?x.getLiteralData():x.getText(),h.filename=x.getFilename(),mM(h,t),s){if(i.length===0)throw Error("Verification keys are required to verify message signatures");if(h.signatures.length===0)throw Error("Message is not signed");h.data=Lr([h.data,Zs(async()=>{await U.anyPromise(h.signatures.map(C=>C.verified))})])}return h.data=await Kg(h.data,t.fromStream,o),h}catch(x){throw U.wrapError("Error decrypting message",x)}}function Ng(t){if(!(t instanceof ln))throw Error("Parameter [message] needs to be of type Message")}function hM(t){if(t!=="armored"&&t!=="binary"&&t!=="object")throw Error("Unsupported format "+t)}const pM=Object.keys(Be).length;function g9(t){const e=Object.keys(t);if(e.length!==pM){for(const r of e)if(Be[r]===void 0)throw Error("Unknown config property: "+r)}}function Wr(t){return t&&!U.isArray(t)&&(t=[t]),t}async function Kg(t,e,r="utf8"){const n=U.isStream(t);return n==="array"?Lt(t):e==="node"?(t=r9(t),r!=="binary"&&t.setEncoding(r),t):e==="web"&&n==="ponyfill"?Am(t):t}function mM(t,e){t.data=qi(e.packets.stream,async(r,n)=>{await js(t.data,n,{preventClose:!0});const i=zr(n);try{await Lt(r,s=>s),await i.close()}catch(s){await i.abort(s)}})}function _p(t,e,r){switch(e){case"object":return t;case"armored":return t.armor(r);case"binary":return t.write();default:throw Error("Unsupported format "+e)}}const ct=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:t=>`Symbol(${t})`;function y9(){}const wp=typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:void 0;function jr(t){return typeof t=="object"&&t!==null||typeof t=="function"}const Ug=y9,E9=Promise,gM=Promise.prototype.then,yM=Promise.resolve.bind(E9),EM=Promise.reject.bind(E9);function Dr(t){return new E9(t)}function wt(t){return yM(t)}function He(t){return EM(t)}function Li(t,e,r){return gM.call(t,e,r)}function kn(t,e,r){Li(Li(t,e,r),void 0,Ug)}function Ux(t,e){kn(t,e)}function $g(t,e){kn(t,void 0,e)}function R0(t,e,r){return Li(t,e,r)}function dl(t){Li(t,void 0,Ug)}const zg=(()=>{const t=wp&&wp.queueMicrotask;if(typeof t=="function")return t;const e=wt(void 0);return r=>Li(e,r)})();function Cd(t,e,r){if(typeof t!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(t,e,r)}function io(t,e,r){try{return wt(Cd(t,e,r))}catch(n){return He(n)}}class yi{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(e){const r=this._back;let n=r;r._elements.length===16383&&(n={_elements:[],_next:void 0}),r._elements.push(e),n!==r&&(this._back=n,r._next=n),++this._size}shift(){const e=this._front;let r=e;const n=this._cursor;let i=n+1;const s=e._elements,o=s[n];return i===16384&&(r=e._next,i=0),--this._size,this._cursor=i,e!==r&&(this._front=r),s[n]=void 0,o}forEach(e){let r=this._cursor,n=this._front,i=n._elements;for(;!(r===i.length&&n._next===void 0||r===i.length&&(n=n._next,i=n._elements,r=0,i.length===0));)e(i[r]),++r}peek(){const e=this._front,r=this._cursor;return e._elements[r]}}function jg(t,e){t._ownerReadableStream=e,e._reader=t,e._state==="readable"?vh(t):e._state==="closed"?function(r){vh(r),Vg(r)}(t):Hg(t,e._storedError)}function b9(t,e){return O0(t._ownerReadableStream,e)}function k0(t){t._ownerReadableStream._state==="readable"?C9(t,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(e,r){Hg(e,r)}(t,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),t._ownerReadableStream._reader=void 0,t._ownerReadableStream=void 0}function ua(t){return new TypeError("Cannot "+t+" a stream using a released reader")}function vh(t){t._closedPromise=Dr((e,r)=>{t._closedPromise_resolve=e,t._closedPromise_reject=r})}function Hg(t,e){vh(t),C9(t,e)}function C9(t,e){t._closedPromise_reject!==void 0&&(dl(t._closedPromise),t._closedPromise_reject(e),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0)}function Vg(t){t._closedPromise_resolve!==void 0&&(t._closedPromise_resolve(void 0),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0)}const qg=ct("[[AbortSteps]]"),Wg=ct("[[ErrorSteps]]"),A9=ct("[[CancelSteps]]"),v9=ct("[[PullSteps]]"),Bp=Number.isFinite||function(t){return typeof t=="number"&&isFinite(t)},bM=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};function Ni(t,e){if(t!==void 0&&typeof(r=t)!="object"&&typeof r!="function")throw new TypeError(e+" is not an object.");var r}function Sn(t,e){if(typeof t!="function")throw new TypeError(e+" is not a function.")}function Gg(t,e){if(!function(r){return typeof r=="object"&&r!==null||typeof r=="function"}(t))throw new TypeError(e+" is not an object.")}function Xi(t,e,r){if(t===void 0)throw new TypeError(`Parameter ${e} is required in '${r}'.`)}function _h(t,e,r){if(t===void 0)throw new TypeError(`${e} is required in '${r}'.`)}function _9(t){return Number(t)}function Dp(t){return t===0?0:t}function Yg(t,e){const r=Number.MAX_SAFE_INTEGER;let n=Number(t);if(n=Dp(n),!Bp(n))throw new TypeError(e+" is not a finite number");if(n=function(i){return Dp(bM(i))}(n),n<0||n>r)throw new TypeError(`${e} is outside the accepted range of 0 to ${r}, inclusive`);return Bp(n)&&n!==0?n:0}function w9(t,e){if(!ms(t))throw new TypeError(e+" is not a ReadableStream.")}function yu(t){return new ff(t)}function Jg(t,e){t._reader._readRequests.push(e)}function B9(t,e,r){const n=t._reader._readRequests.shift();r?n._closeSteps():n._chunkSteps(e)}function Ad(t){return t._reader._readRequests.length}function Xg(t){const e=t._reader;return e!==void 0&&!!F0(e)}class ff{constructor(e){if(Xi(e,1,"ReadableStreamDefaultReader"),w9(e,"First parameter"),Fs(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");jg(this,e),this._readRequests=new yi}get closed(){return F0(this)?this._closedPromise:He(zl("closed"))}cancel(e=void 0){return F0(this)?this._ownerReadableStream===void 0?He(ua("cancel")):b9(this,e):He(zl("cancel"))}read(){if(!F0(this))return He(zl("read"));if(this._ownerReadableStream===void 0)return He(ua("read from"));let e,r;const n=Dr((i,s)=>{e=i,r=s});return vd(this,{_chunkSteps:i=>e({value:i,done:!1}),_closeSteps:()=>e({value:void 0,done:!0}),_errorSteps:i=>r(i)}),n}releaseLock(){if(!F0(this))throw zl("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");k0(this)}}}function F0(t){return!!jr(t)&&!!Object.prototype.hasOwnProperty.call(t,"_readRequests")}function vd(t,e){const r=t._ownerReadableStream;r._disturbed=!0,r._state==="closed"?e._closeSteps():r._state==="errored"?e._errorSteps(r._storedError):r._readableStreamController[v9](e)}function zl(t){return new TypeError(`ReadableStreamDefaultReader.prototype.${t} can only be used on a ReadableStreamDefaultReader`)}let df;Object.defineProperties(ff.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof ct.toStringTag=="symbol"&&Object.defineProperty(ff.prototype,ct.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0}),typeof ct.asyncIterator=="symbol"&&(df={[ct.asyncIterator](){return this}},Object.defineProperty(df,ct.asyncIterator,{enumerable:!1}));class CM{constructor(e,r){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=r}next(){const e=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?R0(this._ongoingPromise,e,e):e(),this._ongoingPromise}return(e){const r=()=>this._returnSteps(e);return this._ongoingPromise?R0(this._ongoingPromise,r,r):r()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});const e=this._reader;if(e._ownerReadableStream===void 0)return He(ua("iterate"));let r,n;const i=Dr((s,o)=>{r=s,n=o});return vd(e,{_chunkSteps:s=>{this._ongoingPromise=void 0,zg(()=>r({value:s,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,k0(e),r({value:void 0,done:!0})},_errorSteps:s=>{this._ongoingPromise=void 0,this._isFinished=!0,k0(e),n(s)}}),i}_returnSteps(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;const r=this._reader;if(r._ownerReadableStream===void 0)return He(ua("finish iterating"));if(!this._preventCancel){const n=b9(r,e);return k0(r),R0(n,()=>({value:e,done:!0}))}return k0(r),wt({value:e,done:!0})}}const Qg={next(){return kp(this)?this._asyncIteratorImpl.next():He(Fp("next"))},return(t){return kp(this)?this._asyncIteratorImpl.return(t):He(Fp("return"))}};function kp(t){return!!jr(t)&&!!Object.prototype.hasOwnProperty.call(t,"_asyncIteratorImpl")}function Fp(t){return new TypeError(`ReadableStreamAsyncIterator.${t} can only be used on a ReadableSteamAsyncIterator`)}df!==void 0&&Object.setPrototypeOf(Qg,df);const Zg=Number.isNaN||function(t){return t!=t};function ey(t){return!!function(e){return!(typeof e!="number"||Zg(e)||e<0)}(t)&&t!==1/0}function wh(t){const e=t._queue.shift();return t._queueTotalSize-=e.size,t._queueTotalSize<0&&(t._queueTotalSize=0),e.value}function D9(t,e,r){if(!ey(r=Number(r)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t._queue.push({value:e,size:r}),t._queueTotalSize+=r}function t0(t){t._queue=new yi,t._queueTotalSize=0}function $x(t){return t.slice()}class xf{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!zx(this))throw jx("view");return this._view}respond(e){if(!zx(this))throw jx("respond");if(Xi(e,1,"respond"),e=Yg(e,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");this._view.buffer,function(r,n){if(n=Number(n),!ey(n))throw new RangeError("bytesWritten must be a finite");Sp(r,n)}(this._associatedReadableByteStreamController,e)}respondWithNewView(e){if(!zx(this))throw jx("respondWithNewView");if(Xi(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");if(e.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(e.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");(function(r,n){const i=r._pendingPullIntos.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,Sp(r,n.byteLength)})(this._associatedReadableByteStreamController,e)}}Object.defineProperties(xf.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof ct.toStringTag=="symbol"&&Object.defineProperty(xf.prototype,ct.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class hf{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!_o(this))throw Ra("byobRequest");if(this._byobRequest===null&&this._pendingPullIntos.length>0){const e=this._pendingPullIntos.peek(),r=new Uint8Array(e.buffer,e.byteOffset+e.bytesFilled,e.byteLength-e.bytesFilled),n=Object.create(xf.prototype);(function(i,s,o){i._associatedReadableByteStreamController=s,i._view=o})(n,this,r),this._byobRequest=n}return this._byobRequest}get desiredSize(){if(!_o(this))throw Ra("desiredSize");return oy(this)}close(){if(!_o(this))throw Ra("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");const e=this._controlledReadableByteStream._state;if(e!=="readable")throw new TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`);(function(r){const n=r._controlledReadableByteStream;if(!(r._closeRequested||n._state!=="readable")){if(r._queueTotalSize>0)return void(r._closeRequested=!0);if(r._pendingPullIntos.length>0&&r._pendingPullIntos.peek().bytesFilled>0){const i=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Ic(r,i),i}pf(r),xl(n)}})(this)}enqueue(e){if(!_o(this))throw Ra("enqueue");if(Xi(e,1,"enqueue"),!ArrayBuffer.isView(e))throw new TypeError("chunk must be an array buffer view");if(e.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(e.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");const r=this._controlledReadableByteStream._state;if(r!=="readable")throw new TypeError(`The stream (in ${r} state) is not in the readable state and cannot be enqueued to`);(function(n,i){const s=n._controlledReadableByteStream;if(n._closeRequested||s._state!=="readable")return;const o=i.buffer,a=i.byteOffset,c=i.byteLength,l=o;Xg(s)?Ad(s)===0?Eu(n,l,a,c):B9(s,new Uint8Array(l,a,c),!1):F9(s)?(Eu(n,l,a,c),sy(n)):Eu(n,l,a,c),H0(n)})(this,e)}error(e=void 0){if(!_o(this))throw Ra("error");Ic(this,e)}[A9](e){this._pendingPullIntos.length>0&&(this._pendingPullIntos.peek().bytesFilled=0),t0(this);const r=this._cancelAlgorithm(e);return pf(this),r}[v9](e){const r=this._controlledReadableByteStream;if(this._queueTotalSize>0){const i=this._queue.shift();this._queueTotalSize-=i.byteLength,iy(this);const s=new Uint8Array(i.buffer,i.byteOffset,i.byteLength);return void e._chunkSteps(s)}const n=this._autoAllocateChunkSize;if(n!==void 0){let i;try{i=new ArrayBuffer(n)}catch(o){return void e._errorSteps(o)}const s={buffer:i,byteOffset:0,byteLength:n,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(s)}Jg(r,e),H0(this)}}function _o(t){return!!jr(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledReadableByteStream")}function zx(t){return!!jr(t)&&!!Object.prototype.hasOwnProperty.call(t,"_associatedReadableByteStreamController")}function H0(t){if(function(r){const n=r._controlledReadableByteStream;return n._state!=="readable"||r._closeRequested||!r._started?!1:!!(Xg(n)&&Ad(n)>0||F9(n)&&ay(n)>0||oy(r)>0)}(t)){if(t._pulling)return void(t._pullAgain=!0);t._pulling=!0,kn(t._pullAlgorithm(),()=>{t._pulling=!1,t._pullAgain&&(t._pullAgain=!1,H0(t))},r=>{Ic(t,r)})}}function Bh(t,e){let r=!1;t._state==="closed"&&(r=!0);const n=ty(e);e.readerType==="default"?B9(t,n,r):function(i,s,o){const a=i._reader,c=a._readIntoRequests.shift();o?c._closeSteps(s):c._chunkSteps(s)}(t,n,r)}function ty(t){const e=t.bytesFilled,r=t.elementSize;return new t.viewConstructor(t.buffer,t.byteOffset,e/r)}function Eu(t,e,r,n){t._queue.push({buffer:e,byteOffset:r,byteLength:n}),t._queueTotalSize+=n}function ry(t,e){const r=e.elementSize,n=e.bytesFilled-e.bytesFilled%r,i=Math.min(t._queueTotalSize,e.byteLength-e.bytesFilled),s=e.bytesFilled+i,o=s-s%r;let a=i,c=!1;o>n&&(a=o-e.bytesFilled,c=!0);const l=t._queue;for(;a>0;){const w=l.peek(),k=Math.min(a,w.byteLength),O=e.byteOffset+e.bytesFilled;u=e.buffer,f=O,x=w.buffer,h=w.byteOffset,C=k,new Uint8Array(u).set(new Uint8Array(x,h,C),f),w.byteLength===k?l.shift():(w.byteOffset+=k,w.byteLength-=k),t._queueTotalSize-=k,ny(t,k,e),a-=k}var u,f,x,h,C;return c}function ny(t,e,r){k9(t),r.bytesFilled+=e}function iy(t){t._queueTotalSize===0&&t._closeRequested?(pf(t),xl(t._controlledReadableByteStream)):H0(t)}function k9(t){t._byobRequest!==null&&(t._byobRequest._associatedReadableByteStreamController=void 0,t._byobRequest._view=null,t._byobRequest=null)}function sy(t){for(;t._pendingPullIntos.length>0;){if(t._queueTotalSize===0)return;const e=t._pendingPullIntos.peek();ry(t,e)&&(Dh(t),Bh(t._controlledReadableByteStream,e))}}function Sp(t,e){const r=t._pendingPullIntos.peek();if(t._controlledReadableByteStream._state==="closed"){if(e!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");(function(n,i){i.buffer=i.buffer;const s=n._controlledReadableByteStream;if(F9(s))for(;ay(s)>0;)Bh(s,Dh(n))})(t,r)}else(function(n,i,s){if(s.bytesFilled+i>s.byteLength)throw new RangeError("bytesWritten out of range");if(ny(n,i,s),s.bytesFilled<s.elementSize)return;Dh(n);const o=s.bytesFilled%s.elementSize;if(o>0){const a=s.byteOffset+s.bytesFilled,c=s.buffer.slice(a-o,a);Eu(n,c,0,c.byteLength)}s.buffer=s.buffer,s.bytesFilled-=o,Bh(n._controlledReadableByteStream,s),sy(n)})(t,e,r);H0(t)}function Dh(t){const e=t._pendingPullIntos.shift();return k9(t),e}function pf(t){t._pullAlgorithm=void 0,t._cancelAlgorithm=void 0}function Ic(t,e){const r=t._controlledReadableByteStream;r._state==="readable"&&(function(n){k9(n),n._pendingPullIntos=new yi}(t),t0(t),pf(t),By(r,e))}function oy(t){const e=t._controlledReadableByteStream._state;return e==="errored"?null:e==="closed"?0:t._strategyHWM-t._queueTotalSize}function AM(t,e,r){const n=Object.create(hf.prototype);let i=()=>{},s=()=>wt(void 0),o=()=>wt(void 0);e.start!==void 0&&(i=()=>e.start(n)),e.pull!==void 0&&(s=()=>e.pull(n)),e.cancel!==void 0&&(o=c=>e.cancel(c));const a=e.autoAllocateChunkSize;if(a===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");(function(c,l,u,f,x,h,C){l._controlledReadableByteStream=c,l._pullAgain=!1,l._pulling=!1,l._byobRequest=null,l._queue=l._queueTotalSize=void 0,t0(l),l._closeRequested=!1,l._started=!1,l._strategyHWM=h,l._pullAlgorithm=f,l._cancelAlgorithm=x,l._autoAllocateChunkSize=C,l._pendingPullIntos=new yi,c._readableStreamController=l,kn(wt(u()),()=>{l._started=!0,H0(l)},w=>{Ic(l,w)})})(t,n,i,s,o,r,a)}function jx(t){return new TypeError(`ReadableStreamBYOBRequest.prototype.${t} can only be used on a ReadableStreamBYOBRequest`)}function Ra(t){return new TypeError(`ReadableByteStreamController.prototype.${t} can only be used on a ReadableByteStreamController`)}function Pp(t,e){t._reader._readIntoRequests.push(e)}function ay(t){return t._reader._readIntoRequests.length}function F9(t){const e=t._reader;return e!==void 0&&!!Ja(e)}Object.defineProperties(hf.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof ct.toStringTag=="symbol"&&Object.defineProperty(hf.prototype,ct.toStringTag,{value:"ReadableByteStreamController",configurable:!0});class mf{constructor(e){if(Xi(e,1,"ReadableStreamBYOBReader"),w9(e,"First parameter"),Fs(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!_o(e._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");jg(this,e),this._readIntoRequests=new yi}get closed(){return Ja(this)?this._closedPromise:He(jl("closed"))}cancel(e=void 0){return Ja(this)?this._ownerReadableStream===void 0?He(ua("cancel")):b9(this,e):He(jl("cancel"))}read(e){if(!Ja(this))return He(jl("read"));if(!ArrayBuffer.isView(e))return He(new TypeError("view must be an array buffer view"));if(e.byteLength===0)return He(new TypeError("view must have non-zero byteLength"));if(e.buffer.byteLength===0)return He(new TypeError("view's buffer must have non-zero byteLength"));if(this._ownerReadableStream===void 0)return He(ua("read from"));let r,n;const i=Dr((s,o)=>{r=s,n=o});return function(s,o,a){const c=s._ownerReadableStream;c._disturbed=!0,c._state==="errored"?a._errorSteps(c._storedError):function(l,u,f){const x=l._controlledReadableByteStream;let h=1;u.constructor!==DataView&&(h=u.constructor.BYTES_PER_ELEMENT);const C=u.constructor,w={buffer:u.buffer,byteOffset:u.byteOffset,byteLength:u.byteLength,bytesFilled:0,elementSize:h,viewConstructor:C,readerType:"byob"};if(l._pendingPullIntos.length>0)return l._pendingPullIntos.push(w),void Pp(x,f);if(x._state!=="closed"){if(l._queueTotalSize>0){if(ry(l,w)){const k=ty(w);return iy(l),void f._chunkSteps(k)}if(l._closeRequested){const k=new TypeError("Insufficient bytes to fill elements in the given buffer");return Ic(l,k),void f._errorSteps(k)}}l._pendingPullIntos.push(w),Pp(x,f),H0(l)}else{const k=new C(w.buffer,w.byteOffset,0);f._closeSteps(k)}}(c._readableStreamController,o,a)}(this,e,{_chunkSteps:s=>r({value:s,done:!1}),_closeSteps:s=>r({value:s,done:!0}),_errorSteps:s=>n(s)}),i}releaseLock(){if(!Ja(this))throw jl("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");k0(this)}}}function Ja(t){return!!jr(t)&&!!Object.prototype.hasOwnProperty.call(t,"_readIntoRequests")}function jl(t){return new TypeError(`ReadableStreamBYOBReader.prototype.${t} can only be used on a ReadableStreamBYOBReader`)}function Rc(t,e){const{highWaterMark:r}=t;if(r===void 0)return e;if(Zg(r)||r<0)throw new RangeError("Invalid highWaterMark");return r}function gf(t){const{size:e}=t;return e||(()=>1)}function yf(t,e){Ni(t,e);const r=t==null?void 0:t.highWaterMark,n=t==null?void 0:t.size;return{highWaterMark:r===void 0?void 0:_9(r),size:n===void 0?void 0:vM(n,e+" has member 'size' that")}}function vM(t,e){return Sn(t,e),r=>_9(t(r))}function _M(t,e,r){return Sn(t,r),n=>io(t,e,[n])}function wM(t,e,r){return Sn(t,r),()=>io(t,e,[])}function BM(t,e,r){return Sn(t,r),n=>Cd(t,e,[n])}function DM(t,e,r){return Sn(t,r),(n,i)=>io(t,e,[n,i])}function cy(t,e){if(!Fo(t))throw new TypeError(e+" is not a WritableStream.")}Object.defineProperties(mf.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof ct.toStringTag=="symbol"&&Object.defineProperty(mf.prototype,ct.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});class Ef{constructor(e={},r={}){e===void 0?e=null:Gg(e,"First parameter");const n=yf(r,"Second parameter"),i=function(o,a){Ni(o,a);const c=o==null?void 0:o.abort,l=o==null?void 0:o.close,u=o==null?void 0:o.start,f=o==null?void 0:o.type,x=o==null?void 0:o.write;return{abort:c===void 0?void 0:_M(c,o,a+" has member 'abort' that"),close:l===void 0?void 0:wM(l,o,a+" has member 'close' that"),start:u===void 0?void 0:BM(u,o,a+" has member 'start' that"),write:x===void 0?void 0:DM(x,o,a+" has member 'write' that"),type:f}}(e,"First parameter");if(uy(this),i.type!==void 0)throw new RangeError("Invalid type is specified");const s=gf(n);(function(o,a,c,l){const u=Object.create(Oc.prototype);let f=()=>{},x=()=>wt(void 0),h=()=>wt(void 0),C=()=>wt(void 0);a.start!==void 0&&(f=()=>a.start(u)),a.write!==void 0&&(x=w=>a.write(w,u)),a.close!==void 0&&(h=()=>a.close()),a.abort!==void 0&&(C=w=>a.abort(w)),gy(o,u,f,x,h,C,c,l)})(this,i,Rc(n,1),s)}get locked(){if(!Fo(this))throw Vl("locked");return zo(this)}abort(e=void 0){return Fo(this)?zo(this)?He(new TypeError("Cannot abort a stream that already has a writer")):bf(this,e):He(Vl("abort"))}close(){return Fo(this)?zo(this)?He(new TypeError("Cannot close a stream that already has a writer")):oi(this)?He(new TypeError("Cannot close an already-closing stream")):fy(this):He(Vl("close"))}getWriter(){if(!Fo(this))throw Vl("getWriter");return ly(this)}}function ly(t){return new Cf(t)}function uy(t){t._state="writable",t._storedError=void 0,t._writer=void 0,t._writableStreamController=void 0,t._writeRequests=new yi,t._inFlightWriteRequest=void 0,t._closeRequest=void 0,t._inFlightCloseRequest=void 0,t._pendingAbortRequest=void 0,t._backpressure=!1}function Fo(t){return!!jr(t)&&!!Object.prototype.hasOwnProperty.call(t,"_writableStreamController")}function zo(t){return t._writer!==void 0}function bf(t,e){const r=t._state;if(r==="closed"||r==="errored")return wt(void 0);if(t._pendingAbortRequest!==void 0)return t._pendingAbortRequest._promise;let n=!1;r==="erroring"&&(n=!0,e=void 0);const i=Dr((s,o)=>{t._pendingAbortRequest={_promise:void 0,_resolve:s,_reject:o,_reason:e,_wasAlreadyErroring:n}});return t._pendingAbortRequest._promise=i,n||S9(t,e),i}function fy(t){const e=t._state;if(e==="closed"||e==="errored")return He(new TypeError(`The stream (in ${e} state) is not in the writable state and cannot be closed`));const r=Dr((s,o)=>{const a={_resolve:s,_reject:o};t._closeRequest=a}),n=t._writer;var i;return n!==void 0&&t._backpressure&&e==="writable"&&R9(n),D9(i=t._writableStreamController,my,0),_d(i),r}function kh(t,e){t._state!=="writable"?P9(t):S9(t,e)}function S9(t,e){const r=t._writableStreamController;t._state="erroring",t._storedError=e;const n=t._writer;n!==void 0&&xy(n,e),!function(i){return!(i._inFlightWriteRequest===void 0&&i._inFlightCloseRequest===void 0)}(t)&&r._started&&P9(t)}function P9(t){t._state="errored",t._writableStreamController[Wg]();const e=t._storedError;if(t._writeRequests.forEach(n=>{n._reject(e)}),t._writeRequests=new yi,t._pendingAbortRequest===void 0)return void Hl(t);const r=t._pendingAbortRequest;if(t._pendingAbortRequest=void 0,r._wasAlreadyErroring)return r._reject(e),void Hl(t);kn(t._writableStreamController[qg](r._reason),()=>{r._resolve(),Hl(t)},n=>{r._reject(n),Hl(t)})}function oi(t){return t._closeRequest!==void 0||t._inFlightCloseRequest!==void 0}function Hl(t){t._closeRequest!==void 0&&(t._closeRequest._reject(t._storedError),t._closeRequest=void 0);const e=t._writer;e!==void 0&&I9(e,t._storedError)}function T9(t,e){const r=t._writer;r!==void 0&&e!==t._backpressure&&(e?function(n){wd(n)}(r):R9(r)),t._backpressure=e}Object.defineProperties(Ef.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof ct.toStringTag=="symbol"&&Object.defineProperty(Ef.prototype,ct.toStringTag,{value:"WritableStream",configurable:!0});class Cf{constructor(e){if(Xi(e,1,"WritableStreamDefaultWriter"),cy(e,"First parameter"),zo(e))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;const r=e._state;if(r==="writable")!oi(e)&&e._backpressure?wd(this):Tp(this),bu(this);else if(r==="erroring")Sh(this,e._storedError),bu(this);else if(r==="closed")Tp(this),bu(n=this),Cy(n);else{const i=e._storedError;Sh(this,i),by(this,i)}var n}get closed(){return l0(this)?this._closedPromise:He(u0("closed"))}get desiredSize(){if(!l0(this))throw u0("desiredSize");if(this._ownerWritableStream===void 0)throw Xa("desiredSize");return function(e){const r=e._ownerWritableStream,n=r._state;return n==="errored"||n==="erroring"?null:n==="closed"?0:yy(r._writableStreamController)}(this)}get ready(){return l0(this)?this._readyPromise:He(u0("ready"))}abort(e=void 0){return l0(this)?this._ownerWritableStream===void 0?He(Xa("abort")):function(r,n){const i=r._ownerWritableStream;return bf(i,n)}(this,e):He(u0("abort"))}close(){if(!l0(this))return He(u0("close"));const e=this._ownerWritableStream;return e===void 0?He(Xa("close")):oi(e)?He(new TypeError("Cannot close an already-closing stream")):dy(this)}releaseLock(){if(!l0(this))throw u0("releaseLock");this._ownerWritableStream!==void 0&&hy(this)}write(e=void 0){return l0(this)?this._ownerWritableStream===void 0?He(Xa("write to")):py(this,e):He(u0("write"))}}function l0(t){return!!jr(t)&&!!Object.prototype.hasOwnProperty.call(t,"_ownerWritableStream")}function dy(t){return fy(t._ownerWritableStream)}function kM(t,e){t._closedPromiseState==="pending"?I9(t,e):function(r,n){by(r,n)}(t,e)}function xy(t,e){t._readyPromiseState==="pending"?Ay(t,e):function(r,n){Sh(r,n)}(t,e)}function hy(t){const e=t._ownerWritableStream,r=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");xy(t,r),kM(t,r),e._writer=void 0,t._ownerWritableStream=void 0}function py(t,e){const r=t._ownerWritableStream,n=r._writableStreamController,i=function(a,c){try{return a._strategySizeAlgorithm(c)}catch(l){return Fh(a,l),1}}(n,e);if(r!==t._ownerWritableStream)return He(Xa("write to"));const s=r._state;if(s==="errored")return He(r._storedError);if(oi(r)||s==="closed")return He(new TypeError("The stream is closing or closed and cannot be written to"));if(s==="erroring")return He(r._storedError);const o=function(a){return Dr((c,l)=>{const u={_resolve:c,_reject:l};a._writeRequests.push(u)})}(r);return function(a,c,l){try{D9(a,c,l)}catch(f){return void Fh(a,f)}const u=a._controlledWritableStream;!oi(u)&&u._state==="writable"&&T9(u,M9(a)),_d(a)}(n,e,i),o}Object.defineProperties(Cf.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof ct.toStringTag=="symbol"&&Object.defineProperty(Cf.prototype,ct.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});const my={};class Oc{constructor(){throw new TypeError("Illegal constructor")}error(e=void 0){if(!function(r){return!(!jr(r)||!Object.prototype.hasOwnProperty.call(r,"_controlledWritableStream"))}(this))throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");this._controlledWritableStream._state==="writable"&&Ey(this,e)}[qg](e){const r=this._abortAlgorithm(e);return Af(this),r}[Wg](){t0(this)}}function gy(t,e,r,n,i,s,o,a){e._controlledWritableStream=t,t._writableStreamController=e,e._queue=void 0,e._queueTotalSize=void 0,t0(e),e._started=!1,e._strategySizeAlgorithm=a,e._strategyHWM=o,e._writeAlgorithm=n,e._closeAlgorithm=i,e._abortAlgorithm=s;const c=M9(e);T9(t,c),kn(wt(r()),()=>{e._started=!0,_d(e)},l=>{e._started=!0,kh(t,l)})}function Af(t){t._writeAlgorithm=void 0,t._closeAlgorithm=void 0,t._abortAlgorithm=void 0,t._strategySizeAlgorithm=void 0}function yy(t){return t._strategyHWM-t._queueTotalSize}function _d(t){const e=t._controlledWritableStream;if(!t._started||e._inFlightWriteRequest!==void 0)return;if(e._state==="erroring")return void P9(e);if(t._queue.length===0)return;const r=t._queue.peek().value;r===my?function(n){const i=n._controlledWritableStream;(function(o){o._inFlightCloseRequest=o._closeRequest,o._closeRequest=void 0})(i),wh(n);const s=n._closeAlgorithm();Af(n),kn(s,()=>{(function(o){o._inFlightCloseRequest._resolve(void 0),o._inFlightCloseRequest=void 0,o._state==="erroring"&&(o._storedError=void 0,o._pendingAbortRequest!==void 0&&(o._pendingAbortRequest._resolve(),o._pendingAbortRequest=void 0)),o._state="closed";const a=o._writer;a!==void 0&&Cy(a)})(i)},o=>{(function(a,c){a._inFlightCloseRequest._reject(c),a._inFlightCloseRequest=void 0,a._pendingAbortRequest!==void 0&&(a._pendingAbortRequest._reject(c),a._pendingAbortRequest=void 0),kh(a,c)})(i,o)})}(t):function(n,i){const s=n._controlledWritableStream;(function(a){a._inFlightWriteRequest=a._writeRequests.shift()})(s);const o=n._writeAlgorithm(i);kn(o,()=>{(function(c){c._inFlightWriteRequest._resolve(void 0),c._inFlightWriteRequest=void 0})(s);const a=s._state;if(wh(n),!oi(s)&&a==="writable"){const c=M9(n);T9(s,c)}_d(n)},a=>{s._state==="writable"&&Af(n),function(c,l){c._inFlightWriteRequest._reject(l),c._inFlightWriteRequest=void 0,kh(c,l)}(s,a)})}(t,r)}function Fh(t,e){t._controlledWritableStream._state==="writable"&&Ey(t,e)}function M9(t){return yy(t)<=0}function Ey(t,e){const r=t._controlledWritableStream;Af(t),S9(r,e)}function Vl(t){return new TypeError(`WritableStream.prototype.${t} can only be used on a WritableStream`)}function u0(t){return new TypeError(`WritableStreamDefaultWriter.prototype.${t} can only be used on a WritableStreamDefaultWriter`)}function Xa(t){return new TypeError("Cannot "+t+" a stream using a released writer")}function bu(t){t._closedPromise=Dr((e,r)=>{t._closedPromise_resolve=e,t._closedPromise_reject=r,t._closedPromiseState="pending"})}function by(t,e){bu(t),I9(t,e)}function I9(t,e){t._closedPromise_reject!==void 0&&(dl(t._closedPromise),t._closedPromise_reject(e),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0,t._closedPromiseState="rejected")}function Cy(t){t._closedPromise_resolve!==void 0&&(t._closedPromise_resolve(void 0),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0,t._closedPromiseState="resolved")}function wd(t){t._readyPromise=Dr((e,r)=>{t._readyPromise_resolve=e,t._readyPromise_reject=r}),t._readyPromiseState="pending"}function Sh(t,e){wd(t),Ay(t,e)}function Tp(t){wd(t),R9(t)}function Ay(t,e){t._readyPromise_reject!==void 0&&(dl(t._readyPromise),t._readyPromise_reject(e),t._readyPromise_resolve=void 0,t._readyPromise_reject=void 0,t._readyPromiseState="rejected")}function R9(t){t._readyPromise_resolve!==void 0&&(t._readyPromise_resolve(void 0),t._readyPromise_resolve=void 0,t._readyPromise_reject=void 0,t._readyPromiseState="fulfilled")}Object.defineProperties(Oc.prototype,{error:{enumerable:!0}}),typeof ct.toStringTag=="symbol"&&Object.defineProperty(Oc.prototype,ct.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});const Mp=typeof DOMException<"u"?DOMException:void 0,FM=function(t){if(typeof t!="function"&&typeof t!="object")return!1;try{return new t,!0}catch{return!1}}(Mp)?Mp:function(){const t=function(e,r){this.message=e||"",this.name=r||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return Object.defineProperty(t.prototype=Object.create(Error.prototype),"constructor",{value:t,writable:!0,configurable:!0}),t}();function Ip(t,e,r,n,i,s){const o=yu(t),a=ly(e);t._disturbed=!0;let c=!1,l=wt(void 0);return Dr((u,f)=>{let x;if(s!==void 0){if(x=()=>{const z=new FM("Aborted","AbortError"),P=[];n||P.push(()=>e._state==="writable"?bf(e,z):wt(void 0)),i||P.push(()=>t._state==="readable"?O0(t,z):wt(void 0)),w(()=>Promise.all(P.map(A=>A())),!0,z)},s.aborted)return void x();s.addEventListener("abort",x)}if(C(t,o._closedPromise,z=>{n?k(!0,z):w(()=>bf(e,z),!0,z)}),C(e,a._closedPromise,z=>{i?k(!0,z):w(()=>O0(t,z),!0,z)}),function(z,P,A){z._state==="closed"?A():Ux(P,A)}(t,o._closedPromise,()=>{r?k():w(()=>function(z){const P=z._ownerWritableStream,A=P._state;return oi(P)||A==="closed"?wt(void 0):A==="errored"?He(P._storedError):dy(z)}(a))}),oi(e)||e._state==="closed"){const z=new TypeError("the destination writable stream closed before all data could be piped to it");i?k(!0,z):w(()=>O0(t,z),!0,z)}function h(){const z=l;return Li(l,()=>z!==l?h():void 0)}function C(z,P,A){z._state==="errored"?A(z._storedError):$g(P,A)}function w(z,P,A){function T(){kn(z(),()=>O(P,A),F=>O(!0,F))}c||(c=!0,e._state!=="writable"||oi(e)?T():Ux(h(),T))}function k(z,P){c||(c=!0,e._state!=="writable"||oi(e)?O(z,P):Ux(h(),()=>O(z,P)))}function O(z,P){hy(a),k0(o),s!==void 0&&s.removeEventListener("abort",x),z?f(P):u(void 0)}dl(Dr((z,P)=>{(function A(T){T?z():Li(c?wt(!0):Li(a._readyPromise,()=>Dr((F,R)=>{vd(o,{_chunkSteps:d=>{l=Li(py(a,d),void 0,y9),F(!1)},_closeSteps:()=>F(!0),_errorSteps:R})})),A,P)})(!1)}))})}class Lc{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!ql(this))throw Wl("desiredSize");return O9(this)}close(){if(!ql(this))throw Wl("close");if(!fa(this))throw new TypeError("The stream is not in a state that permits close");Kc(this)}enqueue(e=void 0){if(!ql(this))throw Wl("enqueue");if(!fa(this))throw new TypeError("The stream is not in a state that permits enqueue");return _f(this,e)}error(e=void 0){if(!ql(this))throw Wl("error");qs(this,e)}[A9](e){t0(this);const r=this._cancelAlgorithm(e);return vf(this),r}[v9](e){const r=this._controlledReadableStream;if(this._queue.length>0){const n=wh(this);this._closeRequested&&this._queue.length===0?(vf(this),xl(r)):Nc(this),e._chunkSteps(n)}else Jg(r,e),Nc(this)}}function ql(t){return!!jr(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledReadableStream")}function Nc(t){if(vy(t)){if(t._pulling)return void(t._pullAgain=!0);t._pulling=!0,kn(t._pullAlgorithm(),()=>{t._pulling=!1,t._pullAgain&&(t._pullAgain=!1,Nc(t))},e=>{qs(t,e)})}}function vy(t){const e=t._controlledReadableStream;return!fa(t)||!t._started?!1:Fs(e)&&Ad(e)>0?!0:O9(t)>0}function vf(t){t._pullAlgorithm=void 0,t._cancelAlgorithm=void 0,t._strategySizeAlgorithm=void 0}function Kc(t){if(!fa(t))return;const e=t._controlledReadableStream;t._closeRequested=!0,t._queue.length===0&&(vf(t),xl(e))}function _f(t,e){if(!fa(t))return;const r=t._controlledReadableStream;if(Fs(r)&&Ad(r)>0)B9(r,e,!1);else{let n;try{n=t._strategySizeAlgorithm(e)}catch(i){throw qs(t,i),i}try{D9(t,e,n)}catch(i){throw qs(t,i),i}}Nc(t)}function qs(t,e){const r=t._controlledReadableStream;r._state==="readable"&&(t0(t),vf(t),By(r,e))}function O9(t){const e=t._controlledReadableStream._state;return e==="errored"?null:e==="closed"?0:t._strategyHWM-t._queueTotalSize}function fa(t){const e=t._controlledReadableStream._state;return!t._closeRequested&&e==="readable"}function _y(t,e,r,n,i,s,o){e._controlledReadableStream=t,e._queue=void 0,e._queueTotalSize=void 0,t0(e),e._started=!1,e._closeRequested=!1,e._pullAgain=!1,e._pulling=!1,e._strategySizeAlgorithm=o,e._strategyHWM=s,e._pullAlgorithm=n,e._cancelAlgorithm=i,t._readableStreamController=e,kn(wt(r()),()=>{e._started=!0,Nc(e)},a=>{qs(e,a)})}function Wl(t){return new TypeError(`ReadableStreamDefaultController.prototype.${t} can only be used on a ReadableStreamDefaultController`)}function SM(t,e,r){return Sn(t,r),n=>io(t,e,[n])}function PM(t,e,r){return Sn(t,r),n=>io(t,e,[n])}function TM(t,e,r){return Sn(t,r),n=>Cd(t,e,[n])}function MM(t,e){if((t=""+t)!="bytes")throw new TypeError(`${e} '${t}' is not a valid enumeration value for ReadableStreamType`);return t}function IM(t,e){if((t=""+t)!="byob")throw new TypeError(`${e} '${t}' is not a valid enumeration value for ReadableStreamReaderMode`);return t}function Rp(t,e){Ni(t,e);const r=t==null?void 0:t.preventAbort,n=t==null?void 0:t.preventCancel,i=t==null?void 0:t.preventClose,s=t==null?void 0:t.signal;return s!==void 0&&function(o,a){if(!function(c){if(typeof c!="object"||c===null)return!1;try{return typeof c.aborted=="boolean"}catch{return!1}}(o))throw new TypeError(a+" is not an AbortSignal.")}(s,e+" has member 'signal' that"),{preventAbort:!!r,preventCancel:!!n,preventClose:!!i,signal:s}}Object.defineProperties(Lc.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof ct.toStringTag=="symbol"&&Object.defineProperty(Lc.prototype,ct.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});class So{constructor(e={},r={}){e===void 0?e=null:Gg(e,"First parameter");const n=yf(r,"Second parameter"),i=function(s,o){Ni(s,o);const a=s,c=a==null?void 0:a.autoAllocateChunkSize,l=a==null?void 0:a.cancel,u=a==null?void 0:a.pull,f=a==null?void 0:a.start,x=a==null?void 0:a.type;return{autoAllocateChunkSize:c===void 0?void 0:Yg(c,o+" has member 'autoAllocateChunkSize' that"),cancel:l===void 0?void 0:SM(l,a,o+" has member 'cancel' that"),pull:u===void 0?void 0:PM(u,a,o+" has member 'pull' that"),start:f===void 0?void 0:TM(f,a,o+" has member 'start' that"),type:x===void 0?void 0:MM(x,o+" has member 'type' that")}}(e,"First parameter");if(wy(this),i.type==="bytes"){if(n.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");AM(this,i,Rc(n,0))}else{const s=gf(n);(function(o,a,c,l){const u=Object.create(Lc.prototype);let f=()=>{},x=()=>wt(void 0),h=()=>wt(void 0);a.start!==void 0&&(f=()=>a.start(u)),a.pull!==void 0&&(x=()=>a.pull(u)),a.cancel!==void 0&&(h=C=>a.cancel(C)),_y(o,u,f,x,h,c,l)})(this,i,Rc(n,1),s)}}get locked(){if(!ms(this))throw f0("locked");return Fs(this)}cancel(e=void 0){return ms(this)?Fs(this)?He(new TypeError("Cannot cancel a stream that already has a reader")):O0(this,e):He(f0("cancel"))}getReader(e=void 0){if(!ms(this))throw f0("getReader");return function(n,i){Ni(n,i);const s=n==null?void 0:n.mode;return{mode:s===void 0?void 0:IM(s,i+" has member 'mode' that")}}(e,"First parameter").mode===void 0?yu(this):function(n){return new mf(n)}(this)}pipeThrough(e,r={}){if(!ms(this))throw f0("pipeThrough");Xi(e,1,"pipeThrough");const n=function(s,o){Ni(s,o);const a=s==null?void 0:s.readable;_h(a,"readable","ReadableWritablePair"),w9(a,o+" has member 'readable' that");const c=s==null?void 0:s.writable;return _h(c,"writable","ReadableWritablePair"),cy(c,o+" has member 'writable' that"),{readable:a,writable:c}}(e,"First parameter"),i=Rp(r,"Second parameter");if(Fs(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(zo(n.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return dl(Ip(this,n.writable,i.preventClose,i.preventAbort,i.preventCancel,i.signal)),n.readable}pipeTo(e,r={}){if(!ms(this))return He(f0("pipeTo"));if(e===void 0)return He("Parameter 1 is required in 'pipeTo'.");if(!Fo(e))return He(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let n;try{n=Rp(r,"Second parameter")}catch(i){return He(i)}return Fs(this)?He(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):zo(e)?He(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Ip(this,e,n.preventClose,n.preventAbort,n.preventCancel,n.signal)}tee(){if(!ms(this))throw f0("tee");const e=function(r,n){const i=yu(r);let s,o,a,c,l,u=!1,f=!1,x=!1;const h=Dr(k=>{l=k});function C(){return u||(u=!0,vd(i,{_chunkSteps:k=>{zg(()=>{u=!1;const O=k,z=k;f||_f(a._readableStreamController,O),x||_f(c._readableStreamController,z)})},_closeSteps:()=>{u=!1,f||Kc(a._readableStreamController),x||Kc(c._readableStreamController),f&&x||l(void 0)},_errorSteps:()=>{u=!1}})),wt(void 0)}function w(){}return a=Ph(w,C,function(k){if(f=!0,s=k,x){const O=$x([s,o]),z=O0(r,O);l(z)}return h}),c=Ph(w,C,function(k){if(x=!0,o=k,f){const O=$x([s,o]),z=O0(r,O);l(z)}return h}),$g(i._closedPromise,k=>{qs(a._readableStreamController,k),qs(c._readableStreamController,k),f&&x||l(void 0)}),[a,c]}(this);return $x(e)}values(e=void 0){if(!ms(this))throw f0("values");return function(r,n){const i=yu(r),s=new CM(i,n),o=Object.create(Qg);return o._asyncIteratorImpl=s,o}(this,function(r,n){return Ni(r,n),{preventCancel:!!(r!=null&&r.preventCancel)}}(e,"First parameter").preventCancel)}}function Ph(t,e,r,n=1,i=()=>1){const s=Object.create(So.prototype);return wy(s),_y(s,Object.create(Lc.prototype),t,e,r,n,i),s}function wy(t){t._state="readable",t._reader=void 0,t._storedError=void 0,t._disturbed=!1}function ms(t){return!!jr(t)&&!!Object.prototype.hasOwnProperty.call(t,"_readableStreamController")}function Fs(t){return t._reader!==void 0}function O0(t,e){return t._disturbed=!0,t._state==="closed"?wt(void 0):t._state==="errored"?He(t._storedError):(xl(t),R0(t._readableStreamController[A9](e),y9))}function xl(t){t._state="closed";const e=t._reader;e!==void 0&&(Vg(e),F0(e)&&(e._readRequests.forEach(r=>{r._closeSteps()}),e._readRequests=new yi))}function By(t,e){t._state="errored",t._storedError=e;const r=t._reader;r!==void 0&&(C9(r,e),F0(r)?(r._readRequests.forEach(n=>{n._errorSteps(e)}),r._readRequests=new yi):(r._readIntoRequests.forEach(n=>{n._errorSteps(e)}),r._readIntoRequests=new yi))}function f0(t){return new TypeError(`ReadableStream.prototype.${t} can only be used on a ReadableStream`)}function Dy(t,e){Ni(t,e);const r=t==null?void 0:t.highWaterMark;return _h(r,"highWaterMark","QueuingStrategyInit"),{highWaterMark:_9(r)}}Object.defineProperties(So.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof ct.toStringTag=="symbol"&&Object.defineProperty(So.prototype,ct.toStringTag,{value:"ReadableStream",configurable:!0}),typeof ct.asyncIterator=="symbol"&&Object.defineProperty(So.prototype,ct.asyncIterator,{value:So.prototype.values,writable:!0,configurable:!0});const RM=function(t){return t.byteLength};class Th{constructor(e){Xi(e,1,"ByteLengthQueuingStrategy"),e=Dy(e,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!Lp(this))throw Op("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!Lp(this))throw Op("size");return RM}}function Op(t){return new TypeError(`ByteLengthQueuingStrategy.prototype.${t} can only be used on a ByteLengthQueuingStrategy`)}function Lp(t){return!!jr(t)&&!!Object.prototype.hasOwnProperty.call(t,"_byteLengthQueuingStrategyHighWaterMark")}Object.defineProperties(Th.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof ct.toStringTag=="symbol"&&Object.defineProperty(Th.prototype,ct.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});const OM=function(){return 1};class Mh{constructor(e){Xi(e,1,"CountQueuingStrategy"),e=Dy(e,"First parameter"),this._countQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!Kp(this))throw Np("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!Kp(this))throw Np("size");return OM}}function Np(t){return new TypeError(`CountQueuingStrategy.prototype.${t} can only be used on a CountQueuingStrategy`)}function Kp(t){return!!jr(t)&&!!Object.prototype.hasOwnProperty.call(t,"_countQueuingStrategyHighWaterMark")}function LM(t,e,r){return Sn(t,r),n=>io(t,e,[n])}function NM(t,e,r){return Sn(t,r),n=>Cd(t,e,[n])}function KM(t,e,r){return Sn(t,r),(n,i)=>io(t,e,[n,i])}Object.defineProperties(Mh.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof ct.toStringTag=="symbol"&&Object.defineProperty(Mh.prototype,ct.toStringTag,{value:"CountQueuingStrategy",configurable:!0});class Ih{constructor(e={},r={},n={}){e===void 0&&(e=null);const i=yf(r,"Second parameter"),s=yf(n,"Third parameter"),o=function(x,h){Ni(x,h);const C=x==null?void 0:x.flush,w=x==null?void 0:x.readableType,k=x==null?void 0:x.start,O=x==null?void 0:x.transform,z=x==null?void 0:x.writableType;return{flush:C===void 0?void 0:LM(C,x,h+" has member 'flush' that"),readableType:w,start:k===void 0?void 0:NM(k,x,h+" has member 'start' that"),transform:O===void 0?void 0:KM(O,x,h+" has member 'transform' that"),writableType:z}}(e,"First parameter");if(o.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(o.writableType!==void 0)throw new RangeError("Invalid writableType specified");const a=Rc(s,0),c=gf(s),l=Rc(i,1),u=gf(i);let f;(function(x,h,C,w,k,O){function z(){return h}function P(d){return function(p,_){const b=p._transformStreamController;return p._backpressure?R0(p._backpressureChangePromise,()=>{const m=p._writable;if(m._state==="erroring")throw m._storedError;return $p(b,_)}):$p(b,_)}(x,d)}function A(d){return function(p,_){return wf(p,_),wt(void 0)}(x,d)}function T(){return function(d){const p=d._readable,_=d._transformStreamController,b=_._flushAlgorithm();return ky(_),R0(b,()=>{if(p._state==="errored")throw p._storedError;Kc(p._readableStreamController)},m=>{throw wf(d,m),p._storedError})}(x)}function F(){return function(d){return Bf(d,!1),d._backpressureChangePromise}(x)}function R(d){return Bd(x,d),wt(void 0)}x._writable=function(d,p,_,b,m=1,E=()=>1){const S=Object.create(Ef.prototype);return uy(S),gy(S,Object.create(Oc.prototype),d,p,_,b,m,E),S}(z,P,T,A,C,w),x._readable=Ph(z,F,R,k,O),x._backpressure=void 0,x._backpressureChangePromise=void 0,x._backpressureChangePromise_resolve=void 0,Bf(x,!0),x._transformStreamController=void 0})(this,Dr(x=>{f=x}),l,u,a,c),function(x,h){const C=Object.create(Df.prototype);let w=O=>{try{return Fy(C,O),wt(void 0)}catch(z){return He(z)}},k=()=>wt(void 0);h.transform!==void 0&&(w=O=>h.transform(O,C)),h.flush!==void 0&&(k=()=>h.flush(C)),function(O,z,P,A){z._controlledTransformStream=O,O._transformStreamController=z,z._transformAlgorithm=P,z._flushAlgorithm=A}(x,C,w,k)}(this,o),o.start!==void 0?f(o.start(this._transformStreamController)):f(void 0)}get readable(){if(!Up(this))throw zp("readable");return this._readable}get writable(){if(!Up(this))throw zp("writable");return this._writable}}function Up(t){return!!jr(t)&&!!Object.prototype.hasOwnProperty.call(t,"_transformStreamController")}function wf(t,e){qs(t._readable._readableStreamController,e),Bd(t,e)}function Bd(t,e){ky(t._transformStreamController),Fh(t._writable._writableStreamController,e),t._backpressure&&Bf(t,!1)}function Bf(t,e){t._backpressureChangePromise!==void 0&&t._backpressureChangePromise_resolve(),t._backpressureChangePromise=Dr(r=>{t._backpressureChangePromise_resolve=r}),t._backpressure=e}Object.defineProperties(Ih.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof ct.toStringTag=="symbol"&&Object.defineProperty(Ih.prototype,ct.toStringTag,{value:"TransformStream",configurable:!0});class Df{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Gl(this))throw Yl("desiredSize");return O9(this._controlledTransformStream._readable._readableStreamController)}enqueue(e=void 0){if(!Gl(this))throw Yl("enqueue");Fy(this,e)}error(e=void 0){if(!Gl(this))throw Yl("error");var r;r=e,wf(this._controlledTransformStream,r)}terminate(){if(!Gl(this))throw Yl("terminate");(function(e){const r=e._controlledTransformStream,n=r._readable._readableStreamController;Kc(n),Bd(r,new TypeError("TransformStream terminated"))})(this)}}function Gl(t){return!!jr(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledTransformStream")}function ky(t){t._transformAlgorithm=void 0,t._flushAlgorithm=void 0}function Fy(t,e){const r=t._controlledTransformStream,n=r._readable._readableStreamController;if(!fa(n))throw new TypeError("Readable side is not in a state that permits enqueue");try{_f(n,e)}catch(s){throw Bd(r,s),r._readable._storedError}(function(s){return!vy(s)})(n)!==r._backpressure&&Bf(r,!0)}function $p(t,e){return R0(t._transformAlgorithm(e),void 0,r=>{throw wf(t._controlledTransformStream,r),r})}function Yl(t){return new TypeError(`TransformStreamDefaultController.prototype.${t} can only be used on a TransformStreamDefaultController`)}function zp(t){return new TypeError(`TransformStream.prototype.${t} can only be used on a TransformStream`)}Object.defineProperties(Df.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof ct.toStringTag=="symbol"&&Object.defineProperty(Df.prototype,ct.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});var UM=Object.freeze({__proto__:null,ByteLengthQueuingStrategy:Th,CountQueuingStrategy:Mh,ReadableByteStreamController:hf,ReadableStream:So,ReadableStreamBYOBReader:mf,ReadableStreamBYOBRequest:xf,ReadableStreamDefaultController:Lc,ReadableStreamDefaultReader:ff,TransformStream:Ih,TransformStreamDefaultController:Df,WritableStream:Ef,WritableStreamDefaultController:Oc,WritableStreamDefaultWriter:Cf}),Rh=function(t,e){return Rh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Rh(t,e)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Sy(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+e+" is not a constructor or null");function r(){this.constructor=t}Rh(t,e),t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function Zr(t){if(!t)throw new TypeError("Assertion failed")}function mc(){}function L9(t){return typeof t=="object"&&t!==null||typeof t=="function"}function Hx(t){if(typeof t!="function")return!1;var e=!1;try{new t({start:function(){e=!0}})}catch{}return e}function N9(t){return!!L9(t)&&typeof t.getReader=="function"}function K9(t){return!!L9(t)&&typeof t.getWriter=="function"}function Py(t){return!!L9(t)&&!!N9(t.readable)&&!!K9(t.writable)}function Ty(t){try{return t.getReader({mode:"byob"}).releaseLock(),!0}catch{return!1}}function Vx(t,e){var r=(e===void 0?{}:e).type;return Zr(N9(t)),Zr(t.locked===!1),(r=My(r))==="bytes"?new zM(t):new $M(t)}function My(t){var e=t+"";if(e==="bytes")return e;if(t===void 0)return t;throw new RangeError("Invalid type is specified")}var Iy=function(){function t(e){this._underlyingReader=void 0,this._readerMode=void 0,this._readableStreamController=void 0,this._pendingRead=void 0,this._underlyingStream=e,this._attachDefaultReader()}return t.prototype.start=function(e){this._readableStreamController=e},t.prototype.cancel=function(e){return Zr(this._underlyingReader!==void 0),this._underlyingReader.cancel(e)},t.prototype._attachDefaultReader=function(){if(this._readerMode!=="default"){this._detachReader();var e=this._underlyingStream.getReader();this._readerMode="default",this._attachReader(e)}},t.prototype._attachReader=function(e){var r=this;Zr(this._underlyingReader===void 0),this._underlyingReader=e;var n=this._underlyingReader.closed;n&&n.then(function(){return r._finishPendingRead()}).then(function(){e===r._underlyingReader&&r._readableStreamController.close()},function(i){e===r._underlyingReader&&r._readableStreamController.error(i)}).catch(mc)},t.prototype._detachReader=function(){this._underlyingReader!==void 0&&(this._underlyingReader.releaseLock(),this._underlyingReader=void 0,this._readerMode=void 0)},t.prototype._pullWithDefaultReader=function(){var e=this;this._attachDefaultReader();var r=this._underlyingReader.read().then(function(n){var i=e._readableStreamController;n.done?e._tryClose():i.enqueue(n.value)});return this._setPendingRead(r),r},t.prototype._tryClose=function(){try{this._readableStreamController.close()}catch{}},t.prototype._setPendingRead=function(e){var r,n=this,i=function(){n._pendingRead===r&&(n._pendingRead=void 0)};this._pendingRead=r=e.then(i,i)},t.prototype._finishPendingRead=function(){var e=this;if(this._pendingRead){var r=function(){return e._finishPendingRead()};return this._pendingRead.then(r,r)}},t}(),$M=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Sy(e,t),e.prototype.pull=function(){return this._pullWithDefaultReader()},e}(Iy);function jp(t){return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}var zM=function(t){function e(r){var n=this,i=Ty(r);return(n=t.call(this,r)||this)._supportsByob=i,n}return Sy(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"bytes"},enumerable:!1,configurable:!0}),e.prototype._attachByobReader=function(){if(this._readerMode!=="byob"){Zr(this._supportsByob),this._detachReader();var r=this._underlyingStream.getReader({mode:"byob"});this._readerMode="byob",this._attachReader(r)}},e.prototype.pull=function(){if(this._supportsByob){var r=this._readableStreamController.byobRequest;if(r)return this._pullWithByobRequest(r)}return this._pullWithDefaultReader()},e.prototype._pullWithByobRequest=function(r){var n=this;this._attachByobReader();var i=new Uint8Array(r.view.byteLength),s=this._underlyingReader.read(i).then(function(o){var a,c,l;n._readableStreamController,o.done?(n._tryClose(),r.respond(0)):(a=o.value,c=r.view,l=jp(a),jp(c).set(l,0),r.respond(o.value.byteLength))});return this._setPendingRead(s),s},e}(Iy);function Hp(t){Zr(K9(t)),Zr(t.locked===!1);var e=t.getWriter();return new jM(e)}var jM=function(){function t(e){var r=this;this._writableStreamController=void 0,this._pendingWrite=void 0,this._state="writable",this._storedError=void 0,this._underlyingWriter=e,this._errorPromise=new Promise(function(n,i){r._errorPromiseReject=i}),this._errorPromise.catch(mc)}return t.prototype.start=function(e){var r=this;this._writableStreamController=e,this._underlyingWriter.closed.then(function(){r._state="closed"}).catch(function(n){return r._finishErroring(n)})},t.prototype.write=function(e){var r=this,n=this._underlyingWriter;if(n.desiredSize===null)return n.ready;var i=n.write(e);i.catch(function(o){return r._finishErroring(o)}),n.ready.catch(function(o){return r._startErroring(o)});var s=Promise.race([i,this._errorPromise]);return this._setPendingWrite(s),s},t.prototype.close=function(){var e=this;return this._pendingWrite===void 0?this._underlyingWriter.close():this._finishPendingWrite().then(function(){return e.close()})},t.prototype.abort=function(e){if(this._state!=="errored")return this._underlyingWriter.abort(e)},t.prototype._setPendingWrite=function(e){var r,n=this,i=function(){n._pendingWrite===r&&(n._pendingWrite=void 0)};this._pendingWrite=r=e.then(i,i)},t.prototype._finishPendingWrite=function(){var e=this;if(this._pendingWrite===void 0)return Promise.resolve();var r=function(){return e._finishPendingWrite()};return this._pendingWrite.then(r,r)},t.prototype._startErroring=function(e){var r=this;if(this._state==="writable"){this._state="erroring",this._storedError=e;var n=function(){return r._finishErroring(e)};this._pendingWrite===void 0?n():this._finishPendingWrite().then(n,n),this._writableStreamController.error(e)}},t.prototype._finishErroring=function(e){this._state==="writable"&&this._startErroring(e),this._state==="erroring"&&(this._state="errored",this._errorPromiseReject(this._storedError))},t}();function Vp(t){Zr(Py(t));var e=t.readable,r=t.writable;Zr(e.locked===!1),Zr(r.locked===!1);var n,i=e.getReader();try{n=r.getWriter()}catch(s){throw i.releaseLock(),s}return new HM(i,n)}var HM=function(){function t(e,r){var n=this;this._transformStreamController=void 0,this._onRead=function(i){if(!i.done)return n._transformStreamController.enqueue(i.value),n._reader.read().then(n._onRead)},this._onError=function(i){n._flushReject(i),n._transformStreamController.error(i),n._reader.cancel(i).catch(mc),n._writer.abort(i).catch(mc)},this._onTerminate=function(){n._flushResolve(),n._transformStreamController.terminate();var i=new TypeError("TransformStream terminated");n._writer.abort(i).catch(mc)},this._reader=e,this._writer=r,this._flushPromise=new Promise(function(i,s){n._flushResolve=i,n._flushReject=s})}return t.prototype.start=function(e){this._transformStreamController=e,this._reader.read().then(this._onRead).then(this._onTerminate,this._onError);var r=this._reader.closed;r&&r.then(this._onTerminate,this._onError)},t.prototype.transform=function(e){return this._writer.write(e)},t.prototype.flush=function(){var e=this;return this._writer.close().then(function(){return e._flushPromise})},t}(),VM=Object.freeze({__proto__:null,createReadableStreamWrapper:function(t){Zr(function(r){return!!Hx(r)&&!!N9(new r)}(t));var e=function(r){try{return new r({type:"bytes"}),!0}catch{return!1}}(t);return function(r,n){var i=(n===void 0?{}:n).type;if((i=My(i))!=="bytes"||e||(i=void 0),r.constructor===t&&(i!=="bytes"||Ty(r)))return r;if(i==="bytes"){var s=Vx(r,{type:i});return new t(s)}return s=Vx(r),new t(s)}},createTransformStreamWrapper:function(t){return Zr(function(e){return!!Hx(e)&&!!Py(new e)}(t)),function(e){if(e.constructor===t)return e;var r=Vp(e);return new t(r)}},createWrappingReadableSource:Vx,createWrappingTransformer:Vp,createWrappingWritableSink:Hp,createWritableStreamWrapper:function(t){return Zr(function(e){return!!Hx(e)&&!!K9(new e)}(t)),function(e){if(e.constructor===t)return e;var r=Hp(e);return new t(r)}}}),Fe=Ci(function(t){(function(e,r){function n(d,p){if(!d)throw Error(p||"Assertion failed")}function i(d,p){d.super_=p;var _=function(){};_.prototype=p.prototype,d.prototype=new _,d.prototype.constructor=d}function s(d,p,_){if(s.isBN(d))return d;this.negative=0,this.words=null,this.length=0,this.red=null,d!==null&&(p!=="le"&&p!=="be"||(_=p,p=10),this._init(d||0,p||10,_||"be"))}var o;typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;try{o=void 0}catch{}function a(d,p,_){for(var b=0,m=Math.min(d.length,_),E=p;E<m;E++){var S=d.charCodeAt(E)-48;b<<=4,b|=S>=49&&S<=54?S-49+10:S>=17&&S<=22?S-17+10:15&S}return b}function c(d,p,_,b){for(var m=0,E=Math.min(d.length,_),S=p;S<E;S++){var Q=d.charCodeAt(S)-48;m*=b,m+=Q>=49?Q-49+10:Q>=17?Q-17+10:Q}return m}s.isBN=function(d){return d instanceof s||d!==null&&typeof d=="object"&&d.constructor.wordSize===s.wordSize&&Array.isArray(d.words)},s.max=function(d,p){return d.cmp(p)>0?d:p},s.min=function(d,p){return d.cmp(p)<0?d:p},s.prototype._init=function(d,p,_){if(typeof d=="number")return this._initNumber(d,p,_);if(typeof d=="object")return this._initArray(d,p,_);p==="hex"&&(p=16),n(p===(0|p)&&p>=2&&p<=36);var b=0;(d=d.toString().replace(/\s+/g,""))[0]==="-"&&b++,p===16?this._parseHex(d,b):this._parseBase(d,p,b),d[0]==="-"&&(this.negative=1),this.strip(),_==="le"&&this._initArray(this.toArray(),p,_)},s.prototype._initNumber=function(d,p,_){d<0&&(this.negative=1,d=-d),d<67108864?(this.words=[67108863&d],this.length=1):d<4503599627370496?(this.words=[67108863&d,d/67108864&67108863],this.length=2):(n(d<9007199254740992),this.words=[67108863&d,d/67108864&67108863,1],this.length=3),_==="le"&&this._initArray(this.toArray(),p,_)},s.prototype._initArray=function(d,p,_){if(n(typeof d.length=="number"),d.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(d.length/3),this.words=Array(this.length);for(var b=0;b<this.length;b++)this.words[b]=0;var m,E,S=0;if(_==="be")for(b=d.length-1,m=0;b>=0;b-=3)E=d[b]|d[b-1]<<8|d[b-2]<<16,this.words[m]|=E<<S&67108863,this.words[m+1]=E>>>26-S&67108863,(S+=24)>=26&&(S-=26,m++);else if(_==="le")for(b=0,m=0;b<d.length;b+=3)E=d[b]|d[b+1]<<8|d[b+2]<<16,this.words[m]|=E<<S&67108863,this.words[m+1]=E>>>26-S&67108863,(S+=24)>=26&&(S-=26,m++);return this.strip()},s.prototype._parseHex=function(d,p){this.length=Math.ceil((d.length-p)/6),this.words=Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var b,m,E=0;for(_=d.length-6,b=0;_>=p;_-=6)m=a(d,_,_+6),this.words[b]|=m<<E&67108863,this.words[b+1]|=m>>>26-E&4194303,(E+=24)>=26&&(E-=26,b++);_+6!==p&&(m=a(d,p,_+6),this.words[b]|=m<<E&67108863,this.words[b+1]|=m>>>26-E&4194303),this.strip()},s.prototype._parseBase=function(d,p,_){this.words=[0],this.length=1;for(var b=0,m=1;m<=67108863;m*=p)b++;b--,m=m/p|0;for(var E=d.length-_,S=E%b,Q=Math.min(E,E-S)+_,Z=0,M=_;M<Q;M+=b)Z=c(d,M,M+b,p),this.imuln(m),this.words[0]+Z<67108864?this.words[0]+=Z:this._iaddn(Z);if(S!==0){var te=1;for(Z=c(d,M,d.length,p),M=0;M<S;M++)te*=p;this.imuln(te),this.words[0]+Z<67108864?this.words[0]+=Z:this._iaddn(Z)}},s.prototype.copy=function(d){d.words=Array(this.length);for(var p=0;p<this.length;p++)d.words[p]=this.words[p];d.length=this.length,d.negative=this.negative,d.red=this.red},s.prototype.clone=function(){var d=new s(null);return this.copy(d),d},s.prototype._expand=function(d){for(;this.length<d;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function x(d,p,_){_.negative=p.negative^d.negative;var b=d.length+p.length|0;_.length=b,b=b-1|0;var m=0|d.words[0],E=0|p.words[0],S=m*E,Q=67108863&S,Z=S/67108864|0;_.words[0]=Q;for(var M=1;M<b;M++){for(var te=Z>>>26,ie=67108863&Z,ue=Math.min(M,p.length-1),ne=Math.max(0,M-d.length+1);ne<=ue;ne++){var le=M-ne|0;te+=(S=(m=0|d.words[le])*(E=0|p.words[ne])+ie)/67108864|0,ie=67108863&S}_.words[M]=0|ie,Z=0|te}return Z!==0?_.words[M]=0|Z:_.length--,_.strip()}s.prototype.toString=function(d,p){var _;if(p=0|p||1,(d=d||10)===16||d==="hex"){_="";for(var b=0,m=0,E=0;E<this.length;E++){var S=this.words[E],Q=(16777215&(S<<b|m)).toString(16);_=(m=S>>>24-b&16777215)!==0||E!==this.length-1?l[6-Q.length]+Q+_:Q+_,(b+=2)>=26&&(b-=26,E--)}for(m!==0&&(_=m.toString(16)+_);_.length%p!=0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}if(d===(0|d)&&d>=2&&d<=36){var Z=u[d],M=f[d];_="";var te=this.clone();for(te.negative=0;!te.isZero();){var ie=te.modn(M).toString(d);_=(te=te.idivn(M)).isZero()?ie+_:l[Z-ie.length]+ie+_}for(this.isZero()&&(_="0"+_);_.length%p!=0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var d=this.words[0];return this.length===2?d+=67108864*this.words[1]:this.length===3&&this.words[2]===1?d+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-d:d},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(d,p){return n(o!==void 0),this.toArrayLike(o,d,p)},s.prototype.toArray=function(d,p){return this.toArrayLike(Array,d,p)},s.prototype.toArrayLike=function(d,p,_){var b=this.byteLength(),m=_||Math.max(1,b);n(b<=m,"byte array longer than desired length"),n(m>0,"Requested array length <= 0"),this.strip();var E,S,Q=p==="le",Z=new d(m),M=this.clone();if(Q){for(S=0;!M.isZero();S++)E=M.andln(255),M.iushrn(8),Z[S]=E;for(;S<m;S++)Z[S]=0}else{for(S=0;S<m-b;S++)Z[S]=0;for(S=0;!M.isZero();S++)E=M.andln(255),M.iushrn(8),Z[m-S-1]=E}return Z},s.prototype._countBits=Math.clz32?function(d){return 32-Math.clz32(d)}:function(d){var p=d,_=0;return p>=4096&&(_+=13,p>>>=13),p>=64&&(_+=7,p>>>=7),p>=8&&(_+=4,p>>>=4),p>=2&&(_+=2,p>>>=2),_+p},s.prototype._zeroBits=function(d){if(d===0)return 26;var p=d,_=0;return!(8191&p)&&(_+=13,p>>>=13),!(127&p)&&(_+=7,p>>>=7),!(15&p)&&(_+=4,p>>>=4),!(3&p)&&(_+=2,p>>>=2),!(1&p)&&_++,_},s.prototype.bitLength=function(){var d=this.words[this.length-1],p=this._countBits(d);return 26*(this.length-1)+p},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var d=0,p=0;p<this.length;p++){var _=this._zeroBits(this.words[p]);if(d+=_,_!==26)break}return d},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(d){return this.negative!==0?this.abs().inotn(d).iaddn(1):this.clone()},s.prototype.fromTwos=function(d){return this.testn(d-1)?this.notn(d).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(d){for(;this.length<d.length;)this.words[this.length++]=0;for(var p=0;p<d.length;p++)this.words[p]=this.words[p]|d.words[p];return this.strip()},s.prototype.ior=function(d){return n((this.negative|d.negative)==0),this.iuor(d)},s.prototype.or=function(d){return this.length>d.length?this.clone().ior(d):d.clone().ior(this)},s.prototype.uor=function(d){return this.length>d.length?this.clone().iuor(d):d.clone().iuor(this)},s.prototype.iuand=function(d){var p;p=this.length>d.length?d:this;for(var _=0;_<p.length;_++)this.words[_]=this.words[_]&d.words[_];return this.length=p.length,this.strip()},s.prototype.iand=function(d){return n((this.negative|d.negative)==0),this.iuand(d)},s.prototype.and=function(d){return this.length>d.length?this.clone().iand(d):d.clone().iand(this)},s.prototype.uand=function(d){return this.length>d.length?this.clone().iuand(d):d.clone().iuand(this)},s.prototype.iuxor=function(d){var p,_;this.length>d.length?(p=this,_=d):(p=d,_=this);for(var b=0;b<_.length;b++)this.words[b]=p.words[b]^_.words[b];if(this!==p)for(;b<p.length;b++)this.words[b]=p.words[b];return this.length=p.length,this.strip()},s.prototype.ixor=function(d){return n((this.negative|d.negative)==0),this.iuxor(d)},s.prototype.xor=function(d){return this.length>d.length?this.clone().ixor(d):d.clone().ixor(this)},s.prototype.uxor=function(d){return this.length>d.length?this.clone().iuxor(d):d.clone().iuxor(this)},s.prototype.inotn=function(d){n(typeof d=="number"&&d>=0);var p=0|Math.ceil(d/26),_=d%26;this._expand(p),_>0&&p--;for(var b=0;b<p;b++)this.words[b]=67108863&~this.words[b];return _>0&&(this.words[b]=~this.words[b]&67108863>>26-_),this.strip()},s.prototype.notn=function(d){return this.clone().inotn(d)},s.prototype.setn=function(d,p){n(typeof d=="number"&&d>=0);var _=d/26|0,b=d%26;return this._expand(_+1),this.words[_]=p?this.words[_]|1<<b:this.words[_]&~(1<<b),this.strip()},s.prototype.iadd=function(d){var p,_,b;if(this.negative!==0&&d.negative===0)return this.negative=0,p=this.isub(d),this.negative^=1,this._normSign();if(this.negative===0&&d.negative!==0)return d.negative=0,p=this.isub(d),d.negative=1,p._normSign();this.length>d.length?(_=this,b=d):(_=d,b=this);for(var m=0,E=0;E<b.length;E++)p=(0|_.words[E])+(0|b.words[E])+m,this.words[E]=67108863&p,m=p>>>26;for(;m!==0&&E<_.length;E++)p=(0|_.words[E])+m,this.words[E]=67108863&p,m=p>>>26;if(this.length=_.length,m!==0)this.words[this.length]=m,this.length++;else if(_!==this)for(;E<_.length;E++)this.words[E]=_.words[E];return this},s.prototype.add=function(d){var p;return d.negative!==0&&this.negative===0?(d.negative=0,p=this.sub(d),d.negative^=1,p):d.negative===0&&this.negative!==0?(this.negative=0,p=d.sub(this),this.negative=1,p):this.length>d.length?this.clone().iadd(d):d.clone().iadd(this)},s.prototype.isub=function(d){if(d.negative!==0){d.negative=0;var p=this.iadd(d);return d.negative=1,p._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(d),this.negative=1,this._normSign();var _,b,m=this.cmp(d);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;m>0?(_=this,b=d):(_=d,b=this);for(var E=0,S=0;S<b.length;S++)E=(p=(0|_.words[S])-(0|b.words[S])+E)>>26,this.words[S]=67108863&p;for(;E!==0&&S<_.length;S++)E=(p=(0|_.words[S])+E)>>26,this.words[S]=67108863&p;if(E===0&&S<_.length&&_!==this)for(;S<_.length;S++)this.words[S]=_.words[S];return this.length=Math.max(this.length,S),_!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(d){return this.clone().isub(d)};var h=function(d,p,_){var b,m,E,S=d.words,Q=p.words,Z=_.words,M=0,te=0|S[0],ie=8191&te,ue=te>>>13,ne=0|S[1],le=8191&ne,Ae=ne>>>13,me=0|S[2],W=8191&me,re=me>>>13,K=0|S[3],v=8191&K,J=K>>>13,xe=0|S[4],fe=8191&xe,he=xe>>>13,y=0|S[5],g=8191&y,B=y>>>13,I=0|S[6],j=8191&I,$=I>>>13,q=0|S[7],ae=8191&q,oe=q>>>13,ce=0|S[8],H=8191&ce,V=ce>>>13,Y=0|S[9],G=8191&Y,X=Y>>>13,ee=0|Q[0],N=8191&ee,L=ee>>>13,be=0|Q[1],Ee=8191&be,Pe=be>>>13,Ye=0|Q[2],Ne=8191&Ye,ke=Ye>>>13,rt=0|Q[3],Ve=8191&rt,Ze=rt>>>13,Ot=0|Q[4],Le=8191&Ot,ze=Ot>>>13,nt=0|Q[5],Me=8191&nt,qe=nt>>>13,xt=0|Q[6],je=8191&xt,ge=xt>>>13,ye=0|Q[7],_e=8191&ye,De=ye>>>13,Ue=0|Q[8],Oe=8191&Ue,Te=Ue>>>13,lt=0|Q[9],We=8191&lt,ft=lt>>>13;_.negative=d.negative^p.negative,_.length=19;var gr=(M+(b=Math.imul(ie,N))|0)+((8191&(m=(m=Math.imul(ie,L))+Math.imul(ue,N)|0))<<13)|0;M=((E=Math.imul(ue,L))+(m>>>13)|0)+(gr>>>26)|0,gr&=67108863,b=Math.imul(le,N),m=(m=Math.imul(le,L))+Math.imul(Ae,N)|0,E=Math.imul(Ae,L);var yr=(M+(b=b+Math.imul(ie,Ee)|0)|0)+((8191&(m=(m=m+Math.imul(ie,Pe)|0)+Math.imul(ue,Ee)|0))<<13)|0;M=((E=E+Math.imul(ue,Pe)|0)+(m>>>13)|0)+(yr>>>26)|0,yr&=67108863,b=Math.imul(W,N),m=(m=Math.imul(W,L))+Math.imul(re,N)|0,E=Math.imul(re,L),b=b+Math.imul(le,Ee)|0,m=(m=m+Math.imul(le,Pe)|0)+Math.imul(Ae,Ee)|0,E=E+Math.imul(Ae,Pe)|0;var Sr=(M+(b=b+Math.imul(ie,Ne)|0)|0)+((8191&(m=(m=m+Math.imul(ie,ke)|0)+Math.imul(ue,Ne)|0))<<13)|0;M=((E=E+Math.imul(ue,ke)|0)+(m>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,b=Math.imul(v,N),m=(m=Math.imul(v,L))+Math.imul(J,N)|0,E=Math.imul(J,L),b=b+Math.imul(W,Ee)|0,m=(m=m+Math.imul(W,Pe)|0)+Math.imul(re,Ee)|0,E=E+Math.imul(re,Pe)|0,b=b+Math.imul(le,Ne)|0,m=(m=m+Math.imul(le,ke)|0)+Math.imul(Ae,Ne)|0,E=E+Math.imul(Ae,ke)|0;var Pn=(M+(b=b+Math.imul(ie,Ve)|0)|0)+((8191&(m=(m=m+Math.imul(ie,Ze)|0)+Math.imul(ue,Ve)|0))<<13)|0;M=((E=E+Math.imul(ue,Ze)|0)+(m>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,b=Math.imul(fe,N),m=(m=Math.imul(fe,L))+Math.imul(he,N)|0,E=Math.imul(he,L),b=b+Math.imul(v,Ee)|0,m=(m=m+Math.imul(v,Pe)|0)+Math.imul(J,Ee)|0,E=E+Math.imul(J,Pe)|0,b=b+Math.imul(W,Ne)|0,m=(m=m+Math.imul(W,ke)|0)+Math.imul(re,Ne)|0,E=E+Math.imul(re,ke)|0,b=b+Math.imul(le,Ve)|0,m=(m=m+Math.imul(le,Ze)|0)+Math.imul(Ae,Ve)|0,E=E+Math.imul(Ae,Ze)|0;var Tn=(M+(b=b+Math.imul(ie,Le)|0)|0)+((8191&(m=(m=m+Math.imul(ie,ze)|0)+Math.imul(ue,Le)|0))<<13)|0;M=((E=E+Math.imul(ue,ze)|0)+(m>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,b=Math.imul(g,N),m=(m=Math.imul(g,L))+Math.imul(B,N)|0,E=Math.imul(B,L),b=b+Math.imul(fe,Ee)|0,m=(m=m+Math.imul(fe,Pe)|0)+Math.imul(he,Ee)|0,E=E+Math.imul(he,Pe)|0,b=b+Math.imul(v,Ne)|0,m=(m=m+Math.imul(v,ke)|0)+Math.imul(J,Ne)|0,E=E+Math.imul(J,ke)|0,b=b+Math.imul(W,Ve)|0,m=(m=m+Math.imul(W,Ze)|0)+Math.imul(re,Ve)|0,E=E+Math.imul(re,Ze)|0,b=b+Math.imul(le,Le)|0,m=(m=m+Math.imul(le,ze)|0)+Math.imul(Ae,Le)|0,E=E+Math.imul(Ae,ze)|0;var Mn=(M+(b=b+Math.imul(ie,Me)|0)|0)+((8191&(m=(m=m+Math.imul(ie,qe)|0)+Math.imul(ue,Me)|0))<<13)|0;M=((E=E+Math.imul(ue,qe)|0)+(m>>>13)|0)+(Mn>>>26)|0,Mn&=67108863,b=Math.imul(j,N),m=(m=Math.imul(j,L))+Math.imul($,N)|0,E=Math.imul($,L),b=b+Math.imul(g,Ee)|0,m=(m=m+Math.imul(g,Pe)|0)+Math.imul(B,Ee)|0,E=E+Math.imul(B,Pe)|0,b=b+Math.imul(fe,Ne)|0,m=(m=m+Math.imul(fe,ke)|0)+Math.imul(he,Ne)|0,E=E+Math.imul(he,ke)|0,b=b+Math.imul(v,Ve)|0,m=(m=m+Math.imul(v,Ze)|0)+Math.imul(J,Ve)|0,E=E+Math.imul(J,Ze)|0,b=b+Math.imul(W,Le)|0,m=(m=m+Math.imul(W,ze)|0)+Math.imul(re,Le)|0,E=E+Math.imul(re,ze)|0,b=b+Math.imul(le,Me)|0,m=(m=m+Math.imul(le,qe)|0)+Math.imul(Ae,Me)|0,E=E+Math.imul(Ae,qe)|0;var In=(M+(b=b+Math.imul(ie,je)|0)|0)+((8191&(m=(m=m+Math.imul(ie,ge)|0)+Math.imul(ue,je)|0))<<13)|0;M=((E=E+Math.imul(ue,ge)|0)+(m>>>13)|0)+(In>>>26)|0,In&=67108863,b=Math.imul(ae,N),m=(m=Math.imul(ae,L))+Math.imul(oe,N)|0,E=Math.imul(oe,L),b=b+Math.imul(j,Ee)|0,m=(m=m+Math.imul(j,Pe)|0)+Math.imul($,Ee)|0,E=E+Math.imul($,Pe)|0,b=b+Math.imul(g,Ne)|0,m=(m=m+Math.imul(g,ke)|0)+Math.imul(B,Ne)|0,E=E+Math.imul(B,ke)|0,b=b+Math.imul(fe,Ve)|0,m=(m=m+Math.imul(fe,Ze)|0)+Math.imul(he,Ve)|0,E=E+Math.imul(he,Ze)|0,b=b+Math.imul(v,Le)|0,m=(m=m+Math.imul(v,ze)|0)+Math.imul(J,Le)|0,E=E+Math.imul(J,ze)|0,b=b+Math.imul(W,Me)|0,m=(m=m+Math.imul(W,qe)|0)+Math.imul(re,Me)|0,E=E+Math.imul(re,qe)|0,b=b+Math.imul(le,je)|0,m=(m=m+Math.imul(le,ge)|0)+Math.imul(Ae,je)|0,E=E+Math.imul(Ae,ge)|0;var Rn=(M+(b=b+Math.imul(ie,_e)|0)|0)+((8191&(m=(m=m+Math.imul(ie,De)|0)+Math.imul(ue,_e)|0))<<13)|0;M=((E=E+Math.imul(ue,De)|0)+(m>>>13)|0)+(Rn>>>26)|0,Rn&=67108863,b=Math.imul(H,N),m=(m=Math.imul(H,L))+Math.imul(V,N)|0,E=Math.imul(V,L),b=b+Math.imul(ae,Ee)|0,m=(m=m+Math.imul(ae,Pe)|0)+Math.imul(oe,Ee)|0,E=E+Math.imul(oe,Pe)|0,b=b+Math.imul(j,Ne)|0,m=(m=m+Math.imul(j,ke)|0)+Math.imul($,Ne)|0,E=E+Math.imul($,ke)|0,b=b+Math.imul(g,Ve)|0,m=(m=m+Math.imul(g,Ze)|0)+Math.imul(B,Ve)|0,E=E+Math.imul(B,Ze)|0,b=b+Math.imul(fe,Le)|0,m=(m=m+Math.imul(fe,ze)|0)+Math.imul(he,Le)|0,E=E+Math.imul(he,ze)|0,b=b+Math.imul(v,Me)|0,m=(m=m+Math.imul(v,qe)|0)+Math.imul(J,Me)|0,E=E+Math.imul(J,qe)|0,b=b+Math.imul(W,je)|0,m=(m=m+Math.imul(W,ge)|0)+Math.imul(re,je)|0,E=E+Math.imul(re,ge)|0,b=b+Math.imul(le,_e)|0,m=(m=m+Math.imul(le,De)|0)+Math.imul(Ae,_e)|0,E=E+Math.imul(Ae,De)|0;var On=(M+(b=b+Math.imul(ie,Oe)|0)|0)+((8191&(m=(m=m+Math.imul(ie,Te)|0)+Math.imul(ue,Oe)|0))<<13)|0;M=((E=E+Math.imul(ue,Te)|0)+(m>>>13)|0)+(On>>>26)|0,On&=67108863,b=Math.imul(G,N),m=(m=Math.imul(G,L))+Math.imul(X,N)|0,E=Math.imul(X,L),b=b+Math.imul(H,Ee)|0,m=(m=m+Math.imul(H,Pe)|0)+Math.imul(V,Ee)|0,E=E+Math.imul(V,Pe)|0,b=b+Math.imul(ae,Ne)|0,m=(m=m+Math.imul(ae,ke)|0)+Math.imul(oe,Ne)|0,E=E+Math.imul(oe,ke)|0,b=b+Math.imul(j,Ve)|0,m=(m=m+Math.imul(j,Ze)|0)+Math.imul($,Ve)|0,E=E+Math.imul($,Ze)|0,b=b+Math.imul(g,Le)|0,m=(m=m+Math.imul(g,ze)|0)+Math.imul(B,Le)|0,E=E+Math.imul(B,ze)|0,b=b+Math.imul(fe,Me)|0,m=(m=m+Math.imul(fe,qe)|0)+Math.imul(he,Me)|0,E=E+Math.imul(he,qe)|0,b=b+Math.imul(v,je)|0,m=(m=m+Math.imul(v,ge)|0)+Math.imul(J,je)|0,E=E+Math.imul(J,ge)|0,b=b+Math.imul(W,_e)|0,m=(m=m+Math.imul(W,De)|0)+Math.imul(re,_e)|0,E=E+Math.imul(re,De)|0,b=b+Math.imul(le,Oe)|0,m=(m=m+Math.imul(le,Te)|0)+Math.imul(Ae,Oe)|0,E=E+Math.imul(Ae,Te)|0;var Ln=(M+(b=b+Math.imul(ie,We)|0)|0)+((8191&(m=(m=m+Math.imul(ie,ft)|0)+Math.imul(ue,We)|0))<<13)|0;M=((E=E+Math.imul(ue,ft)|0)+(m>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,b=Math.imul(G,Ee),m=(m=Math.imul(G,Pe))+Math.imul(X,Ee)|0,E=Math.imul(X,Pe),b=b+Math.imul(H,Ne)|0,m=(m=m+Math.imul(H,ke)|0)+Math.imul(V,Ne)|0,E=E+Math.imul(V,ke)|0,b=b+Math.imul(ae,Ve)|0,m=(m=m+Math.imul(ae,Ze)|0)+Math.imul(oe,Ve)|0,E=E+Math.imul(oe,Ze)|0,b=b+Math.imul(j,Le)|0,m=(m=m+Math.imul(j,ze)|0)+Math.imul($,Le)|0,E=E+Math.imul($,ze)|0,b=b+Math.imul(g,Me)|0,m=(m=m+Math.imul(g,qe)|0)+Math.imul(B,Me)|0,E=E+Math.imul(B,qe)|0,b=b+Math.imul(fe,je)|0,m=(m=m+Math.imul(fe,ge)|0)+Math.imul(he,je)|0,E=E+Math.imul(he,ge)|0,b=b+Math.imul(v,_e)|0,m=(m=m+Math.imul(v,De)|0)+Math.imul(J,_e)|0,E=E+Math.imul(J,De)|0,b=b+Math.imul(W,Oe)|0,m=(m=m+Math.imul(W,Te)|0)+Math.imul(re,Oe)|0,E=E+Math.imul(re,Te)|0;var Ai=(M+(b=b+Math.imul(le,We)|0)|0)+((8191&(m=(m=m+Math.imul(le,ft)|0)+Math.imul(Ae,We)|0))<<13)|0;M=((E=E+Math.imul(Ae,ft)|0)+(m>>>13)|0)+(Ai>>>26)|0,Ai&=67108863,b=Math.imul(G,Ne),m=(m=Math.imul(G,ke))+Math.imul(X,Ne)|0,E=Math.imul(X,ke),b=b+Math.imul(H,Ve)|0,m=(m=m+Math.imul(H,Ze)|0)+Math.imul(V,Ve)|0,E=E+Math.imul(V,Ze)|0,b=b+Math.imul(ae,Le)|0,m=(m=m+Math.imul(ae,ze)|0)+Math.imul(oe,Le)|0,E=E+Math.imul(oe,ze)|0,b=b+Math.imul(j,Me)|0,m=(m=m+Math.imul(j,qe)|0)+Math.imul($,Me)|0,E=E+Math.imul($,qe)|0,b=b+Math.imul(g,je)|0,m=(m=m+Math.imul(g,ge)|0)+Math.imul(B,je)|0,E=E+Math.imul(B,ge)|0,b=b+Math.imul(fe,_e)|0,m=(m=m+Math.imul(fe,De)|0)+Math.imul(he,_e)|0,E=E+Math.imul(he,De)|0,b=b+Math.imul(v,Oe)|0,m=(m=m+Math.imul(v,Te)|0)+Math.imul(J,Oe)|0,E=E+Math.imul(J,Te)|0;var vi=(M+(b=b+Math.imul(W,We)|0)|0)+((8191&(m=(m=m+Math.imul(W,ft)|0)+Math.imul(re,We)|0))<<13)|0;M=((E=E+Math.imul(re,ft)|0)+(m>>>13)|0)+(vi>>>26)|0,vi&=67108863,b=Math.imul(G,Ve),m=(m=Math.imul(G,Ze))+Math.imul(X,Ve)|0,E=Math.imul(X,Ze),b=b+Math.imul(H,Le)|0,m=(m=m+Math.imul(H,ze)|0)+Math.imul(V,Le)|0,E=E+Math.imul(V,ze)|0,b=b+Math.imul(ae,Me)|0,m=(m=m+Math.imul(ae,qe)|0)+Math.imul(oe,Me)|0,E=E+Math.imul(oe,qe)|0,b=b+Math.imul(j,je)|0,m=(m=m+Math.imul(j,ge)|0)+Math.imul($,je)|0,E=E+Math.imul($,ge)|0,b=b+Math.imul(g,_e)|0,m=(m=m+Math.imul(g,De)|0)+Math.imul(B,_e)|0,E=E+Math.imul(B,De)|0,b=b+Math.imul(fe,Oe)|0,m=(m=m+Math.imul(fe,Te)|0)+Math.imul(he,Oe)|0,E=E+Math.imul(he,Te)|0;var es=(M+(b=b+Math.imul(v,We)|0)|0)+((8191&(m=(m=m+Math.imul(v,ft)|0)+Math.imul(J,We)|0))<<13)|0;M=((E=E+Math.imul(J,ft)|0)+(m>>>13)|0)+(es>>>26)|0,es&=67108863,b=Math.imul(G,Le),m=(m=Math.imul(G,ze))+Math.imul(X,Le)|0,E=Math.imul(X,ze),b=b+Math.imul(H,Me)|0,m=(m=m+Math.imul(H,qe)|0)+Math.imul(V,Me)|0,E=E+Math.imul(V,qe)|0,b=b+Math.imul(ae,je)|0,m=(m=m+Math.imul(ae,ge)|0)+Math.imul(oe,je)|0,E=E+Math.imul(oe,ge)|0,b=b+Math.imul(j,_e)|0,m=(m=m+Math.imul(j,De)|0)+Math.imul($,_e)|0,E=E+Math.imul($,De)|0,b=b+Math.imul(g,Oe)|0,m=(m=m+Math.imul(g,Te)|0)+Math.imul(B,Oe)|0,E=E+Math.imul(B,Te)|0;var ts=(M+(b=b+Math.imul(fe,We)|0)|0)+((8191&(m=(m=m+Math.imul(fe,ft)|0)+Math.imul(he,We)|0))<<13)|0;M=((E=E+Math.imul(he,ft)|0)+(m>>>13)|0)+(ts>>>26)|0,ts&=67108863,b=Math.imul(G,Me),m=(m=Math.imul(G,qe))+Math.imul(X,Me)|0,E=Math.imul(X,qe),b=b+Math.imul(H,je)|0,m=(m=m+Math.imul(H,ge)|0)+Math.imul(V,je)|0,E=E+Math.imul(V,ge)|0,b=b+Math.imul(ae,_e)|0,m=(m=m+Math.imul(ae,De)|0)+Math.imul(oe,_e)|0,E=E+Math.imul(oe,De)|0,b=b+Math.imul(j,Oe)|0,m=(m=m+Math.imul(j,Te)|0)+Math.imul($,Oe)|0,E=E+Math.imul($,Te)|0;var rs=(M+(b=b+Math.imul(g,We)|0)|0)+((8191&(m=(m=m+Math.imul(g,ft)|0)+Math.imul(B,We)|0))<<13)|0;M=((E=E+Math.imul(B,ft)|0)+(m>>>13)|0)+(rs>>>26)|0,rs&=67108863,b=Math.imul(G,je),m=(m=Math.imul(G,ge))+Math.imul(X,je)|0,E=Math.imul(X,ge),b=b+Math.imul(H,_e)|0,m=(m=m+Math.imul(H,De)|0)+Math.imul(V,_e)|0,E=E+Math.imul(V,De)|0,b=b+Math.imul(ae,Oe)|0,m=(m=m+Math.imul(ae,Te)|0)+Math.imul(oe,Oe)|0,E=E+Math.imul(oe,Te)|0;var ns=(M+(b=b+Math.imul(j,We)|0)|0)+((8191&(m=(m=m+Math.imul(j,ft)|0)+Math.imul($,We)|0))<<13)|0;M=((E=E+Math.imul($,ft)|0)+(m>>>13)|0)+(ns>>>26)|0,ns&=67108863,b=Math.imul(G,_e),m=(m=Math.imul(G,De))+Math.imul(X,_e)|0,E=Math.imul(X,De),b=b+Math.imul(H,Oe)|0,m=(m=m+Math.imul(H,Te)|0)+Math.imul(V,Oe)|0,E=E+Math.imul(V,Te)|0;var is=(M+(b=b+Math.imul(ae,We)|0)|0)+((8191&(m=(m=m+Math.imul(ae,ft)|0)+Math.imul(oe,We)|0))<<13)|0;M=((E=E+Math.imul(oe,ft)|0)+(m>>>13)|0)+(is>>>26)|0,is&=67108863,b=Math.imul(G,Oe),m=(m=Math.imul(G,Te))+Math.imul(X,Oe)|0,E=Math.imul(X,Te);var ss=(M+(b=b+Math.imul(H,We)|0)|0)+((8191&(m=(m=m+Math.imul(H,ft)|0)+Math.imul(V,We)|0))<<13)|0;M=((E=E+Math.imul(V,ft)|0)+(m>>>13)|0)+(ss>>>26)|0,ss&=67108863;var r0=(M+(b=Math.imul(G,We))|0)+((8191&(m=(m=Math.imul(G,ft))+Math.imul(X,We)|0))<<13)|0;return M=((E=Math.imul(X,ft))+(m>>>13)|0)+(r0>>>26)|0,r0&=67108863,Z[0]=gr,Z[1]=yr,Z[2]=Sr,Z[3]=Pn,Z[4]=Tn,Z[5]=Mn,Z[6]=In,Z[7]=Rn,Z[8]=On,Z[9]=Ln,Z[10]=Ai,Z[11]=vi,Z[12]=es,Z[13]=ts,Z[14]=rs,Z[15]=ns,Z[16]=is,Z[17]=ss,Z[18]=r0,M!==0&&(Z[19]=M,_.length++),_};function C(d,p,_){return new w().mulp(d,p,_)}function w(d,p){this.x=d,this.y=p}Math.imul||(h=x),s.prototype.mulTo=function(d,p){var _,b=this.length+d.length;return _=this.length===10&&d.length===10?h(this,d,p):b<63?x(this,d,p):b<1024?function(m,E,S){S.negative=E.negative^m.negative,S.length=m.length+E.length;for(var Q=0,Z=0,M=0;M<S.length-1;M++){var te=Z;Z=0;for(var ie=67108863&Q,ue=Math.min(M,E.length-1),ne=Math.max(0,M-m.length+1);ne<=ue;ne++){var le=M-ne,Ae=(0|m.words[le])*(0|E.words[ne]),me=67108863&Ae;ie=67108863&(me=me+ie|0),Z+=(te=(te=te+(Ae/67108864|0)|0)+(me>>>26)|0)>>>26,te&=67108863}S.words[M]=ie,Q=te,te=Z}return Q!==0?S.words[M]=Q:S.length--,S.strip()}(this,d,p):C(this,d,p),_},w.prototype.makeRBT=function(d){for(var p=Array(d),_=s.prototype._countBits(d)-1,b=0;b<d;b++)p[b]=this.revBin(b,_,d);return p},w.prototype.revBin=function(d,p,_){if(d===0||d===_-1)return d;for(var b=0,m=0;m<p;m++)b|=(1&d)<<p-m-1,d>>=1;return b},w.prototype.permute=function(d,p,_,b,m,E){for(var S=0;S<E;S++)b[S]=p[d[S]],m[S]=_[d[S]]},w.prototype.transform=function(d,p,_,b,m,E){this.permute(E,d,p,_,b,m);for(var S=1;S<m;S<<=1)for(var Q=S<<1,Z=Math.cos(2*Math.PI/Q),M=Math.sin(2*Math.PI/Q),te=0;te<m;te+=Q)for(var ie=Z,ue=M,ne=0;ne<S;ne++){var le=_[te+ne],Ae=b[te+ne],me=_[te+ne+S],W=b[te+ne+S],re=ie*me-ue*W;W=ie*W+ue*me,me=re,_[te+ne]=le+me,b[te+ne]=Ae+W,_[te+ne+S]=le-me,b[te+ne+S]=Ae-W,ne!==Q&&(re=Z*ie-M*ue,ue=Z*ue+M*ie,ie=re)}},w.prototype.guessLen13b=function(d,p){var _=1|Math.max(p,d),b=1&_,m=0;for(_=_/2|0;_;_>>>=1)m++;return 1<<m+1+b},w.prototype.conjugate=function(d,p,_){if(!(_<=1))for(var b=0;b<_/2;b++){var m=d[b];d[b]=d[_-b-1],d[_-b-1]=m,m=p[b],p[b]=-p[_-b-1],p[_-b-1]=-m}},w.prototype.normalize13b=function(d,p){for(var _=0,b=0;b<p/2;b++){var m=8192*Math.round(d[2*b+1]/p)+Math.round(d[2*b]/p)+_;d[b]=67108863&m,_=m<67108864?0:m/67108864|0}return d},w.prototype.convert13b=function(d,p,_,b){for(var m=0,E=0;E<p;E++)m+=0|d[E],_[2*E]=8191&m,m>>>=13,_[2*E+1]=8191&m,m>>>=13;for(E=2*p;E<b;++E)_[E]=0;n(m===0),n((-8192&m)==0)},w.prototype.stub=function(d){for(var p=Array(d),_=0;_<d;_++)p[_]=0;return p},w.prototype.mulp=function(d,p,_){var b=2*this.guessLen13b(d.length,p.length),m=this.makeRBT(b),E=this.stub(b),S=Array(b),Q=Array(b),Z=Array(b),M=Array(b),te=Array(b),ie=Array(b),ue=_.words;ue.length=b,this.convert13b(d.words,d.length,S,b),this.convert13b(p.words,p.length,M,b),this.transform(S,E,Q,Z,b,m),this.transform(M,E,te,ie,b,m);for(var ne=0;ne<b;ne++){var le=Q[ne]*te[ne]-Z[ne]*ie[ne];Z[ne]=Q[ne]*ie[ne]+Z[ne]*te[ne],Q[ne]=le}return this.conjugate(Q,Z,b),this.transform(Q,Z,ue,E,b,m),this.conjugate(ue,E,b),this.normalize13b(ue,b),_.negative=d.negative^p.negative,_.length=d.length+p.length,_.strip()},s.prototype.mul=function(d){var p=new s(null);return p.words=Array(this.length+d.length),this.mulTo(d,p)},s.prototype.mulf=function(d){var p=new s(null);return p.words=Array(this.length+d.length),C(this,d,p)},s.prototype.imul=function(d){return this.clone().mulTo(d,this)},s.prototype.imuln=function(d){n(typeof d=="number"),n(d<67108864);for(var p=0,_=0;_<this.length;_++){var b=(0|this.words[_])*d,m=(67108863&b)+(67108863&p);p>>=26,p+=b/67108864|0,p+=m>>>26,this.words[_]=67108863&m}return p!==0&&(this.words[_]=p,this.length++),this},s.prototype.muln=function(d){return this.clone().imuln(d)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(d){var p=function(E){for(var S=Array(E.bitLength()),Q=0;Q<S.length;Q++){var Z=Q/26|0,M=Q%26;S[Q]=(E.words[Z]&1<<M)>>>M}return S}(d);if(p.length===0)return new s(1);for(var _=this,b=0;b<p.length&&p[b]===0;b++,_=_.sqr());if(++b<p.length)for(var m=_.sqr();b<p.length;b++,m=m.sqr())p[b]!==0&&(_=_.mul(m));return _},s.prototype.iushln=function(d){n(typeof d=="number"&&d>=0);var p,_=d%26,b=(d-_)/26,m=67108863>>>26-_<<26-_;if(_!==0){var E=0;for(p=0;p<this.length;p++){var S=this.words[p]&m,Q=(0|this.words[p])-S<<_;this.words[p]=Q|E,E=S>>>26-_}E&&(this.words[p]=E,this.length++)}if(b!==0){for(p=this.length-1;p>=0;p--)this.words[p+b]=this.words[p];for(p=0;p<b;p++)this.words[p]=0;this.length+=b}return this.strip()},s.prototype.ishln=function(d){return n(this.negative===0),this.iushln(d)},s.prototype.iushrn=function(d,p,_){var b;n(typeof d=="number"&&d>=0),b=p?(p-p%26)/26:0;var m=d%26,E=Math.min((d-m)/26,this.length),S=67108863^67108863>>>m<<m,Q=_;if(b=Math.max(0,b-=E),Q){for(var Z=0;Z<E;Z++)Q.words[Z]=this.words[Z];Q.length=E}if(E!==0)if(this.length>E)for(this.length-=E,Z=0;Z<this.length;Z++)this.words[Z]=this.words[Z+E];else this.words[0]=0,this.length=1;var M=0;for(Z=this.length-1;Z>=0&&(M!==0||Z>=b);Z--){var te=0|this.words[Z];this.words[Z]=M<<26-m|te>>>m,M=te&S}return Q&&M!==0&&(Q.words[Q.length++]=M),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(d,p,_){return n(this.negative===0),this.iushrn(d,p,_)},s.prototype.shln=function(d){return this.clone().ishln(d)},s.prototype.ushln=function(d){return this.clone().iushln(d)},s.prototype.shrn=function(d){return this.clone().ishrn(d)},s.prototype.ushrn=function(d){return this.clone().iushrn(d)},s.prototype.testn=function(d){n(typeof d=="number"&&d>=0);var p=d%26,_=(d-p)/26,b=1<<p;return!(this.length<=_)&&!!(this.words[_]&b)},s.prototype.imaskn=function(d){n(typeof d=="number"&&d>=0);var p=d%26,_=(d-p)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=_)return this;if(p!==0&&_++,this.length=Math.min(_,this.length),p!==0){var b=67108863^67108863>>>p<<p;this.words[this.length-1]&=b}return this.strip()},s.prototype.maskn=function(d){return this.clone().imaskn(d)},s.prototype.iaddn=function(d){return n(typeof d=="number"),n(d<67108864),d<0?this.isubn(-d):this.negative!==0?this.length===1&&(0|this.words[0])<d?(this.words[0]=d-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(d),this.negative=1,this):this._iaddn(d)},s.prototype._iaddn=function(d){this.words[0]+=d;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},s.prototype.isubn=function(d){if(n(typeof d=="number"),n(d<67108864),d<0)return this.iaddn(-d);if(this.negative!==0)return this.negative=0,this.iaddn(d),this.negative=1,this;if(this.words[0]-=d,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this.strip()},s.prototype.addn=function(d){return this.clone().iaddn(d)},s.prototype.subn=function(d){return this.clone().isubn(d)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(d,p,_){var b,m,E=d.length+_;this._expand(E);var S=0;for(b=0;b<d.length;b++){m=(0|this.words[b+_])+S;var Q=(0|d.words[b])*p;S=((m-=67108863&Q)>>26)-(Q/67108864|0),this.words[b+_]=67108863&m}for(;b<this.length-_;b++)S=(m=(0|this.words[b+_])+S)>>26,this.words[b+_]=67108863&m;if(S===0)return this.strip();for(n(S===-1),S=0,b=0;b<this.length;b++)S=(m=-(0|this.words[b])+S)>>26,this.words[b]=67108863&m;return this.negative=1,this.strip()},s.prototype._wordDiv=function(d,p){var _=(this.length,d.length),b=this.clone(),m=d,E=0|m.words[m.length-1];(_=26-this._countBits(E))!==0&&(m=m.ushln(_),b.iushln(_),E=0|m.words[m.length-1]);var S,Q=b.length-m.length;if(p!=="mod"){(S=new s(null)).length=Q+1,S.words=Array(S.length);for(var Z=0;Z<S.length;Z++)S.words[Z]=0}var M=b.clone()._ishlnsubmul(m,1,Q);M.negative===0&&(b=M,S&&(S.words[Q]=1));for(var te=Q-1;te>=0;te--){var ie=67108864*(0|b.words[m.length+te])+(0|b.words[m.length+te-1]);for(ie=Math.min(ie/E|0,67108863),b._ishlnsubmul(m,ie,te);b.negative!==0;)ie--,b.negative=0,b._ishlnsubmul(m,1,te),b.isZero()||(b.negative^=1);S&&(S.words[te]=ie)}return S&&S.strip(),b.strip(),p!=="div"&&_!==0&&b.iushrn(_),{div:S||null,mod:b}},s.prototype.divmod=function(d,p,_){return n(!d.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:this.negative!==0&&d.negative===0?(E=this.neg().divmod(d,p),p!=="mod"&&(b=E.div.neg()),p!=="div"&&(m=E.mod.neg(),_&&m.negative!==0&&m.iadd(d)),{div:b,mod:m}):this.negative===0&&d.negative!==0?(E=this.divmod(d.neg(),p),p!=="mod"&&(b=E.div.neg()),{div:b,mod:E.mod}):this.negative&d.negative?(E=this.neg().divmod(d.neg(),p),p!=="div"&&(m=E.mod.neg(),_&&m.negative!==0&&m.isub(d)),{div:E.div,mod:m}):d.length>this.length||this.cmp(d)<0?{div:new s(0),mod:this}:d.length===1?p==="div"?{div:this.divn(d.words[0]),mod:null}:p==="mod"?{div:null,mod:new s(this.modn(d.words[0]))}:{div:this.divn(d.words[0]),mod:new s(this.modn(d.words[0]))}:this._wordDiv(d,p);var b,m,E},s.prototype.div=function(d){return this.divmod(d,"div",!1).div},s.prototype.mod=function(d){return this.divmod(d,"mod",!1).mod},s.prototype.umod=function(d){return this.divmod(d,"mod",!0).mod},s.prototype.divRound=function(d){var p=this.divmod(d);if(p.mod.isZero())return p.div;var _=p.div.negative!==0?p.mod.isub(d):p.mod,b=d.ushrn(1),m=d.andln(1),E=_.cmp(b);return E<0||m===1&&E===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},s.prototype.modn=function(d){n(d<=67108863);for(var p=(1<<26)%d,_=0,b=this.length-1;b>=0;b--)_=(p*_+(0|this.words[b]))%d;return _},s.prototype.idivn=function(d){n(d<=67108863);for(var p=0,_=this.length-1;_>=0;_--){var b=(0|this.words[_])+67108864*p;this.words[_]=b/d|0,p=b%d}return this.strip()},s.prototype.divn=function(d){return this.clone().idivn(d)},s.prototype.egcd=function(d){n(d.negative===0),n(!d.isZero());var p=this,_=d.clone();p=p.negative!==0?p.umod(d):p.clone();for(var b=new s(1),m=new s(0),E=new s(0),S=new s(1),Q=0;p.isEven()&&_.isEven();)p.iushrn(1),_.iushrn(1),++Q;for(var Z=_.clone(),M=p.clone();!p.isZero();){for(var te=0,ie=1;!(p.words[0]&ie)&&te<26;++te,ie<<=1);if(te>0)for(p.iushrn(te);te-- >0;)(b.isOdd()||m.isOdd())&&(b.iadd(Z),m.isub(M)),b.iushrn(1),m.iushrn(1);for(var ue=0,ne=1;!(_.words[0]&ne)&&ue<26;++ue,ne<<=1);if(ue>0)for(_.iushrn(ue);ue-- >0;)(E.isOdd()||S.isOdd())&&(E.iadd(Z),S.isub(M)),E.iushrn(1),S.iushrn(1);p.cmp(_)>=0?(p.isub(_),b.isub(E),m.isub(S)):(_.isub(p),E.isub(b),S.isub(m))}return{a:E,b:S,gcd:_.iushln(Q)}},s.prototype._invmp=function(d){n(d.negative===0),n(!d.isZero());var p=this,_=d.clone();p=p.negative!==0?p.umod(d):p.clone();for(var b,m=new s(1),E=new s(0),S=_.clone();p.cmpn(1)>0&&_.cmpn(1)>0;){for(var Q=0,Z=1;!(p.words[0]&Z)&&Q<26;++Q,Z<<=1);if(Q>0)for(p.iushrn(Q);Q-- >0;)m.isOdd()&&m.iadd(S),m.iushrn(1);for(var M=0,te=1;!(_.words[0]&te)&&M<26;++M,te<<=1);if(M>0)for(_.iushrn(M);M-- >0;)E.isOdd()&&E.iadd(S),E.iushrn(1);p.cmp(_)>=0?(p.isub(_),m.isub(E)):(_.isub(p),E.isub(m))}return(b=p.cmpn(1)===0?m:E).cmpn(0)<0&&b.iadd(d),b},s.prototype.gcd=function(d){if(this.isZero())return d.abs();if(d.isZero())return this.abs();var p=this.clone(),_=d.clone();p.negative=0,_.negative=0;for(var b=0;p.isEven()&&_.isEven();b++)p.iushrn(1),_.iushrn(1);for(;;){for(;p.isEven();)p.iushrn(1);for(;_.isEven();)_.iushrn(1);var m=p.cmp(_);if(m<0){var E=p;p=_,_=E}else if(m===0||_.cmpn(1)===0)break;p.isub(_)}return _.iushln(b)},s.prototype.invm=function(d){return this.egcd(d).a.umod(d)},s.prototype.isEven=function(){return(1&this.words[0])==0},s.prototype.isOdd=function(){return(1&this.words[0])==1},s.prototype.andln=function(d){return this.words[0]&d},s.prototype.bincn=function(d){n(typeof d=="number");var p=d%26,_=(d-p)/26,b=1<<p;if(this.length<=_)return this._expand(_+1),this.words[_]|=b,this;for(var m=b,E=_;m!==0&&E<this.length;E++){var S=0|this.words[E];m=(S+=m)>>>26,S&=67108863,this.words[E]=S}return m!==0&&(this.words[E]=m,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(d){var p,_=d<0;if(this.negative!==0&&!_)return-1;if(this.negative===0&&_)return 1;if(this.strip(),this.length>1)p=1;else{_&&(d=-d),n(d<=67108863,"Number is too big");var b=0|this.words[0];p=b===d?0:b<d?-1:1}return this.negative!==0?0|-p:p},s.prototype.cmp=function(d){if(this.negative!==0&&d.negative===0)return-1;if(this.negative===0&&d.negative!==0)return 1;var p=this.ucmp(d);return this.negative!==0?0|-p:p},s.prototype.ucmp=function(d){if(this.length>d.length)return 1;if(this.length<d.length)return-1;for(var p=0,_=this.length-1;_>=0;_--){var b=0|this.words[_],m=0|d.words[_];if(b!==m){b<m?p=-1:b>m&&(p=1);break}}return p},s.prototype.gtn=function(d){return this.cmpn(d)===1},s.prototype.gt=function(d){return this.cmp(d)===1},s.prototype.gten=function(d){return this.cmpn(d)>=0},s.prototype.gte=function(d){return this.cmp(d)>=0},s.prototype.ltn=function(d){return this.cmpn(d)===-1},s.prototype.lt=function(d){return this.cmp(d)===-1},s.prototype.lten=function(d){return this.cmpn(d)<=0},s.prototype.lte=function(d){return this.cmp(d)<=0},s.prototype.eqn=function(d){return this.cmpn(d)===0},s.prototype.eq=function(d){return this.cmp(d)===0},s.red=function(d){return new F(d)},s.prototype.toRed=function(d){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),d.convertTo(this)._forceRed(d)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(d){return this.red=d,this},s.prototype.forceRed=function(d){return n(!this.red,"Already a number in reduction context"),this._forceRed(d)},s.prototype.redAdd=function(d){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,d)},s.prototype.redIAdd=function(d){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,d)},s.prototype.redSub=function(d){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,d)},s.prototype.redISub=function(d){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,d)},s.prototype.redShl=function(d){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,d)},s.prototype.redMul=function(d){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.mul(this,d)},s.prototype.redIMul=function(d){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.imul(this,d)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(d){return n(this.red&&!d.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,d)};var k={k256:null,p224:null,p192:null,p25519:null};function O(d,p){this.name=d,this.p=new s(p,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function z(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function P(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function A(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function T(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function F(d){if(typeof d=="string"){var p=s._prime(d);this.m=p.p,this.prime=p}else n(d.gtn(1),"modulus must be greater than 1"),this.m=d,this.prime=null}function R(d){F.call(this,d),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}O.prototype._tmp=function(){var d=new s(null);return d.words=Array(Math.ceil(this.n/13)),d},O.prototype.ireduce=function(d){var p,_=d;do this.split(_,this.tmp),p=(_=(_=this.imulK(_)).iadd(this.tmp)).bitLength();while(p>this.n);var b=p<this.n?-1:_.ucmp(this.p);return b===0?(_.words[0]=0,_.length=1):b>0?_.isub(this.p):_.strip(),_},O.prototype.split=function(d,p){d.iushrn(this.n,0,p)},O.prototype.imulK=function(d){return d.imul(this.k)},i(z,O),z.prototype.split=function(d,p){for(var _=4194303,b=Math.min(d.length,9),m=0;m<b;m++)p.words[m]=d.words[m];if(p.length=b,d.length<=9)return d.words[0]=0,void(d.length=1);var E=d.words[9];for(p.words[p.length++]=E&_,m=10;m<d.length;m++){var S=0|d.words[m];d.words[m-10]=(S&_)<<4|E>>>22,E=S}E>>>=22,d.words[m-10]=E,E===0&&d.length>10?d.length-=10:d.length-=9},z.prototype.imulK=function(d){d.words[d.length]=0,d.words[d.length+1]=0,d.length+=2;for(var p=0,_=0;_<d.length;_++){var b=0|d.words[_];p+=977*b,d.words[_]=67108863&p,p=64*b+(p/67108864|0)}return d.words[d.length-1]===0&&(d.length--,d.words[d.length-1]===0&&d.length--),d},i(P,O),i(A,O),i(T,O),T.prototype.imulK=function(d){for(var p=0,_=0;_<d.length;_++){var b=19*(0|d.words[_])+p,m=67108863&b;b>>>=26,d.words[_]=m,p=b}return p!==0&&(d.words[d.length++]=p),d},s._prime=function(d){if(k[d])return k[d];var p;if(d==="k256")p=new z;else if(d==="p224")p=new P;else if(d==="p192")p=new A;else{if(d!=="p25519")throw Error("Unknown prime "+d);p=new T}return k[d]=p,p},F.prototype._verify1=function(d){n(d.negative===0,"red works only with positives"),n(d.red,"red works only with red numbers")},F.prototype._verify2=function(d,p){n((d.negative|p.negative)==0,"red works only with positives"),n(d.red&&d.red===p.red,"red works only with red numbers")},F.prototype.imod=function(d){return this.prime?this.prime.ireduce(d)._forceRed(this):d.umod(this.m)._forceRed(this)},F.prototype.neg=function(d){return d.isZero()?d.clone():this.m.sub(d)._forceRed(this)},F.prototype.add=function(d,p){this._verify2(d,p);var _=d.add(p);return _.cmp(this.m)>=0&&_.isub(this.m),_._forceRed(this)},F.prototype.iadd=function(d,p){this._verify2(d,p);var _=d.iadd(p);return _.cmp(this.m)>=0&&_.isub(this.m),_},F.prototype.sub=function(d,p){this._verify2(d,p);var _=d.sub(p);return _.cmpn(0)<0&&_.iadd(this.m),_._forceRed(this)},F.prototype.isub=function(d,p){this._verify2(d,p);var _=d.isub(p);return _.cmpn(0)<0&&_.iadd(this.m),_},F.prototype.shl=function(d,p){return this._verify1(d),this.imod(d.ushln(p))},F.prototype.imul=function(d,p){return this._verify2(d,p),this.imod(d.imul(p))},F.prototype.mul=function(d,p){return this._verify2(d,p),this.imod(d.mul(p))},F.prototype.isqr=function(d){return this.imul(d,d.clone())},F.prototype.sqr=function(d){return this.mul(d,d)},F.prototype.sqrt=function(d){if(d.isZero())return d.clone();var p=this.m.andln(3);if(n(p%2==1),p===3){var _=this.m.add(new s(1)).iushrn(2);return this.pow(d,_)}for(var b=this.m.subn(1),m=0;!b.isZero()&&b.andln(1)===0;)m++,b.iushrn(1);n(!b.isZero());var E=new s(1).toRed(this),S=E.redNeg(),Q=this.m.subn(1).iushrn(1),Z=this.m.bitLength();for(Z=new s(2*Z*Z).toRed(this);this.pow(Z,Q).cmp(S)!==0;)Z.redIAdd(S);for(var M=this.pow(Z,b),te=this.pow(d,b.addn(1).iushrn(1)),ie=this.pow(d,b),ue=m;ie.cmp(E)!==0;){for(var ne=ie,le=0;ne.cmp(E)!==0;le++)ne=ne.redSqr();n(le<ue);var Ae=this.pow(M,new s(1).iushln(ue-le-1));te=te.redMul(Ae),M=Ae.redSqr(),ie=ie.redMul(M),ue=le}return te},F.prototype.invm=function(d){var p=d._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},F.prototype.pow=function(d,p){if(p.isZero())return new s(1).toRed(this);if(p.cmpn(1)===0)return d.clone();var _=Array(16);_[0]=new s(1).toRed(this),_[1]=d;for(var b=2;b<_.length;b++)_[b]=this.mul(_[b-1],d);var m=_[0],E=0,S=0,Q=p.bitLength()%26;for(Q===0&&(Q=26),b=p.length-1;b>=0;b--){for(var Z=p.words[b],M=Q-1;M>=0;M--){var te=Z>>M&1;m!==_[0]&&(m=this.sqr(m)),te!==0||E!==0?(E<<=1,E|=te,(++S===4||b===0&&M===0)&&(m=this.mul(m,_[E]),S=0,E=0)):S=0}Q=26}return m},F.prototype.convertTo=function(d){var p=d.umod(this.m);return p===d?p.clone():p},F.prototype.convertFrom=function(d){var p=d.clone();return p.red=null,p},s.mont=function(d){return new R(d)},i(R,F),R.prototype.convertTo=function(d){return this.imod(d.ushln(this.shift))},R.prototype.convertFrom=function(d){var p=this.imod(d.mul(this.rinv));return p.red=null,p},R.prototype.imul=function(d,p){if(d.isZero()||p.isZero())return d.words[0]=0,d.length=1,d;var _=d.imul(p),b=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=_.isub(b).iushrn(this.shift),E=m;return m.cmp(this.m)>=0?E=m.isub(this.m):m.cmpn(0)<0&&(E=m.iadd(this.m)),E._forceRed(this)},R.prototype.mul=function(d,p){if(d.isZero()||p.isZero())return new s(0)._forceRed(this);var _=d.mul(p),b=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=_.isub(b).iushrn(this.shift),E=m;return m.cmp(this.m)>=0?E=m.isub(this.m):m.cmpn(0)<0&&(E=m.iadd(this.m)),E._forceRed(this)},R.prototype.invm=function(d){return this.imod(d._invmp(this.m).mul(this.r2))._forceRed(this)}})(t,$S)}),Qa=Object.freeze({__proto__:null,default:Fe,__moduleExports:Fe});class gc{constructor(e){if(e===void 0)throw Error("Invalid BigInteger input");this.value=new Fe(e)}clone(){const e=new gc(null);return this.value.copy(e.value),e}iinc(){return this.value.iadd(new Fe(1)),this}inc(){return this.clone().iinc()}idec(){return this.value.isub(new Fe(1)),this}dec(){return this.clone().idec()}iadd(e){return this.value.iadd(e.value),this}add(e){return this.clone().iadd(e)}isub(e){return this.value.isub(e.value),this}sub(e){return this.clone().isub(e)}imul(e){return this.value.imul(e.value),this}mul(e){return this.clone().imul(e)}imod(e){return this.value=this.value.umod(e.value),this}mod(e){return this.clone().imod(e)}modExp(e,r){const n=r.isEven()?Fe.red(r.value):Fe.mont(r.value),i=this.clone();return i.value=i.value.toRed(n).redPow(e.value).fromRed(),i}modInv(e){if(!this.gcd(e).isOne())throw Error("Inverse does not exist");return new gc(this.value.invm(e.value))}gcd(e){return new gc(this.value.gcd(e.value))}ileftShift(e){return this.value.ishln(e.value.toNumber()),this}leftShift(e){return this.clone().ileftShift(e)}irightShift(e){return this.value.ishrn(e.value.toNumber()),this}rightShift(e){return this.clone().irightShift(e)}equal(e){return this.value.eq(e.value)}lt(e){return this.value.lt(e.value)}lte(e){return this.value.lte(e.value)}gt(e){return this.value.gt(e.value)}gte(e){return this.value.gte(e.value)}isZero(){return this.value.isZero()}isOne(){return this.value.eq(new Fe(1))}isNegative(){return this.value.isNeg()}isEven(){return this.value.isEven()}abs(){const e=this.clone();return e.value=e.value.abs(),e}toString(){return this.value.toString()}toNumber(){return this.value.toNumber()}getBit(e){return this.value.testn(e)?1:0}bitLength(){return this.value.bitLength()}byteLength(){return this.value.byteLength()}toUint8Array(e="be",r){return this.value.toArrayLike(Uint8Array,e,r)}}var qx,qM=Object.freeze({__proto__:null,default:gc}),_n=Ci(function(t,e){var r=e;function n(s){return s.length===1?"0"+s:s}function i(s){for(var o="",a=0;a<s.length;a++)o+=n(s[a].toString(16));return o}r.toArray=function(s,o){if(Array.isArray(s))return s.slice();if(!s)return[];var a=[];if(typeof s!="string"){for(var c=0;c<s.length;c++)a[c]=0|s[c];return a}if(o==="hex")for((s=s.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(s="0"+s),c=0;c<s.length;c+=2)a.push(parseInt(s[c]+s[c+1],16));else for(c=0;c<s.length;c++){var l=s.charCodeAt(c),u=l>>8,f=255&l;u?a.push(u,f):a.push(f)}return a},r.zero2=n,r.toHex=i,r.encode=function(s,o){return o==="hex"?i(s):s}}),mt=Ci(function(t,e){var r=e;r.assert=e0,r.toArray=_n.toArray,r.zero2=_n.zero2,r.toHex=_n.toHex,r.encode=_n.encode,r.getNAF=function(n,i){for(var s=[],o=1<<i+1,a=n.clone();a.cmpn(1)>=0;){var c;if(a.isOdd()){var l=a.andln(o-1);c=l>(o>>1)-1?(o>>1)-l:l,a.isubn(c)}else c=0;s.push(c);for(var u=a.cmpn(0)!==0&&a.andln(o-1)===0?i+1:1,f=1;f<u;f++)s.push(0);a.iushrn(u)}return s},r.getJSF=function(n,i){var s=[[],[]];n=n.clone(),i=i.clone();for(var o=0,a=0;n.cmpn(-o)>0||i.cmpn(-a)>0;){var c,l,u,f=n.andln(3)+o&3,x=i.andln(3)+a&3;f===3&&(f=-1),x===3&&(x=-1),(1&f)==0?c=0:c=(u=n.andln(7)+o&7)!==3&&u!==5||x!==2?f:-f,s[0].push(c),(1&x)==0?l=0:l=(u=i.andln(7)+a&7)!==3&&u!==5||f!==2?x:-x,s[1].push(l),2*o===c+1&&(o=1-o),2*a===l+1&&(a=1-a),n.iushrn(1),i.iushrn(1)}return s},r.cachedProperty=function(n,i,s){var o="_"+i;n.prototype[i]=function(){return this[o]!==void 0?this[o]:this[o]=s.call(this)}},r.parseBytes=function(n){return typeof n=="string"?r.toArray(n,"hex"):n},r.intFromLE=function(n){return new Fe(n,"hex","le")}}),Dd=function(t){return qx||(qx=new Cs(null)),qx.generate(t)};function Cs(t){this.rand=t}var WM=Cs;if(Cs.prototype.generate=function(t){return this._rand(t)},Cs.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var e=new Uint8Array(t),r=0;r<e.length;r++)e[r]=this.rand.getByte();return e},typeof self=="object")self.crypto&&self.crypto.getRandomValues?Cs.prototype._rand=function(t){var e=new Uint8Array(t);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?Cs.prototype._rand=function(t){var e=new Uint8Array(t);return self.msCrypto.getRandomValues(e),e}:typeof window=="object"&&(Cs.prototype._rand=function(){throw Error("Not implemented yet")});else try{var qp=void 0;if(typeof qp.randomBytes!="function")throw Error("Not supported");Cs.prototype._rand=function(t){return qp.randomBytes(t)}}catch{}Dd.Rand=WM;var Jl=mt.getNAF,GM=mt.getJSF,Xl=mt.assert;function gs(t,e){this.type=t,this.p=new Fe(e.p,16),this.red=e.prime?Fe.red(e.prime):Fe.mont(this.p),this.zero=new Fe(0).toRed(this.red),this.one=new Fe(1).toRed(this.red),this.two=new Fe(2).toRed(this.red),this.n=e.n&&new Fe(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,];var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var kr=gs;function sn(t,e){this.curve=t,this.type=e,this.precomputed=null}gs.prototype.point=function(){throw Error("Not implemented")},gs.prototype.validate=function(){throw Error("Not implemented")},gs.prototype._fixedNafMul=function(t,e){Xl(t.precomputed);var r=t._getDoubles(),n=Jl(e,1),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;for(var s=[],o=0;o<n.length;o+=r.step){var a=0;for(e=o+r.step-1;e>=o;e--)a=(a<<1)+n[e];s.push(a)}for(var c=this.jpoint(null,null,null),l=this.jpoint(null,null,null),u=i;u>0;u--){for(o=0;o<s.length;o++)(a=s[o])===u?l=l.mixedAdd(r.points[o]):a===-u&&(l=l.mixedAdd(r.points[o].neg()));c=c.add(l)}return c.toP()},gs.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,s=Jl(e,r),o=this.jpoint(null,null,null),a=s.length-1;a>=0;a--){for(e=0;a>=0&&s[a]===0;a--)e++;if(a>=0&&e++,o=o.dblp(e),a<0)break;var c=s[a];Xl(c!==0),o=t.type==="affine"?c>0?o.mixedAdd(i[c-1>>1]):o.mixedAdd(i[-c-1>>1].neg()):c>0?o.add(i[c-1>>1]):o.add(i[-c-1>>1].neg())}return t.type==="affine"?o.toP():o},gs.prototype._wnafMulAdd=function(t,e,r,n,i){for(var s=this._wnafT1,o=this._wnafT2,a=this._wnafT3,c=0,l=0;l<n;l++){var u=(R=e[l])._getNAFPoints(t);s[l]=u.wnd,o[l]=u.points}for(l=n-1;l>=1;l-=2){var f=l-1,x=l;if(s[f]===1&&s[x]===1){var h=[e[f],null,null,e[x]];e[f].y.cmp(e[x].y)===0?(h[1]=e[f].add(e[x]),h[2]=e[f].toJ().mixedAdd(e[x].neg())):e[f].y.cmp(e[x].y.redNeg())===0?(h[1]=e[f].toJ().mixedAdd(e[x]),h[2]=e[f].add(e[x].neg())):(h[1]=e[f].toJ().mixedAdd(e[x]),h[2]=e[f].toJ().mixedAdd(e[x].neg()));var C=[-3,-1,-5,-7,0,7,5,1,3],w=GM(r[f],r[x]);c=Math.max(w[0].length,c),a[f]=Array(c),a[x]=Array(c);for(var k=0;k<c;k++){var O=0|w[0][k],z=0|w[1][k];a[f][k]=C[3*(O+1)+(z+1)],a[x][k]=0,o[f]=h}}else a[f]=Jl(r[f],s[f]),a[x]=Jl(r[x],s[x]),c=Math.max(a[f].length,c),c=Math.max(a[x].length,c)}var P=this.jpoint(null,null,null),A=this._wnafT4;for(l=c;l>=0;l--){for(var T=0;l>=0;){var F=!0;for(k=0;k<n;k++)A[k]=0|a[k][l],A[k]!==0&&(F=!1);if(!F)break;T++,l--}if(l>=0&&T++,P=P.dblp(T),l<0)break;for(k=0;k<n;k++){var R,d=A[k];d!==0&&(d>0?R=o[k][d-1>>1]:d<0&&(R=o[k][-d-1>>1].neg()),P=R.type==="affine"?P.mixedAdd(R):P.add(R))}}for(l=0;l<n;l++)o[l]=null;return i?P:P.toP()},gs.BasePoint=sn,sn.prototype.eq=function(){throw Error("Not implemented")},sn.prototype.validate=function(){return this.curve.validate(this)},gs.prototype.decodePoint=function(t,e){t=mt.toArray(t,e);var r=this.p.byteLength();if((t[0]===4||t[0]===6||t[0]===7)&&t.length-1==2*r)return t[0]===6?Xl(t[t.length-1]%2==0):t[0]===7&&Xl(t[t.length-1]%2==1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((t[0]===2||t[0]===3)&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),t[0]===3);throw Error("Unknown point format")},sn.prototype.encodeCompressed=function(t){return this.encode(t,!0)},sn.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},sn.prototype.encode=function(t,e){return mt.encode(this._encode(e),t)},sn.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},sn.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},sn.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var s=0;s<t;s++)n=n.dbl();r.push(n)}return{step:t,points:r}},sn.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=r===1?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},sn.prototype._getBeta=function(){return null},sn.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e};var YM=mt.assert;function an(t){kr.call(this,"short",t),this.a=new Fe(t.a,16).toRed(this.red),this.b=new Fe(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}Ms(an,kr);var JM=an;function Vt(t,e,r,n){kr.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Fe(e,16),this.y=new Fe(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function er(t,e,r,n){kr.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Fe(0)):(this.x=new Fe(e,16),this.y=new Fe(r,16),this.z=new Fe(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}function Po(t){kr.call(this,"mont",t),this.a=new Fe(t.a,16).toRed(this.red),this.b=new Fe(t.b,16).toRed(this.red),this.i4=new Fe(4).toRed(this.red).redInvm(),this.two=new Fe(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}an.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var e,r;if(t.beta)e=new Fe(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(t.lambda)r=new Fe(t.lambda,16);else{var i=this._getEndoRoots(this.n);this.g.mul(i[0]).x.cmp(this.g.x.redMul(e))===0?r=i[0]:(r=i[1],YM(this.g.mul(r).x.cmp(this.g.x.redMul(e))===0))}return{beta:e,lambda:r,basis:t.basis?t.basis.map(function(s){return{a:new Fe(s.a,16),b:new Fe(s.b,16)}}):this._getEndoBasis(r)}}},an.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:Fe.mont(t),r=new Fe(2).toRed(e).redInvm(),n=r.redNeg(),i=new Fe(3).toRed(e).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},an.prototype._getEndoBasis=function(t){for(var e,r,n,i,s,o,a,c,l,u=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=t,x=this.n.clone(),h=new Fe(1),C=new Fe(0),w=new Fe(0),k=new Fe(1),O=0;f.cmpn(0)!==0;){var z=x.div(f);c=x.sub(z.mul(f)),l=w.sub(z.mul(h));var P=k.sub(z.mul(C));if(!n&&c.cmp(u)<0)e=a.neg(),r=h,n=c.neg(),i=l;else if(n&&++O==2)break;a=c,x=f,f=c,w=h,h=l,k=C,C=P}s=c.neg(),o=l;var A=n.sqr().add(i.sqr());return s.sqr().add(o.sqr()).cmp(A)>=0&&(s=e,o=r),n.negative&&(n=n.neg(),i=i.neg()),s.negative&&(s=s.neg(),o=o.neg()),[{a:n,b:i},{a:s,b:o}]},an.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),s=r.b.neg().mul(t).divRound(this.n),o=i.mul(r.a),a=s.mul(n.a),c=i.mul(r.b),l=s.mul(n.b);return{k1:t.sub(o).sub(a),k2:c.add(l).neg()}},an.prototype.pointFromX=function(t,e){(t=new Fe(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(n.redSqr().redSub(r).cmp(this.zero)!==0)throw Error("invalid point");var i=n.fromRed().isOdd();return(e&&!i||!e&&i)&&(n=n.redNeg()),this.point(t,n)},an.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return r.redSqr().redISub(i).cmpn(0)===0},an.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,s=0;s<t.length;s++){var o=this._endoSplit(e[s]),a=t[s],c=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),c=c.neg(!0)),n[2*s]=a,n[2*s+1]=c,i[2*s]=o.k1,i[2*s+1]=o.k2}for(var l=this._wnafMulAdd(1,n,i,2*s,r),u=0;u<2*s;u++)n[u]=null,i[u]=null;return l},Ms(Vt,kr.BasePoint),an.prototype.point=function(t,e,r){return new Vt(this,t,e,r)},an.prototype.pointFromJSON=function(t,e){return Vt.fromJSON(this,t,e)},Vt.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(i){return r.point(i.x.redMul(r.endo.beta),i.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},Vt.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Vt.fromJSON=function(t,e,r){typeof e=="string"&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(o){return t.point(o[0],o[1],r)}var s=e[2];return n.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[n].concat(s.doubles.points.map(i))},naf:s.naf&&{wnd:s.naf.wnd,points:[n].concat(s.naf.points.map(i))}},n},Vt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Vt.prototype.isInfinity=function(){return this.inf},Vt.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(this.x.cmp(t.x)===0)return this.curve.point(null,null);var e=this.y.redSub(t.y);e.cmpn(0)!==0&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},Vt.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(t.cmpn(0)===0)return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),s=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)},Vt.prototype.getX=function(){return this.x.fromRed()},Vt.prototype.getY=function(){return this.y.fromRed()},Vt.prototype.mul=function(t){return t=new Fe(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},Vt.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},Vt.prototype.jmulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},Vt.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||this.x.cmp(t.x)===0&&this.y.cmp(t.y)===0)},Vt.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(i){return i.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e},Vt.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},Ms(er,kr.BasePoint),an.prototype.jpoint=function(t,e,r){return new er(this,t,e,r)},er.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},er.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},er.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),s=this.y.redMul(e.redMul(t.z)),o=t.y.redMul(r.redMul(this.z)),a=n.redSub(i),c=s.redSub(o);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),u=l.redMul(a),f=n.redMul(l),x=c.redSqr().redIAdd(u).redISub(f).redISub(f),h=c.redMul(f.redISub(x)).redISub(s.redMul(u)),C=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(x,h,C)},er.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,s=t.y.redMul(e).redMul(this.z),o=r.redSub(n),a=i.redSub(s);if(o.cmpn(0)===0)return a.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=o.redSqr(),l=c.redMul(o),u=r.redMul(c),f=a.redSqr().redIAdd(l).redISub(u).redISub(u),x=a.redMul(u.redISub(f)).redISub(i.redMul(l)),h=this.z.redMul(o);return this.curve.jpoint(f,x,h)},er.prototype.dblp=function(t){if(t===0)return this;if(this.isInfinity())return this;if(!t)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var e=this,r=0;r<t;r++)e=e.dbl();return e}var n=this.curve.a,i=this.curve.tinv,s=this.x,o=this.y,a=this.z,c=a.redSqr().redSqr(),l=o.redAdd(o);for(r=0;r<t;r++){var u=s.redSqr(),f=l.redSqr(),x=f.redSqr(),h=u.redAdd(u).redIAdd(u).redIAdd(n.redMul(c)),C=s.redMul(f),w=h.redSqr().redISub(C.redAdd(C)),k=C.redISub(w),O=h.redMul(k);O=O.redIAdd(O).redISub(x);var z=l.redMul(a);r+1<t&&(c=c.redMul(x)),s=w,a=z,l=O}return this.curve.jpoint(s,l.redMul(i),a)},er.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},er.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n),c=a.redSqr().redISub(o).redISub(o),l=s.redIAdd(s);l=(l=l.redIAdd(l)).redIAdd(l),t=c,e=a.redMul(o.redISub(c)).redISub(l),r=this.y.redAdd(this.y)}else{var u=this.x.redSqr(),f=this.y.redSqr(),x=f.redSqr(),h=this.x.redAdd(f).redSqr().redISub(u).redISub(x);h=h.redIAdd(h);var C=u.redAdd(u).redIAdd(u),w=C.redSqr(),k=x.redIAdd(x);k=(k=k.redIAdd(k)).redIAdd(k),t=w.redISub(h).redISub(h),e=C.redMul(h.redISub(t)).redISub(k),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},er.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=a.redSqr().redISub(o).redISub(o);t=c;var l=s.redIAdd(s);l=(l=l.redIAdd(l)).redIAdd(l),e=a.redMul(o.redISub(c)).redISub(l),r=this.y.redAdd(this.y)}else{var u=this.z.redSqr(),f=this.y.redSqr(),x=this.x.redMul(f),h=this.x.redSub(u).redMul(this.x.redAdd(u));h=h.redAdd(h).redIAdd(h);var C=x.redIAdd(x),w=(C=C.redIAdd(C)).redAdd(C);t=h.redSqr().redISub(w),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(u);var k=f.redSqr();k=(k=(k=k.redIAdd(k)).redIAdd(k)).redIAdd(k),e=h.redMul(C.redISub(t)).redISub(k)}return this.curve.jpoint(t,e,r)},er.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),s=e.redSqr(),o=r.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(t.redMul(i)),c=e.redAdd(e),l=(c=c.redIAdd(c)).redMul(o),u=a.redSqr().redISub(l.redAdd(l)),f=l.redISub(u),x=o.redSqr();x=(x=(x=x.redIAdd(x)).redIAdd(x)).redIAdd(x);var h=a.redMul(f).redISub(x),C=r.redAdd(r).redMul(n);return this.curve.jpoint(u,h,C)},er.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),s=i.redSqr(),o=this.x.redAdd(e).redSqr().redISub(t).redISub(n),a=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(s)).redSqr(),c=n.redIAdd(n);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var l=i.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(c),u=e.redMul(l);u=(u=u.redIAdd(u)).redIAdd(u);var f=this.x.redMul(a).redISub(u);f=(f=f.redIAdd(f)).redIAdd(f);var x=this.y.redMul(l.redMul(c.redISub(l)).redISub(o.redMul(a)));x=(x=(x=x.redIAdd(x)).redIAdd(x)).redIAdd(x);var h=this.z.redAdd(o).redSqr().redISub(r).redISub(a);return this.curve.jpoint(f,x,h)},er.prototype.mul=function(t,e){return t=new Fe(t,e),this.curve._wnafMul(this,t)},er.prototype.eq=function(t){if(t.type==="affine")return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0)!==0)return!1;var n=e.redMul(this.z),i=r.redMul(t.z);return this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)===0},er.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(this.x.cmp(r)===0)return!0;for(var n=t.clone(),i=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}},er.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},er.prototype.isInfinity=function(){return this.z.cmpn(0)===0},Ms(Po,kr);var XM=Po;function qt(t,e,r){kr.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Fe(e,16),this.z=new Fe(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}Po.prototype.validate=function(t){var e=t.normalize().x,r=e.redSqr(),n=r.redMul(e).redAdd(r.redMul(this.a)).redAdd(e);return n.redSqrt().redSqr().cmp(n)===0},Ms(qt,kr.BasePoint),Po.prototype.decodePoint=function(t,e){if((t=mt.toArray(t,e)).length===33&&t[0]===64&&(t=t.slice(1,33).reverse()),t.length!==32)throw Error("Unknown point compression format");return this.point(t,1)},Po.prototype.point=function(t,e){return new qt(this,t,e)},Po.prototype.pointFromJSON=function(t){return qt.fromJSON(this,t)},qt.prototype.precompute=function(){},qt.prototype._encode=function(t){var e=this.curve.p.byteLength();return t?[64].concat(this.getX().toArray("le",e)):this.getX().toArray("be",e)},qt.fromJSON=function(t,e){return new qt(t,e[0],e[1]||t.one)},qt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},qt.prototype.isInfinity=function(){return this.z.cmpn(0)===0},qt.prototype.dbl=function(){var t=this.x.redAdd(this.z).redSqr(),e=this.x.redSub(this.z).redSqr(),r=t.redSub(e),n=t.redMul(e),i=r.redMul(e.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},qt.prototype.add=function(){throw Error("Not supported on Montgomery curve")},qt.prototype.diffAdd=function(t,e){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=t.x.redAdd(t.z),s=t.x.redSub(t.z).redMul(r),o=i.redMul(n),a=e.z.redMul(s.redAdd(o).redSqr()),c=e.x.redMul(s.redISub(o).redSqr());return this.curve.point(a,c)},qt.prototype.mul=function(t){for(var e=(t=new Fe(t,16)).clone(),r=this,n=this.curve.point(null,null),i=[];e.cmpn(0)!==0;e.iushrn(1))i.push(e.andln(1));for(var s=i.length-1;s>=0;s--)i[s]===0?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},qt.prototype.mulAdd=function(){throw Error("Not supported on Montgomery curve")},qt.prototype.jumlAdd=function(){throw Error("Not supported on Montgomery curve")},qt.prototype.eq=function(t){return this.getX().cmp(t.getX())===0},qt.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},qt.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var QM=mt.assert;function Hn(t){this.twisted=(0|t.a)!=1,this.mOneA=this.twisted&&(0|t.a)==-1,this.extended=this.mOneA,kr.call(this,"edwards",t),this.a=new Fe(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Fe(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Fe(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),QM(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|t.c)==1}Ms(Hn,kr);var ZM=Hn;function Et(t,e,r,n,i){kr.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Fe(e,16),this.y=new Fe(r,16),this.z=n?new Fe(n,16):this.curve.one,this.t=i&&new Fe(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}Hn.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},Hn.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},Hn.prototype.jpoint=function(t,e,r,n){return this.point(t,e,r,n)},Hn.prototype.pointFromX=function(t,e){(t=new Fe(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr(),n=this.c2.redSub(this.a.redMul(r)),i=this.one.redSub(this.c2.redMul(this.d).redMul(r)),s=n.redMul(i.redInvm()),o=s.redSqrt();if(o.redSqr().redSub(s).cmp(this.zero)!==0)throw Error("invalid point");var a=o.fromRed().isOdd();return(e&&!a||!e&&a)&&(o=o.redNeg()),this.point(t,o)},Hn.prototype.pointFromY=function(t,e){(t=new Fe(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr(),n=r.redSub(this.c2),i=r.redMul(this.d).redMul(this.c2).redSub(this.a),s=n.redMul(i.redInvm());if(s.cmp(this.zero)===0){if(e)throw Error("invalid point");return this.point(this.zero,t)}var o=s.redSqrt();if(o.redSqr().redSub(s).cmp(this.zero)!==0)throw Error("invalid point");return o.fromRed().isOdd()!==e&&(o=o.redNeg()),this.point(o,t)},Hn.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var e=t.x.redSqr(),r=t.y.redSqr(),n=e.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(r)));return n.cmp(i)===0},Ms(Et,kr.BasePoint),Hn.prototype.pointFromJSON=function(t){return Et.fromJSON(this,t)},Hn.prototype.point=function(t,e,r,n){return new Et(this,t,e,r,n)},Et.fromJSON=function(t,e){return new Et(t,e[0],e[1],e[2])},Et.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Et.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},Et.prototype._extDbl=function(){var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(t),i=this.x.redAdd(this.y).redSqr().redISub(t).redISub(e),s=n.redAdd(e),o=s.redSub(r),a=n.redSub(e),c=i.redMul(o),l=s.redMul(a),u=i.redMul(a),f=o.redMul(s);return this.curve.point(c,l,f,u)},Et.prototype._projDbl=function(){var t,e,r,n=this.x.redAdd(this.y).redSqr(),i=this.x.redSqr(),s=this.y.redSqr();if(this.curve.twisted){var o=(l=this.curve._mulA(i)).redAdd(s);if(this.zOne)t=n.redSub(i).redSub(s).redMul(o.redSub(this.curve.two)),e=o.redMul(l.redSub(s)),r=o.redSqr().redSub(o).redSub(o);else{var a=this.z.redSqr(),c=o.redSub(a).redISub(a);t=n.redSub(i).redISub(s).redMul(c),e=o.redMul(l.redSub(s)),r=o.redMul(c)}}else{var l=i.redAdd(s);a=this.curve._mulC(this.z).redSqr(),c=l.redSub(a).redSub(a),t=this.curve._mulC(n.redISub(l)).redMul(c),e=this.curve._mulC(l).redMul(i.redISub(s)),r=l.redMul(c)}return this.curve.point(t,e,r)},Et.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},Et.prototype._extAdd=function(t){var e=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),r=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),n=this.t.redMul(this.curve.dd).redMul(t.t),i=this.z.redMul(t.z.redAdd(t.z)),s=r.redSub(e),o=i.redSub(n),a=i.redAdd(n),c=r.redAdd(e),l=s.redMul(o),u=a.redMul(c),f=s.redMul(c),x=o.redMul(a);return this.curve.point(l,u,x,f)},Et.prototype._projAdd=function(t){var e,r,n=this.z.redMul(t.z),i=n.redSqr(),s=this.x.redMul(t.x),o=this.y.redMul(t.y),a=this.curve.d.redMul(s).redMul(o),c=i.redSub(a),l=i.redAdd(a),u=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(s).redISub(o),f=n.redMul(c).redMul(u);return this.curve.twisted?(e=n.redMul(l).redMul(o.redSub(this.curve._mulA(s))),r=c.redMul(l)):(e=n.redMul(l).redMul(o.redSub(s)),r=this.curve._mulC(c).redMul(l)),this.curve.point(f,e,r)},Et.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},Et.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},Et.prototype.mulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!1)},Et.prototype.jmulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!0)},Et.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},Et.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},Et.prototype.getX=function(){return this.normalize(),this.x.fromRed()},Et.prototype.getY=function(){return this.normalize(),this.y.fromRed()},Et.prototype.eq=function(t){return this===t||this.getX().cmp(t.getX())===0&&this.getY().cmp(t.getY())===0},Et.prototype.eqXToP=function(t){var e=t.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(e)===0)return!0;for(var r=t.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(e.redIAdd(n),this.x.cmp(e)===0)return!0}},Et.prototype.toP=Et.prototype.normalize,Et.prototype.mixedAdd=Et.prototype.add;var Cu=Ci(function(t,e){var r=e;r.base=kr,r.short=JM,r.mont=XM,r.edwards=ZM}),Wx=Qe.rotl32,Oa=Qe.sum32,eI=Qe.sum32_5,tI=no.ft_1,Ry=al.BlockHash,rI=[1518500249,1859775393,2400959708,3395469782];function Qn(){if(!(this instanceof Qn))return new Qn;Ry.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=Array(80)}Qe.inherits(Qn,Ry);var nI=Qn;Qn.blockSize=512,Qn.outSize=160,Qn.hmacStrength=80,Qn.padLength=64,Qn.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=Wx(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],c=this.h[4];for(n=0;n<r.length;n++){var l=~~(n/20),u=eI(Wx(i,5),tI(l,s,o,a),c,r[n],rI[l]);c=a,a=o,o=Wx(s,30),s=i,i=u}this.h[0]=Oa(this.h[0],i),this.h[1]=Oa(this.h[1],s),this.h[2]=Oa(this.h[2],o),this.h[3]=Oa(this.h[3],a),this.h[4]=Oa(this.h[4],c)},Qn.prototype._digest=function(t){return t==="hex"?Qe.toHex32(this.h,"big"):Qe.split32(this.h,"big")};var iI={sha1:nI,sha224:Um,sha256:s9,sha384:Hm,sha512:Ea};function jo(t,e,r){if(!(this instanceof jo))return new jo(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(Qe.toArray(e,r))}var sI=jo;jo.prototype._init=function(t){t.length>this.blockSize&&(t=new this.Hash().update(t).digest()),e0(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=new this.Hash().update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=new this.Hash().update(t)},jo.prototype.update=function(t,e){return this.inner.update(t,e),this},jo.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)};var Vr=Ci(function(t,e){var r=e;r.utils=Qe,r.common=al,r.sha=iI,r.ripemd=kP,r.hmac=sI,r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160}),oI={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}},yc=Ci(function(t,e){var r,n=e,i=mt.assert;function s(a){if(a.type==="short")this.curve=new Cu.short(a);else if(a.type==="edwards")this.curve=new Cu.edwards(a);else{if(a.type!=="mont")throw Error("Unknown curve type.");this.curve=new Cu.mont(a)}this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, n*G != O")}function o(a,c){Object.defineProperty(n,a,{configurable:!0,enumerable:!0,get:function(){var l=new s(c);return Object.defineProperty(n,a,{configurable:!0,enumerable:!0,value:l}),l}})}n.PresetCurve=s,o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Vr.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Vr.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Vr.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Vr.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Vr.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",cofactor:"8",hash:Vr.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",cofactor:"8",hash:Vr.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]}),o("brainpoolP256r1",{type:"short",prime:null,p:"A9FB57DB A1EEA9BC 3E660A90 9D838D72 6E3BF623 D5262028 2013481D 1F6E5377",a:"7D5A0975 FC2C3057 EEF67530 417AFFE7 FB8055C1 26DC5C6C E94A4B44 F330B5D9",b:"26DC5C6C E94A4B44 F330B5D9 BBD77CBF 95841629 5CF7E1CE 6BCCDC18 FF8C07B6",n:"A9FB57DB A1EEA9BC 3E660A90 9D838D71 8C397AA3 B561A6F7 901E0E82 974856A7",hash:Vr.sha256,gRed:!1,g:["8BD2AEB9CB7E57CB2C4B482FFC81B7AFB9DE27E1E3BD23C23A4453BD9ACE3262","547EF835C3DAC4FD97F8461A14611DC9C27745132DED8E545C1D54C72F046997"]}),o("brainpoolP384r1",{type:"short",prime:null,p:"8CB91E82 A3386D28 0F5D6F7E 50E641DF 152F7109 ED5456B4 12B1DA19 7FB71123ACD3A729 901D1A71 87470013 3107EC53",a:"7BC382C6 3D8C150C 3C72080A CE05AFA0 C2BEA28E 4FB22787 139165EF BA91F90F8AA5814A 503AD4EB 04A8C7DD 22CE2826",b:"04A8C7DD 22CE2826 8B39B554 16F0447C 2FB77DE1 07DCD2A6 2E880EA5 3EEB62D57CB43902 95DBC994 3AB78696 FA504C11",n:"8CB91E82 A3386D28 0F5D6F7E 50E641DF 152F7109 ED5456B3 1F166E6C AC0425A7CF3AB6AF 6B7FC310 3B883202 E9046565",hash:Vr.sha384,gRed:!1,g:["1D1C64F068CF45FFA2A63A81B7C13F6B8847A3E77EF14FE3DB7FCAFE0CBD10E8E826E03436D646AAEF87B2E247D4AF1E","8ABE1D7520F9C2A45CB1EB8E95CFD55262B70B29FEEC5864E19C054FF99129280E4646217791811142820341263C5315"]}),o("brainpoolP512r1",{type:"short",prime:null,p:"AADD9DB8 DBE9C48B 3FD4E6AE 33C9FC07 CB308DB3 B3C9D20E D6639CCA 703308717D4D9B00 9BC66842 AECDA12A E6A380E6 2881FF2F 2D82C685 28AA6056 583A48F3",a:"7830A331 8B603B89 E2327145 AC234CC5 94CBDD8D 3DF91610 A83441CA EA9863BC2DED5D5A A8253AA1 0A2EF1C9 8B9AC8B5 7F1117A7 2BF2C7B9 E7C1AC4D 77FC94CA",b:"3DF91610 A83441CA EA9863BC 2DED5D5A A8253AA1 0A2EF1C9 8B9AC8B5 7F1117A72BF2C7B9 E7C1AC4D 77FC94CA DC083E67 984050B7 5EBAE5DD 2809BD63 8016F723",n:"AADD9DB8 DBE9C48B 3FD4E6AE 33C9FC07 CB308DB3 B3C9D20E D6639CCA 70330870553E5C41 4CA92619 41866119 7FAC1047 1DB1D381 085DDADD B5879682 9CA90069",hash:Vr.sha512,gRed:!1,g:["81AEE4BDD82ED9645A21322E9C4C6A9385ED9F70B5D916C1B43B62EEF4D0098EFF3B1F78E2D0D48D50D1687B93B97D5F7C6D5047406A5E688B352209BCB9F822","7DDE385D566332ECC0EABFA9CF7822FDF209F70024A57B1AA000C55B881F8111B2DCDE494A5F485E5BCA4BD88A2763AED1CA2B2FA8F0540678CD1E0F3AD80892"]});try{r=oI}catch{r=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Vr.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})});function vs(t){if(!(this instanceof vs))return new vs(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=_n.toArray(t.entropy,t.entropyEnc||"hex"),r=_n.toArray(t.nonce,t.nonceEnc||"hex"),n=_n.toArray(t.pers,t.persEnc||"hex");e0(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var Oh=vs;vs.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},vs.prototype._hmac=function(){return new Vr.hmac(this.hash,this.K)},vs.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},vs.prototype.reseed=function(t,e,r,n){typeof e!="string"&&(n=r,r=e,e=null),t=_n.toArray(t,e),r=_n.toArray(r,n),e0(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},vs.prototype.generate=function(t,e,r,n){if(this._reseed>this.reseedInterval)throw Error("Reseed is required");typeof e!="string"&&(n=r,r=e,e=null),r&&(r=_n.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<t;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var s=i.slice(0,t);return this._update(r),this._reseed++,_n.encode(s,e)};var Wp=mt.assert;function cr(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var Gx=cr;cr.fromPublic=function(t,e,r){return e instanceof cr?e:new cr(t,{pub:e,pubEnc:r})},cr.fromPrivate=function(t,e,r){return e instanceof cr?e:new cr(t,{priv:e,privEnc:r})},cr.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},cr.prototype.getPublic=function(t,e){return this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},cr.prototype.getPrivate=function(t){return t==="hex"?this.priv.toString(16,2):this.priv},cr.prototype._importPrivate=function(t,e){if(this.priv=new Fe(t,e||16),this.ec.curve.type==="mont"){var r=this.ec.curve.one,n=r.ushln(252).sub(r).ushln(3);this.priv=this.priv.or(r.ushln(254)),this.priv=this.priv.and(n)}else this.priv=this.priv.umod(this.ec.curve.n)},cr.prototype._importPublic=function(t,e){if(t.x||t.y)return this.ec.curve.type==="mont"?Wp(t.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||Wp(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},cr.prototype.derive=function(t){return t.mul(this.priv).getX()},cr.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},cr.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},cr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var aI=mt.assert;function kf(t,e){if(t instanceof kf)return t;this._importDER(t,e)||(aI(t.r&&t.s,"Signature without r or s"),this.r=new Fe(t.r,16),this.s=new Fe(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var Ql=kf;function cI(){this.place=0}function Yx(t,e){var r=t[e.place++];if(!(128&r))return r;for(var n=15&r,i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o];return e.place=o,i}function Gp(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return e===0?t:t.slice(e)}function Jx(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}kf.prototype._importDER=function(t,e){t=mt.toArray(t,e);var r=new cI;if(t[r.place++]!==48||Yx(t,r)+r.place!==t.length||t[r.place++]!==2)return!1;var n=Yx(t,r),i=t.slice(r.place,n+r.place);if(r.place+=n,t[r.place++]!==2)return!1;var s=Yx(t,r);if(t.length!==s+r.place)return!1;var o=t.slice(r.place,s+r.place);return i[0]===0&&128&i[1]&&(i=i.slice(1)),o[0]===0&&128&o[1]&&(o=o.slice(1)),this.r=new Fe(i),this.s=new Fe(o),this.recoveryParam=null,!0},kf.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=Gp(e),r=Gp(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];Jx(n,e.length),(n=n.concat(e)).push(2),Jx(n,r.length);var i=n.concat(r),s=[48];return Jx(s,i.length),s=s.concat(i),mt.encode(s,t)};var Oy=mt.assert;function Mr(t){if(!(this instanceof Mr))return new Mr(t);typeof t=="string"&&(Oy(yc.hasOwnProperty(t),"Unknown curve "+t),t=yc[t]),t instanceof yc.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var lI=Mr;Mr.prototype.keyPair=function(t){return new Gx(this,t)},Mr.prototype.keyFromPrivate=function(t,e){return Gx.fromPrivate(this,t,e)},Mr.prototype.keyFromPublic=function(t,e){return Gx.fromPublic(this,t,e)},Mr.prototype.genKeyPair=function(t){t||(t={});var e=new Oh({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||Dd(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()});if(this.curve.type==="mont"){var r=new Fe(e.generate(32));return this.keyFromPrivate(r)}for(var n=this.n.byteLength(),i=this.n.sub(new Fe(2));;)if(!((r=new Fe(e.generate(n))).cmp(i)>0))return r.iaddn(1),this.keyFromPrivate(r)},Mr.prototype._truncateToN=function(t,e,r){var n=(r=r||8*t.byteLength())-this.n.bitLength();return n>0&&(t=t.ushrn(n)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},Mr.prototype.truncateMsg=function(t){var e;return t instanceof Uint8Array?(e=8*t.byteLength,t=this._truncateToN(new Fe(t,16),!1,e)):typeof t=="string"?(e=4*t.length,t=this._truncateToN(new Fe(t,16),!1,e)):t=this._truncateToN(new Fe(t,16)),t},Mr.prototype.sign=function(t,e,r,n){typeof r=="object"&&(n=r,r=null),n||(n={}),e=this.keyFromPrivate(e,r),t=this.truncateMsg(t);for(var i=this.n.byteLength(),s=e.getPrivate().toArray("be",i),o=t.toArray("be",i),a=new Oh({hash:this.hash,entropy:s,nonce:o,pers:n.pers,persEnc:n.persEnc||"utf8"}),c=this.n.sub(new Fe(1)),l=0;;l++){var u=n.k?n.k(l):new Fe(a.generate(this.n.byteLength()));if(!((u=this._truncateToN(u,!0)).cmpn(1)<=0||u.cmp(c)>=0)){var f=this.g.mul(u);if(!f.isInfinity()){var x=f.getX(),h=x.umod(this.n);if(h.cmpn(0)!==0){var C=u.invm(this.n).mul(h.mul(e.getPrivate()).iadd(t));if((C=C.umod(this.n)).cmpn(0)!==0){var w=(f.getY().isOdd()?1:0)|(x.cmp(h)!==0?2:0);return n.canonical&&C.cmp(this.nh)>0&&(C=this.n.sub(C),w^=1),new Ql({r:h,s:C,recoveryParam:w})}}}}}},Mr.prototype.verify=function(t,e,r,n){return r=this.keyFromPublic(r,n),e=new Ql(e,"hex"),this._verify(this.truncateMsg(t),e,r)||this._verify(this._truncateToN(new Fe(t,16)),e,r)},Mr.prototype._verify=function(t,e,r){var n=e.r,i=e.s;if(n.cmpn(1)<0||n.cmp(this.n)>=0||i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;var s,o=i.invm(this.n),a=o.mul(t).umod(this.n),c=o.mul(n).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(a,r.getPublic(),c)).isInfinity()&&s.eqXToP(n):!(s=this.g.mulAdd(a,r.getPublic(),c)).isInfinity()&&s.getX().umod(this.n).cmp(n)===0},Mr.prototype.recoverPubKey=function(t,e,r,n){Oy((3&r)===r,"The recovery param is more than two bits"),e=new Ql(e,n);var i=this.n,s=new Fe(t),o=e.r,a=e.s,c=1&r,l=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw Error("Unable to find sencond key candinate");o=l?this.curve.pointFromX(o.add(this.curve.n),c):this.curve.pointFromX(o,c);var u=e.r.invm(i),f=i.sub(s).mul(u).umod(i),x=a.mul(u).umod(i);return this.g.mulAdd(f,o,x)},Mr.prototype.getKeyRecoveryParam=function(t,e,r,n){if((e=new Ql(e,n)).recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw Error("Unable to find valid recovery factor")};var Yp=mt.assert,Jp=mt.parseBytes,po=mt.cachedProperty;function Wt(t,e){if(this.eddsa=t,e.hasOwnProperty("secret")&&(this._secret=Jp(e.secret)),t.isPoint(e.pub))this._pub=e.pub;else if(this._pubBytes=Jp(e.pub),this._pubBytes&&this._pubBytes.length===33&&this._pubBytes[0]===64&&(this._pubBytes=this._pubBytes.slice(1,33)),this._pubBytes&&this._pubBytes.length!==32)throw Error("Unknown point compression format")}Wt.fromPublic=function(t,e){return e instanceof Wt?e:new Wt(t,{pub:e})},Wt.fromSecret=function(t,e){return e instanceof Wt?e:new Wt(t,{secret:e})},Wt.prototype.secret=function(){return this._secret},po(Wt,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),po(Wt,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),po(Wt,"privBytes",function(){var t=this.eddsa,e=this.hash(),r=t.encodingLength-1,n=e.slice(0,t.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n}),po(Wt,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),po(Wt,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),po(Wt,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),Wt.prototype.sign=function(t){return Yp(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},Wt.prototype.verify=function(t,e){return this.eddsa.verify(t,e,this)},Wt.prototype.getSecret=function(t){return Yp(this._secret,"KeyPair is public only"),mt.encode(this.secret(),t)},Wt.prototype.getPublic=function(t,e){return mt.encode((e?[64]:[]).concat(this.pubBytes()),t)};var Xx=Wt,uI=mt.assert,Zl=mt.cachedProperty,fI=mt.parseBytes;function x0(t,e){this.eddsa=t,typeof e!="object"&&(e=fI(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),uI(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof Fe&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}Zl(x0,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),Zl(x0,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),Zl(x0,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),Zl(x0,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),x0.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},x0.prototype.toHex=function(){return mt.encode(this.toBytes(),"hex").toUpperCase()};var Xp=x0,dI=mt.assert,Qp=mt.parseBytes;function ur(t){if(dI(t==="ed25519","only tested with ed25519 so far"),!(this instanceof ur))return new ur(t);t=yc[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=Vr.sha512}var xI=ur;ur.prototype.sign=function(t,e){t=Qp(t);var r=this.keyFromSecret(e),n=this.hashInt(r.messagePrefix(),t),i=this.g.mul(n),s=this.encodePoint(i),o=this.hashInt(s,r.pubBytes(),t).mul(r.priv()),a=n.add(o).umod(this.curve.n);return this.makeSignature({R:i,S:a,Rencoded:s})},ur.prototype.verify=function(t,e,r){t=Qp(t),e=this.makeSignature(e);var n=this.keyFromPublic(r),i=this.hashInt(e.Rencoded(),n.pubBytes(),t),s=this.g.mul(e.S());return e.R().add(n.pub().mul(i)).eq(s)},ur.prototype.hashInt=function(){for(var t=this.hash(),e=0;e<arguments.length;e++)t.update(arguments[e]);return mt.intFromLE(t.digest()).umod(this.curve.n)},ur.prototype.keyPair=function(t){return new Xx(this,t)},ur.prototype.keyFromPublic=function(t){return Xx.fromPublic(this,t)},ur.prototype.keyFromSecret=function(t){return Xx.fromSecret(this,t)},ur.prototype.genKeyPair=function(t){t||(t={});var e=new Oh({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||Dd(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.curve.n.toArray()});return this.keyFromSecret(e.generate(32))},ur.prototype.makeSignature=function(t){return t instanceof Xp?t:new Xp(this,t)},ur.prototype.encodePoint=function(t){var e=t.getY().toArray("le",this.encodingLength);return e[this.encodingLength-1]|=t.getX().isOdd()?128:0,e},ur.prototype.decodePoint=function(t){var e=(t=mt.parseBytes(t)).length-1,r=t.slice(0,e).concat(-129&t[e]),n=(128&t[e])!=0,i=mt.intFromLE(r);return this.curve.pointFromY(i,n)},ur.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},ur.prototype.decodeInt=function(t){return mt.intFromLE(t)},ur.prototype.isPoint=function(t){return t instanceof this.pointClass};var Zp=Ci(function(t,e){var r=e;r.utils=mt,r.rand=Dd,r.curve=Cu,r.curves=yc,r.ec=lI,r.eddsa=xI}),hI=Object.freeze({__proto__:null,default:Zp,__moduleExports:Zp});const pI={class:"d-flex flex-column h-100"},mI={class:"contact-header"},gI=de("img",{src:eo,class:"avatar me-2"},null,-1),yI={class:"d-flex flex-column text-truncate"},EI={class:"name fw-bold"},bI={class:"d-flex align-items-center ms-auto"},CI=de("span",{class:"material-symbols-outlined"},"video_call",-1),AI=[CI],vI=de("span",{class:"material-symbols-outlined"},"call",-1),_I=[vI],wI={class:"dropdown"},BI=de("span",{class:"material-symbols-outlined dropdown-toggle",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}," more_vert ",-1),DI={class:"dropdown-menu dropdown-menu-end"},kI={class:"dropdown-li"},FI=de("span",{class:"bi bi-pencil-fill pe-1"},null,-1),SI=de("span",{class:"bi bi-eraser-fill pe-1"},null,-1),PI=de("span",{class:"bi bi-trash-fill pe-1"},null,-1),TI={class:"text selectable"},MI={class:"time"},II={class:"textarea-container"},RI=de("span",{class:"material-symbols-outlined"}," send ",-1),OI=[RI],LI={__name:"Chat",emits:["videocall","voicecall"],setup(t,{expose:e,emit:r}){const n=r,i=Ke(""),s=Ke(null);Ke(null);const o=Ke(null),a=Ke(!1),c=Ke(null);async function l(T){console.log("Message to send:",T);const F=await xM({message:await fM({text:T.message}),encryptionKeys:await bh({armoredKey:T.contact.pubkey})}),R=new Date,d={secret:T.contact.secret,data:T.message,me:!0,dt:R.toLocaleTimeString("en-GB",{hour:"numeric",minute:"numeric"}),timestamp:+R};if(await ve.db.transaction("messages","readwrite").store.put(d),ve.connections[T.contact.secret].items.push(d),P(),ve.connections[T.contact.secret].conn){const b=ve.connections[T.contact.secret];b.metadata={from:ht.secret,to:T.contact.secret,body:F},b.conn.send({type:"message",message:F});return}const _=ve.peer.connect(T.contact.secret,{reliable:!0,metadata:{from:ht.secret,to:T.contact.secret,body:F}});_.on("open",async()=>{u(_),_.send({type:"message",message:F})})}async function u(T){if(T.on("data",async F=>{if(console.log("Outgoing data:",F,T.metadata),F.type==="message"){const R=await Ah({message:await Ch({armoredMessage:F.message}),decryptionKeys:ht.privkey}),d=ve.contact&&ve.contact.secret==T.metadata.to;d?ve.focus||z(T.metadata.from,R.data):(ve.connections[T.metadata.to].notification+=1,z(T.metadata.to,R.data));const p=new Date,_={secret:T.metadata.to,data:R.data,me:!1,dt:p.toLocaleTimeString("en-GB",{hour:"numeric",minute:"numeric"}),timestamp:+p};await ve.db.transaction("messages","readwrite").store.put(_),ve.connections[T.metadata.to].items.push(_),d&&P()}}),T.on("error",F=>{console.log("Connection outgoing error:",F.type,T.metadata)}),T.on("close",()=>{console.log("Connection closed:",T.metadata.to),ve.connections[T.metadata.to].conn=null}),ve.connections[T.metadata.to]){ve.connections[T.metadata.to].conn=T;return}ve.connections[T.metadata.to]={conn:T,items:[],notification:!1,pubkey:null,online:!1,last_seen:0}}async function f(){"virtualKeyboard"in navigator&&(navigator.virtualKeyboard.show(),ec(()=>{o.value.scroll({top:o.value.scrollHeight,behavior:"smooth"})}))}async function x(T){if(a.value&&!T.shiftKey&&T.key==="Enter"){if(s.value.focus(),T.preventDefault(),!i.value.length)return;l({message:i.value,contact:ve.contact}),i.value=""}}async function h(){s.value.focus(),i.value.length&&(l({message:i.value,contact:ve.contact}),i.value="")}async function C(){let T=s.value.value.split(`
`).length;T>5&&(T=5),s.value.rows=T}async function w(){ec(()=>{a.value&&s.value.focus(),o.value.scroll({top:o.value.scrollHeight,behavior:"auto"})})}async function k(){const T=ve.contacts.findIndex(R=>R.secret==ve.contact.secret);ve.contacts.splice(T,1),await ve.db.transaction("contacts","readwrite").store.delete(ve.contact.secret),delete ve.connections[ve.contact.secret],ve.contact=null}async function O(){const T=ve.contact.secret;ve.connections[T].items=[];const F=ve.db.transaction("messages","readwrite"),d=await F.store.index("secret").getAllKeys(T);for(const p of d)await F.store.delete(p)}async function z(T,F){const R=ve.contacts.find(d=>d.secret==T).name;Notification.requestPermission().then(async d=>{d==="granted"&&navigator.serviceWorker.ready.then(p=>{p.showNotification(R,{body:F,icon:"/images/person.svg",vibrate:[200,100,200,100,200,100,200],tag:"vibration-sample"})})})}async function P(){ec(()=>{o.value.scroll({top:o.value.scrollHeight,behavior:"auto"})})}function A(){return ve.connections[ve.contact.secret].online?"Online":"Last seen at "+new Date(ve.connections[ve.contact.secret].last_seen).toLocaleTimeString("en-GB",{hour:"numeric",minute:"numeric"})}return e({focus_chat:w,scroll_messages:P}),B8(()=>{window.innerWidth>768&&(a.value=!0)}),(T,F)=>(St(),It(fr,null,[cn(ve).contact?(St(),It("div",{key:0,class:Ro(["right-pane",{"d-block col-12":cn(ve).contact}])},[de("div",pI,[de("div",mI,[de("span",{class:"material-symbols-outlined clickable me-3",onClick:F[0]||(F[0]=R=>cn(ve).contact=null)}," arrow_back "),gI,de("div",yI,[de("span",EI,dr(cn(ve).contact.name),1),de("small",null,dr(A()),1)]),de("div",bI,[de("div",{class:"icon-btn me-2",onClick:F[1]||(F[1]=R=>n("videocall"))},AI),de("div",{class:"icon-btn me-2",onClick:F[2]||(F[2]=R=>n("voicecall"))},_I),de("div",wI,[BI,de("ul",DI,[de("li",kI,[de("a",{class:"dropdown-item",onClick:F[3]||(F[3]=(...R)=>c.value.show&&c.value.show(...R))},[FI,Pi(" Change name ")])]),de("li",{class:"dropdown-li"},[de("a",{class:"dropdown-item",onClick:O},[SI,Pi(" Clear chat ")])]),de("li",{class:"dropdown-li"},[de("a",{class:"dropdown-item",onClick:k},[PI,Pi(" Remove contact ")])])])])])]),de("div",{ref_key:"messages",ref:o,class:"messages"},[(St(!0),It(fr,null,k4(cn(ve).connections[cn(ve).contact.secret].items,(R,d)=>(St(),It("div",{class:Ro(["message shadow",{me:R.me}])},[de("span",TI,dr(R.data),1),de("span",MI,dr(R.dt),1)],2))),256))],512),de("div",II,[N0(de("textarea",{ref_key:"textarea",ref:s,"onUpdate:modelValue":F[4]||(F[4]=R=>i.value=R),class:"form-control",placeholder:"Message",rows:"1",onKeypress:x,onInput:C,onFocus:f},null,544),[[qf,i.value]]),de("div",{class:"send-button",onClick:h},OI)])])],2)):Jr("",!0),cn(ve).contact?Jr("",!0):(St(),It("div",{key:1,class:Ro(["pane-cover",{"d-block col-12":cn(ve).contact}])},null,2)),zt(em,{ref_key:"changename_modal",ref:c},null,512)],64))}},NI={key:0,class:"overlay-fullscreen"},KI={class:"d-flex flex-column bg-light rounded shadow p-3"},UI=de("h5",{class:"fw-bold text-center"},"Messenger Voice Call",-1),$I={class:"text-center"},zI=de("div",{class:"d-flex justify-content-center mt-3"},[de("img",{src:eo,class:"avatar"})],-1),jI=de("hr",null,null,-1),HI=de("div",{class:"d-flex align-items-center justify-content-center"},[de("span",{class:"spinner-grow spinner-grow-sm me-2","aria-hidden":"true"}),de("span",{role:"status"},"Calling...")],-1),VI={key:0,class:"d-flex justify-content-around"},qI={key:1,class:"overlay-fullscreen"},WI={class:"d-flex flex-column bg-light rounded shadow p-3"},GI=de("h5",{class:"fw-bold"},"Messenger Voice Call",-1),YI={class:"d-flex justify-content-center"},JI=de("div",{class:"d-flex justify-content-center mt-3"},[de("img",{src:eo,class:"avatar"})],-1),XI=de("hr",null,null,-1),QI=de("div",{class:"d-flex align-items-center justify-content-center"},[de("span",{class:"spinner-grow spinner-grow-sm me-2","aria-hidden":"true"}),de("span",{role:"status"},"Incoming call...")],-1),ZI={class:"overlay-fullscreen flex-column bg-black"},eR={class:"voicecall-container"},tR=de("div",{class:"d-flex justify-content-center pt-5"},[de("img",{src:eo,class:"voicecall-avatar"})],-1),rR={class:"fw-bold text-center text-light pt-3 mb-0"},nR={class:"text-center text-light"},iR={class:"videocall-controls"},sR={class:"material-symbols-outlined"},oR=de("span",{class:"material-symbols-outlined"},"call_end",-1),aR=[oR],cR={__name:"VoiceCall",setup(t,{expose:e}){const r=Ke(null),n=Ke(null),i=Ke(null),s=Ke(!1),o=Ke(null),a=Ke(null),c=Ke("00:00"),l=Ke(!1),u=Ke(!1),f=Ke(!1),x=Ke(!1),h=Ke(!1);async function C(){o.value.getAudioTracks()[0].enabled=!o.value.getAudioTracks()[0].enabled,s.value=!o.value.getAudioTracks()[0].enabled}async function w(){x.value=!0,await k(),n.value.close()}async function k(){r.value=null,a.value=null,s.value=Ke(!1),a.value=null,c.value="00:00",l.value=!1,u.value=!1,f.value=!1,h.value=!1,i.value.pause(),i.value.srcObject=null,o.value&&(o.value.getTracks().forEach(d=>d.stop()),o.value=null)}async function O(d){d.on("stream",p=>{i.value.srcObject=p}),d.on("close",async()=>{x.value||(await k(),d.close())}),d.on("error",p=>{console.log("Call error",p)}),n.value=d}async function z(d){d.on("stream",p=>{T(),i.value.srcObject=p}),d.on("close",async()=>{x.value||(await k(),d.close())}),d.on("error",p=>{console.log("Call error",p)}),n.value=d,h.value=!0}async function P(){T(),o.value=await navigator.mediaDevices.getUserMedia({audio:!0,video:!1}),await O(n.value),n.value.answer(o.value)}async function A(){n.value.close(),u.value=!1}function T(){l.value=!1,u.value=!1,f.value=!0,a.value=new Date().getTime(),setInterval(()=>{const p=new Date().getTime()-a.value;c.value=new Date(p).toLocaleTimeString("en-GB",{minute:"numeric",second:"numeric"})},1e3)}async function F(d,p){x.value=!1,r.value=p,l.value=!0,o.value=await navigator.mediaDevices.getUserMedia({audio:!0,video:!1});const _=ve.peer.call(d,o.value,{metadata:{secret:ht.secret,type:"voicecall"}});await z(_)}async function R(d,p,_){x.value=!1,await O(d),r.value=_,u.value=!0}return e({make_call:F,incoming_call:R}),(d,p)=>(St(),It(fr,null,[l.value?(St(),It("div",NI,[de("div",KI,[UI,de("span",$I,dr(r.value),1),zI,jI,HI,h.value?(St(),It("div",VI,[de("button",{class:"btn btn-danger mt-3",onClick:w},"Cancel")])):Jr("",!0)])])):Jr("",!0),u.value?(St(),It("div",qI,[de("div",WI,[GI,de("div",YI,[de("span",null,dr(r.value),1)]),JI,XI,QI,de("div",{class:"d-flex justify-content-around"},[de("button",{class:"btn btn-success mt-3",onClick:P},"Accept"),de("button",{class:"btn btn-danger mt-3",onClick:A},"Decline")])])])):Jr("",!0),N0(de("div",ZI,[de("div",eR,[tR,de("h1",rR,dr(r.value),1),de("span",nR,dr(c.value),1),de("audio",{ref_key:"audio",ref:i,class:"voicecall-audio",autoplay:""},null,512)]),de("div",iR,[de("div",{class:"icon-btn",onClick:C},[de("span",sR,dr(s.value?"mic_off":"mic"),1)]),de("div",{class:"call_end-btn",onClick:w},aR)])],512),[[P8,f.value]])],64))}},lR={key:0,class:"overlay-fullscreen"},uR={class:"d-flex flex-column bg-light rounded shadow p-3"},fR=de("h5",{class:"fw-bold text-center"},"Messenger Video Call",-1),dR={class:"text-center"},xR=de("div",{class:"d-flex justify-content-center mt-3"},[de("img",{src:eo,class:"avatar"})],-1),hR=de("hr",null,null,-1),pR=de("div",{class:"d-flex align-items-center justify-content-center"},[de("span",{class:"spinner-grow spinner-grow-sm me-2","aria-hidden":"true"}),de("span",{role:"status"},"Calling...")],-1),mR={key:0,class:"d-flex justify-content-around"},gR={key:1,class:"overlay-fullscreen"},yR={class:"d-flex flex-column bg-light rounded shadow p-3"},ER=de("h5",{class:"fw-bold"},"Messenger Video Call",-1),bR={class:"d-flex justify-content-center"},CR=de("div",{class:"d-flex justify-content-center mt-3"},[de("img",{src:eo,class:"avatar"})],-1),AR=de("hr",null,null,-1),vR=de("div",{class:"d-flex align-items-center justify-content-center"},[de("span",{class:"spinner-grow spinner-grow-sm me-2","aria-hidden":"true"}),de("span",{role:"status"},"Incoming call...")],-1),_R={class:"overlay-fullscreen flex-column bg-black"},wR={class:"videocall-container"},BR={class:"videocall-controls"},DR=de("span",{class:"material-symbols-outlined"},"flip_camera_ios",-1),kR=[DR],FR={class:"material-symbols-outlined"},SR={class:"material-symbols-outlined"},PR=de("span",{class:"material-symbols-outlined"},"call_end",-1),TR=[PR],MR={__name:"VideoCall",setup(t,{expose:e}){const r=Ke(null),n=Ke(null),i=Ke(!1),s=Ke(!1),o=Ke(null),a=Ke(null),c=Ke(0),l=Ke(null),u=Ke(null),f=Ke(!1),x=Ke(!1),h=Ke(!1),C=Ke(!1),w=Ke(!1);async function k(){const E=(await navigator.mediaDevices.enumerateDevices()).filter(Z=>Z.kind==="videoinput");c.value=(c.value+1)%E.length,console.log("Switching camera to:",E[c.value].label),o.value.getTracks().forEach(Z=>{Z.kind==="video"&&Z.stop()});const S=await navigator.mediaDevices.getUserMedia({video:{deviceId:{exact:E[c.value].deviceId}}});l.value.srcObject=S;const Q=n.value.peerConnection.getSenders();for(const Z of Q)Z.track.kind==="video"&&Z.replaceTrack(S.getVideoTracks()[0]);a.value=S}async function O(){o.value.getVideoTracks()[0].enabled=!o.value.getVideoTracks()[0].enabled,s.value=!o.value.getVideoTracks()[0].enabled}async function z(){i.value=!i.value,o.value.getAudioTracks()[0].enabled=!i.value}async function P(){C.value=!0,await A(),n.value.close()}async function A(){r.value=null,f.value=!1,x.value=!1,h.value=!1,w.value=!1,u.value.srcObject=null,o.value&&(o.value.getTracks().forEach(m=>m.stop()),o.value=null),a.value&&(a.value.getTracks().forEach(m=>m.stop()),a.value=null)}async function T(m){m.on("stream",E=>{u.value.srcObject=E}),m.on("close",async()=>{C.value||(await A(),m.close())}),m.on("error",E=>{console.log("Call error",E)}),n.value=m}async function F(m){m.on("stream",E=>{R(),u.value.srcObject=E}),m.on("close",async()=>{C.value||(await A(),m.close())}),m.on("error",E=>{console.log("Call error",E)}),n.value=m,w.value=!0}function R(){f.value=!1,x.value=!1,h.value=!0}async function d(){R(),o.value=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0}),l.value.srcObject=o.value,n.value.answer(o.value)}async function p(){n.value.close(),x.value=!1}async function _(m,E){C.value=!1,r.value=E,f.value=!0,o.value=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0}),l.value.srcObject=o.value;const S=ve.peer.call(m,o.value,{metadata:{secret:ht.secret,type:"videocall"}});await F(S)}async function b(m,E,S){C.value=!1,await T(m),r.value=S,x.value=!0}return e({make_call:_,incoming_call:b}),(m,E)=>(St(),It(fr,null,[f.value?(St(),It("div",lR,[de("div",uR,[fR,de("span",dR,dr(r.value),1),xR,hR,pR,w.value?(St(),It("div",mR,[de("button",{class:"btn btn-danger mt-3",onClick:P},"Cancel")])):Jr("",!0)])])):Jr("",!0),x.value?(St(),It("div",gR,[de("div",yR,[ER,de("div",bR,[de("span",null,dr(r.value),1)]),CR,AR,vR,de("div",{class:"d-flex justify-content-around"},[de("button",{class:"btn btn-success mt-3",onClick:d},"Accept"),de("button",{class:"btn btn-danger mt-3",onClick:p},"Decline")])])])):Jr("",!0),N0(de("div",_R,[de("div",wR,[de("video",{ref_key:"dst_video",ref:u,class:"videocall-dst",autoplay:"",playsinline:""},null,512),de("video",{ref_key:"src_video",ref:l,class:"videocall-src",autoplay:"",playsinline:"",muted:""},null,512)]),de("div",BR,[de("div",{class:"icon-btn",onClick:k},kR),de("div",{class:"icon-btn",onClick:O},[de("span",FR,dr(s.value?"videocam_off":"videocam"),1)]),de("div",{class:"icon-btn",onClick:z},[de("span",SR,dr(i.value?"mic_off":"mic"),1)]),de("div",{class:"call_end-btn",onClick:P},TR)])],512),[[P8,h.value]])],64))}};class IR{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(e){this.flush(),this._parts.push(e)}append(e){this._pieces.push(e)}flush(){if(this._pieces.length>0){const e=new Uint8Array(this._pieces);this._parts.push(e),this._pieces=[]}}toArrayBuffer(){const e=[];for(const r of this._parts)e.push(r);return RR(e).buffer}}function RR(t){let e=0;for(const i of t)e+=i.byteLength;const r=new Uint8Array(e);let n=0;for(const i of t){const s=new Uint8Array(i.buffer,i.byteOffset,i.byteLength);r.set(s,n),n+=i.byteLength}return r}function Ly(t){return new OR(t).unpack()}function Ny(t){const e=new LR,r=e.pack(t);return r instanceof Promise?r.then(()=>e.getBuffer()):e.getBuffer()}class OR{constructor(e){this.index=0,this.dataBuffer=e,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const e=this.unpack_uint8();if(e<128)return e;if((e^224)<32)return(e^224)-32;let r;if((r=e^160)<=15)return this.unpack_raw(r);if((r=e^176)<=15)return this.unpack_string(r);if((r=e^144)<=15)return this.unpack_array(r);if((r=e^128)<=15)return this.unpack_map(r);switch(e){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return r=this.unpack_uint16(),this.unpack_string(r);case 217:return r=this.unpack_uint32(),this.unpack_string(r);case 218:return r=this.unpack_uint16(),this.unpack_raw(r);case 219:return r=this.unpack_uint32(),this.unpack_raw(r);case 220:return r=this.unpack_uint16(),this.unpack_array(r);case 221:return r=this.unpack_uint32(),this.unpack_array(r);case 222:return r=this.unpack_uint16(),this.unpack_map(r);case 223:return r=this.unpack_uint32(),this.unpack_map(r)}}unpack_uint8(){const e=this.dataView[this.index]&255;return this.index++,e}unpack_uint16(){const e=this.read(2),r=(e[0]&255)*256+(e[1]&255);return this.index+=2,r}unpack_uint32(){const e=this.read(4),r=((e[0]*256+e[1])*256+e[2])*256+e[3];return this.index+=4,r}unpack_uint64(){const e=this.read(8),r=((((((e[0]*256+e[1])*256+e[2])*256+e[3])*256+e[4])*256+e[5])*256+e[6])*256+e[7];return this.index+=8,r}unpack_int8(){const e=this.unpack_uint8();return e<128?e:e-256}unpack_int16(){const e=this.unpack_uint16();return e<32768?e:e-65536}unpack_int32(){const e=this.unpack_uint32();return e<2**31?e:e-2**32}unpack_int64(){const e=this.unpack_uint64();return e<2**63?e:e-2**64}unpack_raw(e){if(this.length<this.index+e)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${e} ${this.length}`);const r=this.dataBuffer.slice(this.index,this.index+e);return this.index+=e,r}unpack_string(e){const r=this.read(e);let n=0,i="",s,o;for(;n<e;)s=r[n],s<160?(o=s,n++):(s^192)<32?(o=(s&31)<<6|r[n+1]&63,n+=2):(s^224)<16?(o=(s&15)<<12|(r[n+1]&63)<<6|r[n+2]&63,n+=3):(o=(s&7)<<18|(r[n+1]&63)<<12|(r[n+2]&63)<<6|r[n+3]&63,n+=4),i+=String.fromCodePoint(o);return this.index+=e,i}unpack_array(e){const r=new Array(e);for(let n=0;n<e;n++)r[n]=this.unpack();return r}unpack_map(e){const r={};for(let n=0;n<e;n++){const i=this.unpack();r[i]=this.unpack()}return r}unpack_float(){const e=this.unpack_uint32(),r=e>>31,n=(e>>23&255)-127,i=e&8388607|8388608;return(r===0?1:-1)*i*2**(n-23)}unpack_double(){const e=this.unpack_uint32(),r=this.unpack_uint32(),n=e>>31,i=(e>>20&2047)-1023,o=(e&1048575|1048576)*2**(i-20)+r*2**(i-52);return(n===0?1:-1)*o}read(e){const r=this.index;if(r+e<=this.length)return this.dataView.subarray(r,r+e);throw new Error("BinaryPackFailure: read index out of range")}}class LR{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(e){if(typeof e=="string")this.pack_string(e);else if(typeof e=="number")Math.floor(e)===e?this.pack_integer(e):this.pack_double(e);else if(typeof e=="boolean")e===!0?this._bufferBuilder.append(195):e===!1&&this._bufferBuilder.append(194);else if(e===void 0)this._bufferBuilder.append(192);else if(typeof e=="object")if(e===null)this._bufferBuilder.append(192);else{const r=e.constructor;if(e instanceof Array){const n=this.pack_array(e);if(n instanceof Promise)return n.then(()=>this._bufferBuilder.flush())}else if(e instanceof ArrayBuffer)this.pack_bin(new Uint8Array(e));else if("BYTES_PER_ELEMENT"in e){const n=e;this.pack_bin(new Uint8Array(n.buffer,n.byteOffset,n.byteLength))}else if(e instanceof Date)this.pack_string(e.toString());else{if(e instanceof Blob)return e.arrayBuffer().then(n=>{this.pack_bin(new Uint8Array(n)),this._bufferBuilder.flush()});if(r==Object||r.toString().startsWith("class")){const n=this.pack_object(e);if(n instanceof Promise)return n.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${r.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof e}" not yet supported`);this._bufferBuilder.flush()}pack_bin(e){const r=e.length;if(r<=15)this.pack_uint8(160+r);else if(r<=65535)this._bufferBuilder.append(218),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(r);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(e)}pack_string(e){const r=this._textEncoder.encode(e),n=r.length;if(n<=15)this.pack_uint8(176+n);else if(n<=65535)this._bufferBuilder.append(216),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(n);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(r)}pack_array(e){const r=e.length;if(r<=15)this.pack_uint8(144+r);else if(r<=65535)this._bufferBuilder.append(220),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(r);else throw new Error("Invalid length");const n=i=>{if(i<r){const s=this.pack(e[i]);return s instanceof Promise?s.then(()=>n(i+1)):n(i+1)}};return n(0)}pack_integer(e){if(e>=-32&&e<=127)this._bufferBuilder.append(e&255);else if(e>=0&&e<=255)this._bufferBuilder.append(204),this.pack_uint8(e);else if(e>=-128&&e<=127)this._bufferBuilder.append(208),this.pack_int8(e);else if(e>=0&&e<=65535)this._bufferBuilder.append(205),this.pack_uint16(e);else if(e>=-32768&&e<=32767)this._bufferBuilder.append(209),this.pack_int16(e);else if(e>=0&&e<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(e);else if(e>=-2147483648&&e<=2147483647)this._bufferBuilder.append(210),this.pack_int32(e);else if(e>=-9223372036854776e3&&e<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(e);else if(e>=0&&e<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(e);else throw new Error("Invalid integer")}pack_double(e){let r=0;e<0&&(r=1,e=-e);const n=Math.floor(Math.log(e)/Math.LN2),i=e/2**n-1,s=Math.floor(i*2**52),o=2**32,a=r<<31|n+1023<<20|s/o&1048575,c=s%o;this._bufferBuilder.append(203),this.pack_int32(a),this.pack_int32(c)}pack_object(e){const r=Object.keys(e),n=r.length;if(n<=15)this.pack_uint8(128+n);else if(n<=65535)this._bufferBuilder.append(222),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(n);else throw new Error("Invalid length");const i=s=>{if(s<r.length){const o=r[s];if(e.hasOwnProperty(o)){this.pack(o);const a=this.pack(e[o]);if(a instanceof Promise)return a.then(()=>i(s+1))}return i(s+1)}};return i(0)}pack_uint8(e){this._bufferBuilder.append(e)}pack_uint16(e){this._bufferBuilder.append(e>>8),this._bufferBuilder.append(e&255)}pack_uint32(e){const r=e&4294967295;this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}pack_uint64(e){const r=e/4294967296,n=e%2**32;this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255),this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255)}pack_int8(e){this._bufferBuilder.append(e&255)}pack_int16(e){this._bufferBuilder.append((e&65280)>>8),this._bufferBuilder.append(e&255)}pack_int32(e){this._bufferBuilder.append(e>>>24&255),this._bufferBuilder.append((e&16711680)>>>16),this._bufferBuilder.append((e&65280)>>>8),this._bufferBuilder.append(e&255)}pack_int64(e){const r=Math.floor(e/4294967296),n=e%2**32;this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255),this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255)}constructor(){this._bufferBuilder=new IR,this._textEncoder=new TextEncoder}}let Ky=!0,Uy=!0;function Au(t,e,r){const n=t.match(e);return n&&n.length>=r&&parseInt(n[r],10)}function so(t,e,r){if(!t.RTCPeerConnection)return;const n=t.RTCPeerConnection.prototype,i=n.addEventListener;n.addEventListener=function(o,a){if(o!==e)return i.apply(this,arguments);const c=l=>{const u=r(l);u&&(a.handleEvent?a.handleEvent(u):a(u))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(a,c),i.apply(this,[o,c])};const s=n.removeEventListener;n.removeEventListener=function(o,a){if(o!==e||!this._eventMap||!this._eventMap[e])return s.apply(this,arguments);if(!this._eventMap[e].has(a))return s.apply(this,arguments);const c=this._eventMap[e].get(a);return this._eventMap[e].delete(a),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,s.apply(this,[o,c])},Object.defineProperty(n,"on"+e,{get(){return this["_on"+e]},set(o){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),o&&this.addEventListener(e,this["_on"+e]=o)},enumerable:!0,configurable:!0})}function NR(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(Ky=t,t?"adapter.js logging disabled":"adapter.js logging enabled")}function KR(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(Uy=!t,"adapter.js deprecation warnings "+(t?"disabled":"enabled"))}function $y(){if(typeof window=="object"){if(Ky)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function U9(t,e){Uy&&console.warn(t+" is deprecated, please use "+e+" instead.")}function UR(t){const e={browser:null,version:null};if(typeof t>"u"||!t.navigator||!t.navigator.userAgent)return e.browser="Not a browser.",e;const{navigator:r}=t;if(r.mozGetUserMedia)e.browser="firefox",e.version=Au(r.userAgent,/Firefox\/(\d+)\./,1);else if(r.webkitGetUserMedia||t.isSecureContext===!1&&t.webkitRTCPeerConnection)e.browser="chrome",e.version=Au(r.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(t.RTCPeerConnection&&r.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=Au(r.userAgent,/AppleWebKit\/(\d+)\./,1),e.supportsUnifiedPlan=t.RTCRtpTransceiver&&"currentDirection"in t.RTCRtpTransceiver.prototype;else return e.browser="Not a supported browser.",e;return e}function e7(t){return Object.prototype.toString.call(t)==="[object Object]"}function zy(t){return e7(t)?Object.keys(t).reduce(function(e,r){const n=e7(t[r]),i=n?zy(t[r]):t[r],s=n&&!Object.keys(i).length;return i===void 0||s?e:Object.assign(e,{[r]:i})},{}):t}function Lh(t,e,r){!e||r.has(e.id)||(r.set(e.id,e),Object.keys(e).forEach(n=>{n.endsWith("Id")?Lh(t,t.get(e[n]),r):n.endsWith("Ids")&&e[n].forEach(i=>{Lh(t,t.get(i),r)})}))}function t7(t,e,r){const n=r?"outbound-rtp":"inbound-rtp",i=new Map;if(e===null)return i;const s=[];return t.forEach(o=>{o.type==="track"&&o.trackIdentifier===e.id&&s.push(o)}),s.forEach(o=>{t.forEach(a=>{a.type===n&&a.trackId===o.id&&Lh(t,a,i)})}),i}const r7=$y;function jy(t,e){const r=t&&t.navigator;if(!r.mediaDevices)return;const n=function(a){if(typeof a!="object"||a.mandatory||a.optional)return a;const c={};return Object.keys(a).forEach(l=>{if(l==="require"||l==="advanced"||l==="mediaSource")return;const u=typeof a[l]=="object"?a[l]:{ideal:a[l]};u.exact!==void 0&&typeof u.exact=="number"&&(u.min=u.max=u.exact);const f=function(x,h){return x?x+h.charAt(0).toUpperCase()+h.slice(1):h==="deviceId"?"sourceId":h};if(u.ideal!==void 0){c.optional=c.optional||[];let x={};typeof u.ideal=="number"?(x[f("min",l)]=u.ideal,c.optional.push(x),x={},x[f("max",l)]=u.ideal,c.optional.push(x)):(x[f("",l)]=u.ideal,c.optional.push(x))}u.exact!==void 0&&typeof u.exact!="number"?(c.mandatory=c.mandatory||{},c.mandatory[f("",l)]=u.exact):["min","max"].forEach(x=>{u[x]!==void 0&&(c.mandatory=c.mandatory||{},c.mandatory[f(x,l)]=u[x])})}),a.advanced&&(c.optional=(c.optional||[]).concat(a.advanced)),c},i=function(a,c){if(e.version>=61)return c(a);if(a=JSON.parse(JSON.stringify(a)),a&&typeof a.audio=="object"){const l=function(u,f,x){f in u&&!(x in u)&&(u[x]=u[f],delete u[f])};a=JSON.parse(JSON.stringify(a)),l(a.audio,"autoGainControl","googAutoGainControl"),l(a.audio,"noiseSuppression","googNoiseSuppression"),a.audio=n(a.audio)}if(a&&typeof a.video=="object"){let l=a.video.facingMode;l=l&&(typeof l=="object"?l:{ideal:l});const u=e.version<66;if(l&&(l.exact==="user"||l.exact==="environment"||l.ideal==="user"||l.ideal==="environment")&&!(r.mediaDevices.getSupportedConstraints&&r.mediaDevices.getSupportedConstraints().facingMode&&!u)){delete a.video.facingMode;let f;if(l.exact==="environment"||l.ideal==="environment"?f=["back","rear"]:(l.exact==="user"||l.ideal==="user")&&(f=["front"]),f)return r.mediaDevices.enumerateDevices().then(x=>{x=x.filter(C=>C.kind==="videoinput");let h=x.find(C=>f.some(w=>C.label.toLowerCase().includes(w)));return!h&&x.length&&f.includes("back")&&(h=x[x.length-1]),h&&(a.video.deviceId=l.exact?{exact:h.deviceId}:{ideal:h.deviceId}),a.video=n(a.video),r7("chrome: "+JSON.stringify(a)),c(a)})}a.video=n(a.video)}return r7("chrome: "+JSON.stringify(a)),c(a)},s=function(a){return e.version>=64?a:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[a.name]||a.name,message:a.message,constraint:a.constraint||a.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},o=function(a,c,l){i(a,u=>{r.webkitGetUserMedia(u,c,f=>{l&&l(s(f))})})};if(r.getUserMedia=o.bind(r),r.mediaDevices.getUserMedia){const a=r.mediaDevices.getUserMedia.bind(r.mediaDevices);r.mediaDevices.getUserMedia=function(c){return i(c,l=>a(l).then(u=>{if(l.audio&&!u.getAudioTracks().length||l.video&&!u.getVideoTracks().length)throw u.getTracks().forEach(f=>{f.stop()}),new DOMException("","NotFoundError");return u},u=>Promise.reject(s(u))))}}}function $R(t,e){if(!(t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices)&&t.navigator.mediaDevices){if(typeof e!="function"){console.error("shimGetDisplayMedia: getSourceId argument is not a function");return}t.navigator.mediaDevices.getDisplayMedia=function(n){return e(n).then(i=>{const s=n.video&&n.video.width,o=n.video&&n.video.height,a=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:i,maxFrameRate:a||3}},s&&(n.video.mandatory.maxWidth=s),o&&(n.video.mandatory.maxHeight=o),t.navigator.mediaDevices.getUserMedia(n)})}}}function Hy(t){t.MediaStream=t.MediaStream||t.webkitMediaStream}function Vy(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("ontrack"in t.RTCPeerConnection.prototype)){Object.defineProperty(t.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(r){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=r)},enumerable:!0,configurable:!0});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=n=>{n.stream.addEventListener("addtrack",i=>{let s;t.RTCPeerConnection.prototype.getReceivers?s=this.getReceivers().find(a=>a.track&&a.track.id===i.track.id):s={track:i.track};const o=new Event("track");o.track=i.track,o.receiver=s,o.transceiver={receiver:s},o.streams=[n.stream],this.dispatchEvent(o)}),n.stream.getTracks().forEach(i=>{let s;t.RTCPeerConnection.prototype.getReceivers?s=this.getReceivers().find(a=>a.track&&a.track.id===i.id):s={track:i};const o=new Event("track");o.track=i,o.receiver=s,o.transceiver={receiver:s},o.streams=[n.stream],this.dispatchEvent(o)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else so(t,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function qy(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("getSenders"in t.RTCPeerConnection.prototype)&&"createDTMFSender"in t.RTCPeerConnection.prototype){const e=function(i,s){return{track:s,get dtmf(){return this._dtmf===void 0&&(s.kind==="audio"?this._dtmf=i.createDTMFSender(s):this._dtmf=null),this._dtmf},_pc:i}};if(!t.RTCPeerConnection.prototype.getSenders){t.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const i=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(a,c){let l=i.apply(this,arguments);return l||(l=e(this,a),this._senders.push(l)),l};const s=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(a){s.apply(this,arguments);const c=this._senders.indexOf(a);c!==-1&&this._senders.splice(c,1)}}const r=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(s){this._senders=this._senders||[],r.apply(this,[s]),s.getTracks().forEach(o=>{this._senders.push(e(this,o))})};const n=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(s){this._senders=this._senders||[],n.apply(this,[s]),s.getTracks().forEach(o=>{const a=this._senders.find(c=>c.track===o);a&&this._senders.splice(this._senders.indexOf(a),1)})}}else if(typeof t=="object"&&t.RTCPeerConnection&&"getSenders"in t.RTCPeerConnection.prototype&&"createDTMFSender"in t.RTCPeerConnection.prototype&&t.RTCRtpSender&&!("dtmf"in t.RTCRtpSender.prototype)){const e=t.RTCPeerConnection.prototype.getSenders;t.RTCPeerConnection.prototype.getSenders=function(){const n=e.apply(this,[]);return n.forEach(i=>i._pc=this),n},Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function Wy(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[n,i,s]=arguments;if(arguments.length>0&&typeof n=="function")return e.apply(this,arguments);if(e.length===0&&(arguments.length===0||typeof n!="function"))return e.apply(this,[]);const o=function(c){const l={};return c.result().forEach(f=>{const x={id:f.id,timestamp:f.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[f.type]||f.type};f.names().forEach(h=>{x[h]=f.stat(h)}),l[x.id]=x}),l},a=function(c){return new Map(Object.keys(c).map(l=>[l,c[l]]))};if(arguments.length>=2){const c=function(l){i(a(o(l)))};return e.apply(this,[c,n])}return new Promise((c,l)=>{e.apply(this,[function(u){c(a(o(u)))},l])}).then(i,s)}}function Gy(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver))return;if(!("getStats"in t.RTCRtpSender.prototype)){const r=t.RTCPeerConnection.prototype.getSenders;r&&(t.RTCPeerConnection.prototype.getSenders=function(){const s=r.apply(this,[]);return s.forEach(o=>o._pc=this),s});const n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){const s=n.apply(this,arguments);return s._pc=this,s}),t.RTCRtpSender.prototype.getStats=function(){const s=this;return this._pc.getStats().then(o=>t7(o,s.track,!0))}}if(!("getStats"in t.RTCRtpReceiver.prototype)){const r=t.RTCPeerConnection.prototype.getReceivers;r&&(t.RTCPeerConnection.prototype.getReceivers=function(){const i=r.apply(this,[]);return i.forEach(s=>s._pc=this),i}),so(t,"track",n=>(n.receiver._pc=n.srcElement,n)),t.RTCRtpReceiver.prototype.getStats=function(){const i=this;return this._pc.getStats().then(s=>t7(s,i.track,!1))}}if(!("getStats"in t.RTCRtpSender.prototype&&"getStats"in t.RTCRtpReceiver.prototype))return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof t.MediaStreamTrack){const n=arguments[0];let i,s,o;return this.getSenders().forEach(a=>{a.track===n&&(i?o=!0:i=a)}),this.getReceivers().forEach(a=>(a.track===n&&(s?o=!0:s=a),a.track===n)),o||i&&s?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):i?i.getStats():s?s.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function Yy(t){t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(o=>this._shimmedLocalStreams[o][0])};const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(o,a){if(!a)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const c=e.apply(this,arguments);return this._shimmedLocalStreams[a.id]?this._shimmedLocalStreams[a.id].indexOf(c)===-1&&this._shimmedLocalStreams[a.id].push(c):this._shimmedLocalStreams[a.id]=[a,c],c};const r=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(o){this._shimmedLocalStreams=this._shimmedLocalStreams||{},o.getTracks().forEach(l=>{if(this.getSenders().find(f=>f.track===l))throw new DOMException("Track already exists.","InvalidAccessError")});const a=this.getSenders();r.apply(this,arguments);const c=this.getSenders().filter(l=>a.indexOf(l)===-1);this._shimmedLocalStreams[o.id]=[o].concat(c)};const n=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[o.id],n.apply(this,arguments)};const i=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},o&&Object.keys(this._shimmedLocalStreams).forEach(a=>{const c=this._shimmedLocalStreams[a].indexOf(o);c!==-1&&this._shimmedLocalStreams[a].splice(c,1),this._shimmedLocalStreams[a].length===1&&delete this._shimmedLocalStreams[a]}),i.apply(this,arguments)}}function Jy(t,e){if(!t.RTCPeerConnection)return;if(t.RTCPeerConnection.prototype.addTrack&&e.version>=65)return Yy(t);const r=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){const u=r.apply(this);return this._reverseStreams=this._reverseStreams||{},u.map(f=>this._reverseStreams[f.id])};const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(u){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},u.getTracks().forEach(f=>{if(this.getSenders().find(h=>h.track===f))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[u.id]){const f=new t.MediaStream(u.getTracks());this._streams[u.id]=f,this._reverseStreams[f.id]=u,u=f}n.apply(this,[u])};const i=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(u){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[u.id]||u]),delete this._reverseStreams[this._streams[u.id]?this._streams[u.id].id:u.id],delete this._streams[u.id]},t.RTCPeerConnection.prototype.addTrack=function(u,f){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const x=[].slice.call(arguments,1);if(x.length!==1||!x[0].getTracks().find(w=>w===u))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(w=>w.track===u))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const C=this._streams[f.id];if(C)C.addTrack(u),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const w=new t.MediaStream([u]);this._streams[f.id]=w,this._reverseStreams[w.id]=f,this.addStream(w)}return this.getSenders().find(w=>w.track===u)};function s(l,u){let f=u.sdp;return Object.keys(l._reverseStreams||[]).forEach(x=>{const h=l._reverseStreams[x],C=l._streams[h.id];f=f.replace(new RegExp(C.id,"g"),h.id)}),new RTCSessionDescription({type:u.type,sdp:f})}function o(l,u){let f=u.sdp;return Object.keys(l._reverseStreams||[]).forEach(x=>{const h=l._reverseStreams[x],C=l._streams[h.id];f=f.replace(new RegExp(h.id,"g"),C.id)}),new RTCSessionDescription({type:u.type,sdp:f})}["createOffer","createAnswer"].forEach(function(l){const u=t.RTCPeerConnection.prototype[l],f={[l](){const x=arguments;return arguments.length&&typeof arguments[0]=="function"?u.apply(this,[C=>{const w=s(this,C);x[0].apply(null,[w])},C=>{x[1]&&x[1].apply(null,C)},arguments[2]]):u.apply(this,arguments).then(C=>s(this,C))}};t.RTCPeerConnection.prototype[l]=f[l]});const a=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?a.apply(this,arguments):(arguments[0]=o(this,arguments[0]),a.apply(this,arguments))};const c=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(t.RTCPeerConnection.prototype,"localDescription",{get(){const l=c.get.apply(this);return l.type===""?l:s(this,l)}}),t.RTCPeerConnection.prototype.removeTrack=function(u){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!u._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(u._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let x;Object.keys(this._streams).forEach(h=>{this._streams[h].getTracks().find(w=>u.track===w)&&(x=this._streams[h])}),x&&(x.getTracks().length===1?this.removeStream(this._reverseStreams[x.id]):x.removeTrack(u.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Nh(t,e){!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=t.webkitRTCPeerConnection),t.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(r){const n=t.RTCPeerConnection.prototype[r],i={[r](){return arguments[0]=new(r==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};t.RTCPeerConnection.prototype[r]=i[r]})}function Xy(t,e){so(t,"negotiationneeded",r=>{const n=r.target;if(!((e.version<72||n.getConfiguration&&n.getConfiguration().sdpSemantics==="plan-b")&&n.signalingState!=="stable"))return r})}const n7=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:Xy,shimAddTrackRemoveTrack:Jy,shimAddTrackRemoveTrackWithNative:Yy,shimGetDisplayMedia:$R,shimGetSendersWithDtmf:qy,shimGetStats:Wy,shimGetUserMedia:jy,shimMediaStream:Hy,shimOnTrack:Vy,shimPeerConnection:Nh,shimSenderReceiverGetStats:Gy},Symbol.toStringTag,{value:"Module"}));function Qy(t,e){const r=t&&t.navigator,n=t&&t.MediaStreamTrack;if(r.getUserMedia=function(i,s,o){U9("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),r.mediaDevices.getUserMedia(i).then(s,o)},!(e.version>55&&"autoGainControl"in r.mediaDevices.getSupportedConstraints())){const i=function(o,a,c){a in o&&!(c in o)&&(o[c]=o[a],delete o[a])},s=r.mediaDevices.getUserMedia.bind(r.mediaDevices);if(r.mediaDevices.getUserMedia=function(o){return typeof o=="object"&&typeof o.audio=="object"&&(o=JSON.parse(JSON.stringify(o)),i(o.audio,"autoGainControl","mozAutoGainControl"),i(o.audio,"noiseSuppression","mozNoiseSuppression")),s(o)},n&&n.prototype.getSettings){const o=n.prototype.getSettings;n.prototype.getSettings=function(){const a=o.apply(this,arguments);return i(a,"mozAutoGainControl","autoGainControl"),i(a,"mozNoiseSuppression","noiseSuppression"),a}}if(n&&n.prototype.applyConstraints){const o=n.prototype.applyConstraints;n.prototype.applyConstraints=function(a){return this.kind==="audio"&&typeof a=="object"&&(a=JSON.parse(JSON.stringify(a)),i(a,"autoGainControl","mozAutoGainControl"),i(a,"noiseSuppression","mozNoiseSuppression")),o.apply(this,[a])}}}}function zR(t,e){t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||t.navigator.mediaDevices&&(t.navigator.mediaDevices.getDisplayMedia=function(n){if(!(n&&n.video)){const i=new DOMException("getDisplayMedia without video constraints is undefined");return i.name="NotFoundError",i.code=8,Promise.reject(i)}return n.video===!0?n.video={mediaSource:e}:n.video.mediaSource=e,t.navigator.mediaDevices.getUserMedia(n)})}function Zy(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Kh(t,e){if(typeof t!="object"||!(t.RTCPeerConnection||t.mozRTCPeerConnection))return;!t.RTCPeerConnection&&t.mozRTCPeerConnection&&(t.RTCPeerConnection=t.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(i){const s=t.RTCPeerConnection.prototype[i],o={[i](){return arguments[0]=new(i==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),s.apply(this,arguments)}};t.RTCPeerConnection.prototype[i]=o[i]});const r={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},n=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[s,o,a]=arguments;return n.apply(this,[s||null]).then(c=>{if(e.version<53&&!o)try{c.forEach(l=>{l.type=r[l.type]||l.type})}catch(l){if(l.name!=="TypeError")throw l;c.forEach((u,f)=>{c.set(f,Object.assign({},u,{type:r[u.type]||u.type}))})}return c}).then(o,a)}}function eE(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpSender.prototype)return;const e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){const i=e.apply(this,[]);return i.forEach(s=>s._pc=this),i});const r=t.RTCPeerConnection.prototype.addTrack;r&&(t.RTCPeerConnection.prototype.addTrack=function(){const i=r.apply(this,arguments);return i._pc=this,i}),t.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function tE(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpReceiver.prototype)return;const e=t.RTCPeerConnection.prototype.getReceivers;e&&(t.RTCPeerConnection.prototype.getReceivers=function(){const n=e.apply(this,[]);return n.forEach(i=>i._pc=this),n}),so(t,"track",r=>(r.receiver._pc=r.srcElement,r)),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function rE(t){!t.RTCPeerConnection||"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(r){U9("removeStream","removeTrack"),this.getSenders().forEach(n=>{n.track&&r.getTracks().includes(n.track)&&this.removeTrack(n)})})}function nE(t){t.DataChannel&&!t.RTCDataChannel&&(t.RTCDataChannel=t.DataChannel)}function iE(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.addTransceiver;e&&(t.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let n=arguments[1]&&arguments[1].sendEncodings;n===void 0&&(n=[]),n=[...n];const i=n.length>0;i&&n.forEach(o=>{if("rid"in o&&!/^[a-z0-9]{0,16}$/i.test(o.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in o&&!(parseFloat(o.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in o&&!(parseFloat(o.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const s=e.apply(this,arguments);if(i){const{sender:o}=s,a=o.getParameters();(!("encodings"in a)||a.encodings.length===1&&Object.keys(a.encodings[0]).length===0)&&(a.encodings=n,o.sendEncodings=n,this.setParametersPromises.push(o.setParameters(a).then(()=>{delete o.sendEncodings}).catch(()=>{delete o.sendEncodings})))}return s})}function sE(t){if(!(typeof t=="object"&&t.RTCRtpSender))return;const e=t.RTCRtpSender.prototype.getParameters;e&&(t.RTCRtpSender.prototype.getParameters=function(){const n=e.apply(this,arguments);return"encodings"in n||(n.encodings=[].concat(this.sendEncodings||[{}])),n})}function oE(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function aE(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createAnswer;t.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}const i7=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:iE,shimCreateAnswer:aE,shimCreateOffer:oE,shimGetDisplayMedia:zR,shimGetParameters:sE,shimGetUserMedia:Qy,shimOnTrack:Zy,shimPeerConnection:Kh,shimRTCDataChannel:nE,shimReceiverGetStats:tE,shimRemoveStream:rE,shimSenderGetStats:eE},Symbol.toStringTag,{value:"Module"}));function cE(t){if(!(typeof t!="object"||!t.RTCPeerConnection)){if("getLocalStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in t.RTCPeerConnection.prototype)){const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(n){this._localStreams||(this._localStreams=[]),this._localStreams.includes(n)||this._localStreams.push(n),n.getAudioTracks().forEach(i=>e.call(this,i,n)),n.getVideoTracks().forEach(i=>e.call(this,i,n))},t.RTCPeerConnection.prototype.addTrack=function(n,...i){return i&&i.forEach(s=>{this._localStreams?this._localStreams.includes(s)||this._localStreams.push(s):this._localStreams=[s]}),e.apply(this,arguments)}}"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(r){this._localStreams||(this._localStreams=[]);const n=this._localStreams.indexOf(r);if(n===-1)return;this._localStreams.splice(n,1);const i=r.getTracks();this.getSenders().forEach(s=>{i.includes(s.track)&&this.removeTrack(s)})})}}function lE(t){if(!(typeof t!="object"||!t.RTCPeerConnection)&&("getRemoteStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in t.RTCPeerConnection.prototype))){Object.defineProperty(t.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(r){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=r),this.addEventListener("track",this._onaddstreampoly=n=>{n.streams.forEach(i=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(i))return;this._remoteStreams.push(i);const s=new Event("addstream");s.stream=i,this.dispatchEvent(s)})})}});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){const n=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(i){i.streams.forEach(s=>{if(n._remoteStreams||(n._remoteStreams=[]),n._remoteStreams.indexOf(s)>=0)return;n._remoteStreams.push(s);const o=new Event("addstream");o.stream=s,n.dispatchEvent(o)})}),e.apply(n,arguments)}}}function uE(t){if(typeof t!="object"||!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype,r=e.createOffer,n=e.createAnswer,i=e.setLocalDescription,s=e.setRemoteDescription,o=e.addIceCandidate;e.createOffer=function(l,u){const f=arguments.length>=2?arguments[2]:arguments[0],x=r.apply(this,[f]);return u?(x.then(l,u),Promise.resolve()):x},e.createAnswer=function(l,u){const f=arguments.length>=2?arguments[2]:arguments[0],x=n.apply(this,[f]);return u?(x.then(l,u),Promise.resolve()):x};let a=function(c,l,u){const f=i.apply(this,[c]);return u?(f.then(l,u),Promise.resolve()):f};e.setLocalDescription=a,a=function(c,l,u){const f=s.apply(this,[c]);return u?(f.then(l,u),Promise.resolve()):f},e.setRemoteDescription=a,a=function(c,l,u){const f=o.apply(this,[c]);return u?(f.then(l,u),Promise.resolve()):f},e.addIceCandidate=a}function fE(t){const e=t&&t.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const r=e.mediaDevices,n=r.getUserMedia.bind(r);e.mediaDevices.getUserMedia=i=>n(dE(i))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=(function(n,i,s){e.mediaDevices.getUserMedia(n).then(i,s)}).bind(e))}function dE(t){return t&&t.video!==void 0?Object.assign({},t,{video:zy(t.video)}):t}function xE(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection;t.RTCPeerConnection=function(n,i){if(n&&n.iceServers){const s=[];for(let o=0;o<n.iceServers.length;o++){let a=n.iceServers[o];a.urls===void 0&&a.url?(U9("RTCIceServer.url","RTCIceServer.urls"),a=JSON.parse(JSON.stringify(a)),a.urls=a.url,delete a.url,s.push(a)):s.push(n.iceServers[o])}n.iceServers=s}return new e(n,i)},t.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function hE(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function pE(t){const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(n){if(n){typeof n.offerToReceiveAudio<"u"&&(n.offerToReceiveAudio=!!n.offerToReceiveAudio);const i=this.getTransceivers().find(o=>o.receiver.track.kind==="audio");n.offerToReceiveAudio===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):n.offerToReceiveAudio===!0&&!i&&this.addTransceiver("audio",{direction:"recvonly"}),typeof n.offerToReceiveVideo<"u"&&(n.offerToReceiveVideo=!!n.offerToReceiveVideo);const s=this.getTransceivers().find(o=>o.receiver.track.kind==="video");n.offerToReceiveVideo===!1&&s?s.direction==="sendrecv"?s.setDirection?s.setDirection("sendonly"):s.direction="sendonly":s.direction==="recvonly"&&(s.setDirection?s.setDirection("inactive"):s.direction="inactive"):n.offerToReceiveVideo===!0&&!s&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function mE(t){typeof t!="object"||t.AudioContext||(t.AudioContext=t.webkitAudioContext)}const s7=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:mE,shimCallbacksAPI:uE,shimConstraints:dE,shimCreateOfferLegacy:pE,shimGetUserMedia:fE,shimLocalStreamsAPI:cE,shimRTCIceServerUrls:xE,shimRemoteStreamsAPI:lE,shimTrackEventTransceiver:hE},Symbol.toStringTag,{value:"Module"}));var gE={exports:{}};(function(t){const e={};e.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},e.localCName=e.generateIdentifier(),e.splitLines=function(r){return r.trim().split(`
`).map(n=>n.trim())},e.splitSections=function(r){return r.split(`
m=`).map((i,s)=>(s>0?"m="+i:i).trim()+`\r
`)},e.getDescription=function(r){const n=e.splitSections(r);return n&&n[0]},e.getMediaSections=function(r){const n=e.splitSections(r);return n.shift(),n},e.matchPrefix=function(r,n){return e.splitLines(r).filter(i=>i.indexOf(n)===0)},e.parseCandidate=function(r){let n;r.indexOf("a=candidate:")===0?n=r.substring(12).split(" "):n=r.substring(10).split(" ");const i={foundation:n[0],component:{1:"rtp",2:"rtcp"}[n[1]]||n[1],protocol:n[2].toLowerCase(),priority:parseInt(n[3],10),ip:n[4],address:n[4],port:parseInt(n[5],10),type:n[7]};for(let s=8;s<n.length;s+=2)switch(n[s]){case"raddr":i.relatedAddress=n[s+1];break;case"rport":i.relatedPort=parseInt(n[s+1],10);break;case"tcptype":i.tcpType=n[s+1];break;case"ufrag":i.ufrag=n[s+1],i.usernameFragment=n[s+1];break;default:i[n[s]]===void 0&&(i[n[s]]=n[s+1]);break}return i},e.writeCandidate=function(r){const n=[];n.push(r.foundation);const i=r.component;i==="rtp"?n.push(1):i==="rtcp"?n.push(2):n.push(i),n.push(r.protocol.toUpperCase()),n.push(r.priority),n.push(r.address||r.ip),n.push(r.port);const s=r.type;return n.push("typ"),n.push(s),s!=="host"&&r.relatedAddress&&r.relatedPort&&(n.push("raddr"),n.push(r.relatedAddress),n.push("rport"),n.push(r.relatedPort)),r.tcpType&&r.protocol.toLowerCase()==="tcp"&&(n.push("tcptype"),n.push(r.tcpType)),(r.usernameFragment||r.ufrag)&&(n.push("ufrag"),n.push(r.usernameFragment||r.ufrag)),"candidate:"+n.join(" ")},e.parseIceOptions=function(r){return r.substring(14).split(" ")},e.parseRtpMap=function(r){let n=r.substring(9).split(" ");const i={payloadType:parseInt(n.shift(),10)};return n=n[0].split("/"),i.name=n[0],i.clockRate=parseInt(n[1],10),i.channels=n.length===3?parseInt(n[2],10):1,i.numChannels=i.channels,i},e.writeRtpMap=function(r){let n=r.payloadType;r.preferredPayloadType!==void 0&&(n=r.preferredPayloadType);const i=r.channels||r.numChannels||1;return"a=rtpmap:"+n+" "+r.name+"/"+r.clockRate+(i!==1?"/"+i:"")+`\r
`},e.parseExtmap=function(r){const n=r.substring(9).split(" ");return{id:parseInt(n[0],10),direction:n[0].indexOf("/")>0?n[0].split("/")[1]:"sendrecv",uri:n[1],attributes:n.slice(2).join(" ")}},e.writeExtmap=function(r){return"a=extmap:"+(r.id||r.preferredId)+(r.direction&&r.direction!=="sendrecv"?"/"+r.direction:"")+" "+r.uri+(r.attributes?" "+r.attributes:"")+`\r
`},e.parseFmtp=function(r){const n={};let i;const s=r.substring(r.indexOf(" ")+1).split(";");for(let o=0;o<s.length;o++)i=s[o].trim().split("="),n[i[0].trim()]=i[1];return n},e.writeFmtp=function(r){let n="",i=r.payloadType;if(r.preferredPayloadType!==void 0&&(i=r.preferredPayloadType),r.parameters&&Object.keys(r.parameters).length){const s=[];Object.keys(r.parameters).forEach(o=>{r.parameters[o]!==void 0?s.push(o+"="+r.parameters[o]):s.push(o)}),n+="a=fmtp:"+i+" "+s.join(";")+`\r
`}return n},e.parseRtcpFb=function(r){const n=r.substring(r.indexOf(" ")+1).split(" ");return{type:n.shift(),parameter:n.join(" ")}},e.writeRtcpFb=function(r){let n="",i=r.payloadType;return r.preferredPayloadType!==void 0&&(i=r.preferredPayloadType),r.rtcpFeedback&&r.rtcpFeedback.length&&r.rtcpFeedback.forEach(s=>{n+="a=rtcp-fb:"+i+" "+s.type+(s.parameter&&s.parameter.length?" "+s.parameter:"")+`\r
`}),n},e.parseSsrcMedia=function(r){const n=r.indexOf(" "),i={ssrc:parseInt(r.substring(7,n),10)},s=r.indexOf(":",n);return s>-1?(i.attribute=r.substring(n+1,s),i.value=r.substring(s+1)):i.attribute=r.substring(n+1),i},e.parseSsrcGroup=function(r){const n=r.substring(13).split(" ");return{semantics:n.shift(),ssrcs:n.map(i=>parseInt(i,10))}},e.getMid=function(r){const n=e.matchPrefix(r,"a=mid:")[0];if(n)return n.substring(6)},e.parseFingerprint=function(r){const n=r.substring(14).split(" ");return{algorithm:n[0].toLowerCase(),value:n[1].toUpperCase()}},e.getDtlsParameters=function(r,n){return{role:"auto",fingerprints:e.matchPrefix(r+n,"a=fingerprint:").map(e.parseFingerprint)}},e.writeDtlsParameters=function(r,n){let i="a=setup:"+n+`\r
`;return r.fingerprints.forEach(s=>{i+="a=fingerprint:"+s.algorithm+" "+s.value+`\r
`}),i},e.parseCryptoLine=function(r){const n=r.substring(9).split(" ");return{tag:parseInt(n[0],10),cryptoSuite:n[1],keyParams:n[2],sessionParams:n.slice(3)}},e.writeCryptoLine=function(r){return"a=crypto:"+r.tag+" "+r.cryptoSuite+" "+(typeof r.keyParams=="object"?e.writeCryptoKeyParams(r.keyParams):r.keyParams)+(r.sessionParams?" "+r.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(r){if(r.indexOf("inline:")!==0)return null;const n=r.substring(7).split("|");return{keyMethod:"inline",keySalt:n[0],lifeTime:n[1],mkiValue:n[2]?n[2].split(":")[0]:void 0,mkiLength:n[2]?n[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(r){return r.keyMethod+":"+r.keySalt+(r.lifeTime?"|"+r.lifeTime:"")+(r.mkiValue&&r.mkiLength?"|"+r.mkiValue+":"+r.mkiLength:"")},e.getCryptoParameters=function(r,n){return e.matchPrefix(r+n,"a=crypto:").map(e.parseCryptoLine)},e.getIceParameters=function(r,n){const i=e.matchPrefix(r+n,"a=ice-ufrag:")[0],s=e.matchPrefix(r+n,"a=ice-pwd:")[0];return i&&s?{usernameFragment:i.substring(12),password:s.substring(10)}:null},e.writeIceParameters=function(r){let n="a=ice-ufrag:"+r.usernameFragment+`\r
a=ice-pwd:`+r.password+`\r
`;return r.iceLite&&(n+=`a=ice-lite\r
`),n},e.parseRtpParameters=function(r){const n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},s=e.splitLines(r)[0].split(" ");n.profile=s[2];for(let a=3;a<s.length;a++){const c=s[a],l=e.matchPrefix(r,"a=rtpmap:"+c+" ")[0];if(l){const u=e.parseRtpMap(l),f=e.matchPrefix(r,"a=fmtp:"+c+" ");switch(u.parameters=f.length?e.parseFmtp(f[0]):{},u.rtcpFeedback=e.matchPrefix(r,"a=rtcp-fb:"+c+" ").map(e.parseRtcpFb),n.codecs.push(u),u.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(u.name.toUpperCase());break}}}e.matchPrefix(r,"a=extmap:").forEach(a=>{n.headerExtensions.push(e.parseExtmap(a))});const o=e.matchPrefix(r,"a=rtcp-fb:* ").map(e.parseRtcpFb);return n.codecs.forEach(a=>{o.forEach(c=>{a.rtcpFeedback.find(u=>u.type===c.type&&u.parameter===c.parameter)||a.rtcpFeedback.push(c)})}),n},e.writeRtpDescription=function(r,n){let i="";i+="m="+r+" ",i+=n.codecs.length>0?"9":"0",i+=" "+(n.profile||"UDP/TLS/RTP/SAVPF")+" ",i+=n.codecs.map(o=>o.preferredPayloadType!==void 0?o.preferredPayloadType:o.payloadType).join(" ")+`\r
`,i+=`c=IN IP4 0.0.0.0\r
`,i+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,n.codecs.forEach(o=>{i+=e.writeRtpMap(o),i+=e.writeFmtp(o),i+=e.writeRtcpFb(o)});let s=0;return n.codecs.forEach(o=>{o.maxptime>s&&(s=o.maxptime)}),s>0&&(i+="a=maxptime:"+s+`\r
`),n.headerExtensions&&n.headerExtensions.forEach(o=>{i+=e.writeExtmap(o)}),i},e.parseRtpEncodingParameters=function(r){const n=[],i=e.parseRtpParameters(r),s=i.fecMechanisms.indexOf("RED")!==-1,o=i.fecMechanisms.indexOf("ULPFEC")!==-1,a=e.matchPrefix(r,"a=ssrc:").map(x=>e.parseSsrcMedia(x)).filter(x=>x.attribute==="cname"),c=a.length>0&&a[0].ssrc;let l;const u=e.matchPrefix(r,"a=ssrc-group:FID").map(x=>x.substring(17).split(" ").map(C=>parseInt(C,10)));u.length>0&&u[0].length>1&&u[0][0]===c&&(l=u[0][1]),i.codecs.forEach(x=>{if(x.name.toUpperCase()==="RTX"&&x.parameters.apt){let h={ssrc:c,codecPayloadType:parseInt(x.parameters.apt,10)};c&&l&&(h.rtx={ssrc:l}),n.push(h),s&&(h=JSON.parse(JSON.stringify(h)),h.fec={ssrc:c,mechanism:o?"red+ulpfec":"red"},n.push(h))}}),n.length===0&&c&&n.push({ssrc:c});let f=e.matchPrefix(r,"b=");return f.length&&(f[0].indexOf("b=TIAS:")===0?f=parseInt(f[0].substring(7),10):f[0].indexOf("b=AS:")===0?f=parseInt(f[0].substring(5),10)*1e3*.95-50*40*8:f=void 0,n.forEach(x=>{x.maxBitrate=f})),n},e.parseRtcpParameters=function(r){const n={},i=e.matchPrefix(r,"a=ssrc:").map(a=>e.parseSsrcMedia(a)).filter(a=>a.attribute==="cname")[0];i&&(n.cname=i.value,n.ssrc=i.ssrc);const s=e.matchPrefix(r,"a=rtcp-rsize");n.reducedSize=s.length>0,n.compound=s.length===0;const o=e.matchPrefix(r,"a=rtcp-mux");return n.mux=o.length>0,n},e.writeRtcpParameters=function(r){let n="";return r.reducedSize&&(n+=`a=rtcp-rsize\r
`),r.mux&&(n+=`a=rtcp-mux\r
`),r.ssrc!==void 0&&r.cname&&(n+="a=ssrc:"+r.ssrc+" cname:"+r.cname+`\r
`),n},e.parseMsid=function(r){let n;const i=e.matchPrefix(r,"a=msid:");if(i.length===1)return n=i[0].substring(7).split(" "),{stream:n[0],track:n[1]};const s=e.matchPrefix(r,"a=ssrc:").map(o=>e.parseSsrcMedia(o)).filter(o=>o.attribute==="msid");if(s.length>0)return n=s[0].value.split(" "),{stream:n[0],track:n[1]}},e.parseSctpDescription=function(r){const n=e.parseMLine(r),i=e.matchPrefix(r,"a=max-message-size:");let s;i.length>0&&(s=parseInt(i[0].substring(19),10)),isNaN(s)&&(s=65536);const o=e.matchPrefix(r,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substring(12),10),protocol:n.fmt,maxMessageSize:s};const a=e.matchPrefix(r,"a=sctpmap:");if(a.length>0){const c=a[0].substring(10).split(" ");return{port:parseInt(c[0],10),protocol:c[1],maxMessageSize:s}}},e.writeSctpDescription=function(r,n){let i=[];return r.protocol!=="DTLS/SCTP"?i=["m="+r.kind+" 9 "+r.protocol+" "+n.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+n.port+`\r
`]:i=["m="+r.kind+" 9 "+r.protocol+" "+n.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+n.port+" "+n.protocol+` 65535\r
`],n.maxMessageSize!==void 0&&i.push("a=max-message-size:"+n.maxMessageSize+`\r
`),i.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,22)},e.writeSessionBoilerplate=function(r,n,i){let s;const o=n!==void 0?n:2;return r?s=r:s=e.generateSessionId(),`v=0\r
o=`+(i||"thisisadapterortc")+" "+s+" "+o+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.getDirection=function(r,n){const i=e.splitLines(r);for(let s=0;s<i.length;s++)switch(i[s]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[s].substring(2)}return n?e.getDirection(n):"sendrecv"},e.getKind=function(r){return e.splitLines(r)[0].split(" ")[0].substring(2)},e.isRejected=function(r){return r.split(" ",2)[1]==="0"},e.parseMLine=function(r){const i=e.splitLines(r)[0].substring(2).split(" ");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}},e.parseOLine=function(r){const i=e.matchPrefix(r,"o=")[0].substring(2).split(" ");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},e.isValidSDP=function(r){if(typeof r!="string"||r.length===0)return!1;const n=e.splitLines(r);for(let i=0;i<n.length;i++)if(n[i].length<2||n[i].charAt(1)!=="=")return!1;return!0},t.exports=e})(gE);var yE=gE.exports;const Ho=tm(yE),jR=Eb({__proto__:null,default:Ho},[yE]);function vu(t){if(!t.RTCIceCandidate||t.RTCIceCandidate&&"foundation"in t.RTCIceCandidate.prototype)return;const e=t.RTCIceCandidate;t.RTCIceCandidate=function(n){if(typeof n=="object"&&n.candidate&&n.candidate.indexOf("a=")===0&&(n=JSON.parse(JSON.stringify(n)),n.candidate=n.candidate.substring(2)),n.candidate&&n.candidate.length){const i=new e(n),s=Ho.parseCandidate(n.candidate);for(const o in s)o in i||Object.defineProperty(i,o,{value:s[o]});return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new e(n)},t.RTCIceCandidate.prototype=e.prototype,so(t,"icecandidate",r=>(r.candidate&&Object.defineProperty(r,"candidate",{value:new t.RTCIceCandidate(r.candidate),writable:"false"}),r))}function Uh(t){!t.RTCIceCandidate||t.RTCIceCandidate&&"relayProtocol"in t.RTCIceCandidate.prototype||so(t,"icecandidate",e=>{if(e.candidate){const r=Ho.parseCandidate(e.candidate.candidate);r.type==="relay"&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[r.priority>>24])}return e})}function _u(t,e){if(!t.RTCPeerConnection)return;"sctp"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const r=function(a){if(!a||!a.sdp)return!1;const c=Ho.splitSections(a.sdp);return c.shift(),c.some(l=>{const u=Ho.parseMLine(l);return u&&u.kind==="application"&&u.protocol.indexOf("SCTP")!==-1})},n=function(a){const c=a.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(c===null||c.length<2)return-1;const l=parseInt(c[1],10);return l!==l?-1:l},i=function(a){let c=65536;return e.browser==="firefox"&&(e.version<57?a===-1?c=16384:c=2147483637:e.version<60?c=e.version===57?65535:65536:c=2147483637),c},s=function(a,c){let l=65536;e.browser==="firefox"&&e.version===57&&(l=65535);const u=Ho.matchPrefix(a.sdp,"a=max-message-size:");return u.length>0?l=parseInt(u[0].substring(19),10):e.browser==="firefox"&&c!==-1&&(l=2147483637),l},o=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){const{sdpSemantics:c}=this.getConfiguration();c==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(r(arguments[0])){const c=n(arguments[0]),l=i(c),u=s(arguments[0],c);let f;l===0&&u===0?f=Number.POSITIVE_INFINITY:l===0||u===0?f=Math.max(l,u):f=Math.min(l,u);const x={};Object.defineProperty(x,"maxMessageSize",{get(){return f}}),this._sctp=x}return o.apply(this,arguments)}}function wu(t){if(!(t.RTCPeerConnection&&"createDataChannel"in t.RTCPeerConnection.prototype))return;function e(n,i){const s=n.send;n.send=function(){const a=arguments[0],c=a.length||a.size||a.byteLength;if(n.readyState==="open"&&i.sctp&&c>i.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+i.sctp.maxMessageSize+" bytes)");return s.apply(n,arguments)}}const r=t.RTCPeerConnection.prototype.createDataChannel;t.RTCPeerConnection.prototype.createDataChannel=function(){const i=r.apply(this,arguments);return e(i,this),i},so(t,"datachannel",n=>(e(n.channel,n.target),n))}function $h(t){if(!t.RTCPeerConnection||"connectionState"in t.RTCPeerConnection.prototype)return;const e=t.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(r){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),r&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=r)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(r=>{const n=e[r];e[r]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=i=>{const s=i.target;if(s._lastConnectionState!==s.connectionState){s._lastConnectionState=s.connectionState;const o=new Event("connectionstatechange",i);s.dispatchEvent(o)}return i},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}})}function zh(t,e){if(!t.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e.version>=605)return;const r=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(i){if(i&&i.sdp&&i.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const s=i.sdp.split(`
`).filter(o=>o.trim()!=="a=extmap-allow-mixed").join(`
`);t.RTCSessionDescription&&i instanceof t.RTCSessionDescription?arguments[0]=new t.RTCSessionDescription({type:i.type,sdp:s}):i.sdp=s}return r.apply(this,arguments)}}function Bu(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const r=t.RTCPeerConnection.prototype.addIceCandidate;!r||r.length===0||(t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():r.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Du(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const r=t.RTCPeerConnection.prototype.setLocalDescription;!r||r.length===0||(t.RTCPeerConnection.prototype.setLocalDescription=function(){let i=arguments[0]||{};if(typeof i!="object"||i.type&&i.sdp)return r.apply(this,arguments);if(i={type:i.type,sdp:i.sdp},!i.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":i.type="offer";break;default:i.type="answer";break}return i.sdp||i.type!=="offer"&&i.type!=="answer"?r.apply(this,[i]):(i.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(o=>r.apply(this,[o]))})}const HR=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:zh,shimAddIceCandidateNullOrEmpty:Bu,shimConnectionState:$h,shimMaxMessageSize:_u,shimParameterlessSetLocalDescription:Du,shimRTCIceCandidate:vu,shimRTCIceCandidateRelayProtocol:Uh,shimSendThrowTypeError:wu},Symbol.toStringTag,{value:"Module"}));function VR({window:t}={},e={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const r=$y,n=UR(t),i={browserDetails:n,commonShim:HR,extractVersion:Au,disableLog:NR,disableWarnings:KR,sdp:jR};switch(n.browser){case"chrome":if(!n7||!Nh||!e.shimChrome)return r("Chrome shim is not included in this adapter release."),i;if(n.version===null)return r("Chrome shim can not determine version, not shimming."),i;r("adapter.js shimming chrome."),i.browserShim=n7,Bu(t,n),Du(t),jy(t,n),Hy(t),Nh(t,n),Vy(t),Jy(t,n),qy(t),Wy(t),Gy(t),Xy(t,n),vu(t),Uh(t),$h(t),_u(t,n),wu(t),zh(t,n);break;case"firefox":if(!i7||!Kh||!e.shimFirefox)return r("Firefox shim is not included in this adapter release."),i;r("adapter.js shimming firefox."),i.browserShim=i7,Bu(t,n),Du(t),Qy(t,n),Kh(t,n),Zy(t),rE(t),eE(t),tE(t),nE(t),iE(t),sE(t),oE(t),aE(t),vu(t),$h(t),_u(t,n),wu(t);break;case"safari":if(!s7||!e.shimSafari)return r("Safari shim is not included in this adapter release."),i;r("adapter.js shimming safari."),i.browserShim=s7,Bu(t,n),Du(t),xE(t),pE(t),uE(t),cE(t),lE(t),hE(t),fE(t),mE(t),vu(t),Uh(t),_u(t,n),wu(t),zh(t,n);break;default:r("Unsupported browser!");break}return i}const o7=VR({window:typeof window>"u"?void 0:window});let jh;try{jh=new TextDecoder}catch{}let Ie,L0,Ce=0;const qR=105,WR=57342,GR=57343,a7=57337,c7=6,mo={};let ot={},Mt,Ff,Sf=0,Uc=0,jt,An,Ut=[],Hh=[],Nr,Ar,Za,l7={useRecords:!1,mapsAsObjects:!0},$c=!1,EE=2;try{new Function("")}catch{EE=1/0}class zc{constructor(e){if(e&&((e.keyMap||e._keyMap)&&!e.useRecords&&(e.useRecords=!1,e.mapsAsObjects=!0),e.useRecords===!1&&e.mapsAsObjects===void 0&&(e.mapsAsObjects=!0),e.getStructures&&(e.getShared=e.getStructures),e.getShared&&!e.structures&&((e.structures=[]).uninitialized=!0),e.keyMap)){this.mapKey=new Map;for(let[r,n]of Object.entries(e.keyMap))this.mapKey.set(n,r)}Object.assign(this,e)}decodeKey(e){return this.keyMap&&this.mapKey.get(e)||e}encodeKey(e){return this.keyMap&&this.keyMap.hasOwnProperty(e)?this.keyMap[e]:e}encodeKeys(e){if(!this._keyMap)return e;let r=new Map;for(let[n,i]of Object.entries(e))r.set(this._keyMap.hasOwnProperty(n)?this._keyMap[n]:n,i);return r}decodeKeys(e){if(!this._keyMap||e.constructor.name!="Map")return e;if(!this._mapKey){this._mapKey=new Map;for(let[n,i]of Object.entries(this._keyMap))this._mapKey.set(i,n)}let r={};return e.forEach((n,i)=>r[fn(this._mapKey.has(i)?this._mapKey.get(i):i)]=n),r}mapDecode(e,r){let n=this.decode(e);if(this._keyMap)switch(n.constructor.name){case"Array":return n.map(i=>this.decodeKeys(i))}return n}decode(e,r){if(Ie)return vE(()=>(Gh(),this?this.decode(e,r):zc.prototype.decode.call(l7,e,r)));L0=r>-1?r:e.length,Ce=0,Uc=0,Ff=null,jt=null,Ie=e;try{Ar=e.dataView||(e.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength))}catch(n){throw Ie=null,e instanceof Uint8Array?n:new Error("Source must be a Uint8Array or Buffer but was a "+(e&&typeof e=="object"?e.constructor.name:typeof e))}if(this instanceof zc){if(ot=this,Nr=this.sharedValues&&(this.pack?new Array(this.maxPrivatePackedValues||16).concat(this.sharedValues):this.sharedValues),this.structures)return Mt=this.structures,eu();(!Mt||Mt.length>0)&&(Mt=[])}else ot=l7,(!Mt||Mt.length>0)&&(Mt=[]),Nr=null;return eu()}decodeMultiple(e,r){let n,i=0;try{let s=e.length;$c=!0;let o=this?this.decode(e,s):j9.decode(e,s);if(r){if(r(o)===!1)return;for(;Ce<s;)if(i=Ce,r(eu())===!1)return}else{for(n=[o];Ce<s;)i=Ce,n.push(eu());return n}}catch(s){throw s.lastPosition=i,s.values=n,s}finally{$c=!1,Gh()}}}function eu(){try{let t=it();if(jt){if(Ce>=jt.postBundlePosition){let e=new Error("Unexpected bundle position");throw e.incomplete=!0,e}Ce=jt.postBundlePosition,jt=null}if(Ce==L0)Mt=null,Ie=null,An&&(An=null);else if(Ce>L0){let e=new Error("Unexpected end of CBOR data");throw e.incomplete=!0,e}else if(!$c)throw new Error("Data read, but end of buffer not reached");return t}catch(t){throw Gh(),(t instanceof RangeError||t.message.startsWith("Unexpected end of buffer"))&&(t.incomplete=!0),t}}function it(){let t=Ie[Ce++],e=t>>5;if(t=t&31,t>23)switch(t){case 24:t=Ie[Ce++];break;case 25:if(e==7)return QR();t=Ar.getUint16(Ce),Ce+=2;break;case 26:if(e==7){let r=Ar.getFloat32(Ce);if(ot.useFloat32>2){let n=z9[(Ie[Ce]&127)<<1|Ie[Ce+1]>>7];return Ce+=4,(n*r+(r>0?.5:-.5)>>0)/n}return Ce+=4,r}t=Ar.getUint32(Ce),Ce+=4;break;case 27:if(e==7){let r=Ar.getFloat64(Ce);return Ce+=8,r}if(e>1){if(Ar.getUint32(Ce)>0)throw new Error("JavaScript does not support arrays, maps, or strings with length over 4294967295");t=Ar.getUint32(Ce+4)}else ot.int64AsNumber?(t=Ar.getUint32(Ce)*4294967296,t+=Ar.getUint32(Ce+4)):t=Ar.getBigUint64(Ce);Ce+=8;break;case 31:switch(e){case 2:case 3:throw new Error("Indefinite length not supported for byte or text strings");case 4:let r=[],n,i=0;for(;(n=it())!=mo;)r[i++]=n;return e==4?r:e==3?r.join(""):Buffer.concat(r);case 5:let s;if(ot.mapsAsObjects){let o={};if(ot.keyMap)for(;(s=it())!=mo;)o[fn(ot.decodeKey(s))]=it();else for(;(s=it())!=mo;)o[fn(s)]=it();return o}else{Za&&(ot.mapsAsObjects=!0,Za=!1);let o=new Map;if(ot.keyMap)for(;(s=it())!=mo;)o.set(ot.decodeKey(s),it());else for(;(s=it())!=mo;)o.set(s,it());return o}case 7:return mo;default:throw new Error("Invalid major type for indefinite length "+e)}default:throw new Error("Unknown token "+t)}switch(e){case 0:return t;case 1:return~t;case 2:return XR(t);case 3:if(Uc>=Ce)return Ff.slice(Ce-Sf,(Ce+=t)-Sf);if(Uc==0&&L0<140&&t<32){let i=t<16?bE(t):JR(t);if(i!=null)return i}return YR(t);case 4:let r=new Array(t);for(let i=0;i<t;i++)r[i]=it();return r;case 5:if(ot.mapsAsObjects){let i={};if(ot.keyMap)for(let s=0;s<t;s++)i[fn(ot.decodeKey(it()))]=it();else for(let s=0;s<t;s++)i[fn(it())]=it();return i}else{Za&&(ot.mapsAsObjects=!0,Za=!1);let i=new Map;if(ot.keyMap)for(let s=0;s<t;s++)i.set(ot.decodeKey(it()),it());else for(let s=0;s<t;s++)i.set(it(),it());return i}case 6:if(t>=a7){let i=Mt[t&8191];if(i)return i.read||(i.read=Vh(i)),i.read();if(t<65536){if(t==GR){let s=To(),o=it(),a=it();Wh(o,a);let c={};if(ot.keyMap)for(let l=2;l<s;l++){let u=ot.decodeKey(a[l-2]);c[fn(u)]=it()}else for(let l=2;l<s;l++){let u=a[l-2];c[fn(u)]=it()}return c}else if(t==WR){let s=To(),o=it();for(let a=2;a<s;a++)Wh(o++,it());return it()}else if(t==a7)return iO();if(ot.getShared&&($9(),i=Mt[t&8191],i))return i.read||(i.read=Vh(i)),i.read()}}let n=Ut[t];if(n)return n.handlesRead?n(it):n(it());{let i=it();for(let s=0;s<Hh.length;s++){let o=Hh[s](t,i);if(o!==void 0)return o}return new V0(i,t)}case 7:switch(t){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case 31:default:let i=(Nr||h0())[t];if(i!==void 0)return i;throw new Error("Unknown token "+t)}default:if(isNaN(t)){let i=new Error("Unexpected end of CBOR data");throw i.incomplete=!0,i}throw new Error("Unknown CBOR token "+t)}}const u7=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function Vh(t){function e(){let r=Ie[Ce++];if(r=r&31,r>23)switch(r){case 24:r=Ie[Ce++];break;case 25:r=Ar.getUint16(Ce),Ce+=2;break;case 26:r=Ar.getUint32(Ce),Ce+=4;break;default:throw new Error("Expected array header, but got "+Ie[Ce-1])}let n=this.compiledReader;for(;n;){if(n.propertyCount===r)return n(it);n=n.next}if(this.slowReads++>=EE){let s=this.length==r?this:this.slice(0,r);return n=ot.keyMap?new Function("r","return {"+s.map(o=>ot.decodeKey(o)).map(o=>u7.test(o)?fn(o)+":r()":"["+JSON.stringify(o)+"]:r()").join(",")+"}"):new Function("r","return {"+s.map(o=>u7.test(o)?fn(o)+":r()":"["+JSON.stringify(o)+"]:r()").join(",")+"}"),this.compiledReader&&(n.next=this.compiledReader),n.propertyCount=r,this.compiledReader=n,n(it)}let i={};if(ot.keyMap)for(let s=0;s<r;s++)i[fn(ot.decodeKey(this[s]))]=it();else for(let s=0;s<r;s++)i[fn(this[s])]=it();return i}return t.slowReads=0,e}function fn(t){return t==="__proto__"?"__proto_":t}let YR=qh;function qh(t){let e;if(t<16&&(e=bE(t)))return e;if(t>64&&jh)return jh.decode(Ie.subarray(Ce,Ce+=t));const r=Ce+t,n=[];for(e="";Ce<r;){const i=Ie[Ce++];if(!(i&128))n.push(i);else if((i&224)===192){const s=Ie[Ce++]&63;n.push((i&31)<<6|s)}else if((i&240)===224){const s=Ie[Ce++]&63,o=Ie[Ce++]&63;n.push((i&31)<<12|s<<6|o)}else if((i&248)===240){const s=Ie[Ce++]&63,o=Ie[Ce++]&63,a=Ie[Ce++]&63;let c=(i&7)<<18|s<<12|o<<6|a;c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|c&1023),n.push(c)}else n.push(i);n.length>=4096&&(e+=Gt.apply(String,n),n.length=0)}return n.length>0&&(e+=Gt.apply(String,n)),e}let Gt=String.fromCharCode;function JR(t){let e=Ce,r=new Array(t);for(let n=0;n<t;n++){const i=Ie[Ce++];if((i&128)>0){Ce=e;return}r[n]=i}return Gt.apply(String,r)}function bE(t){if(t<4)if(t<2){if(t===0)return"";{let e=Ie[Ce++];if((e&128)>1){Ce-=1;return}return Gt(e)}}else{let e=Ie[Ce++],r=Ie[Ce++];if((e&128)>0||(r&128)>0){Ce-=2;return}if(t<3)return Gt(e,r);let n=Ie[Ce++];if((n&128)>0){Ce-=3;return}return Gt(e,r,n)}else{let e=Ie[Ce++],r=Ie[Ce++],n=Ie[Ce++],i=Ie[Ce++];if((e&128)>0||(r&128)>0||(n&128)>0||(i&128)>0){Ce-=4;return}if(t<6){if(t===4)return Gt(e,r,n,i);{let s=Ie[Ce++];if((s&128)>0){Ce-=5;return}return Gt(e,r,n,i,s)}}else if(t<8){let s=Ie[Ce++],o=Ie[Ce++];if((s&128)>0||(o&128)>0){Ce-=6;return}if(t<7)return Gt(e,r,n,i,s,o);let a=Ie[Ce++];if((a&128)>0){Ce-=7;return}return Gt(e,r,n,i,s,o,a)}else{let s=Ie[Ce++],o=Ie[Ce++],a=Ie[Ce++],c=Ie[Ce++];if((s&128)>0||(o&128)>0||(a&128)>0||(c&128)>0){Ce-=8;return}if(t<10){if(t===8)return Gt(e,r,n,i,s,o,a,c);{let l=Ie[Ce++];if((l&128)>0){Ce-=9;return}return Gt(e,r,n,i,s,o,a,c,l)}}else if(t<12){let l=Ie[Ce++],u=Ie[Ce++];if((l&128)>0||(u&128)>0){Ce-=10;return}if(t<11)return Gt(e,r,n,i,s,o,a,c,l,u);let f=Ie[Ce++];if((f&128)>0){Ce-=11;return}return Gt(e,r,n,i,s,o,a,c,l,u,f)}else{let l=Ie[Ce++],u=Ie[Ce++],f=Ie[Ce++],x=Ie[Ce++];if((l&128)>0||(u&128)>0||(f&128)>0||(x&128)>0){Ce-=12;return}if(t<14){if(t===12)return Gt(e,r,n,i,s,o,a,c,l,u,f,x);{let h=Ie[Ce++];if((h&128)>0){Ce-=13;return}return Gt(e,r,n,i,s,o,a,c,l,u,f,x,h)}}else{let h=Ie[Ce++],C=Ie[Ce++];if((h&128)>0||(C&128)>0){Ce-=14;return}if(t<15)return Gt(e,r,n,i,s,o,a,c,l,u,f,x,h,C);let w=Ie[Ce++];if((w&128)>0){Ce-=15;return}return Gt(e,r,n,i,s,o,a,c,l,u,f,x,h,C,w)}}}}}function XR(t){return ot.copyBuffers?Uint8Array.prototype.slice.call(Ie,Ce,Ce+=t):Ie.subarray(Ce,Ce+=t)}let CE=new Float32Array(1),tu=new Uint8Array(CE.buffer,0,4);function QR(){let t=Ie[Ce++],e=Ie[Ce++],r=(t&127)>>2;if(r===31)return e||t&3?NaN:t&128?-1/0:1/0;if(r===0){let n=((t&3)<<8|e)/16777216;return t&128?-n:n}return tu[3]=t&128|(r>>1)+56,tu[2]=(t&7)<<5|e>>3,tu[1]=e<<5,tu[0]=0,CE[0]}new Array(4096);class V0{constructor(e,r){this.value=e,this.tag=r}}Ut[0]=t=>new Date(t);Ut[1]=t=>new Date(Math.round(t*1e3));Ut[2]=t=>{let e=BigInt(0);for(let r=0,n=t.byteLength;r<n;r++)e=BigInt(t[r])+e<<BigInt(8);return e};Ut[3]=t=>BigInt(-1)-Ut[2](t);Ut[4]=t=>+(t[1]+"e"+t[0]);Ut[5]=t=>t[1]*Math.exp(t[0]*Math.log(2));const Wh=(t,e)=>{t=t-57344;let r=Mt[t];r&&r.isShared&&((Mt.restoreStructures||(Mt.restoreStructures=[]))[t]=r),Mt[t]=e,e.read=Vh(e)};Ut[qR]=t=>{let e=t.length,r=t[1];Wh(t[0],r);let n={};for(let i=2;i<e;i++){let s=r[i-2];n[fn(s)]=t[i]}return n};Ut[14]=t=>jt?jt[0].slice(jt.position0,jt.position0+=t):new V0(t,14);Ut[15]=t=>jt?jt[1].slice(jt.position1,jt.position1+=t):new V0(t,15);let ZR={Error,RegExp};Ut[27]=t=>(ZR[t[0]]||Error)(t[1],t[2]);const AE=t=>{if(Ie[Ce++]!=132)throw new Error("Packed values structure must be followed by a 4 element array");let e=t();return Nr=Nr?e.concat(Nr.slice(e.length)):e,Nr.prefixes=t(),Nr.suffixes=t(),t()};AE.handlesRead=!0;Ut[51]=AE;Ut[c7]=t=>{if(!Nr)if(ot.getShared)$9();else return new V0(t,c7);if(typeof t=="number")return Nr[16+(t>=0?2*t:-2*t-1)];throw new Error("No support for non-integer packed references yet")};Ut[28]=t=>{An||(An=new Map,An.id=0);let e=An.id++,r=Ie[Ce],n;r>>5==4?n=[]:n={};let i={target:n};An.set(e,i);let s=t();return i.used?Object.assign(n,s):(i.target=s,s)};Ut[28].handlesRead=!0;Ut[29]=t=>{let e=An.get(t);return e.used=!0,e.target};Ut[258]=t=>new Set(t);(Ut[259]=t=>(ot.mapsAsObjects&&(ot.mapsAsObjects=!1,Za=!0),t())).handlesRead=!0;function go(t,e){return typeof t=="string"?t+e:t instanceof Array?t.concat(e):Object.assign({},t,e)}function h0(){if(!Nr)if(ot.getShared)$9();else throw new Error("No packed values available");return Nr}const eO=1399353956;Hh.push((t,e)=>{if(t>=225&&t<=255)return go(h0().prefixes[t-224],e);if(t>=28704&&t<=32767)return go(h0().prefixes[t-28672],e);if(t>=1879052288&&t<=2147483647)return go(h0().prefixes[t-1879048192],e);if(t>=216&&t<=223)return go(e,h0().suffixes[t-216]);if(t>=27647&&t<=28671)return go(e,h0().suffixes[t-27639]);if(t>=1811940352&&t<=1879048191)return go(e,h0().suffixes[t-1811939328]);if(t==eO)return{packedValues:Nr,structures:Mt.slice(0),version:e};if(t==55799)return e});const tO=new Uint8Array(new Uint16Array([1]).buffer)[0]==1,f7=[Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,typeof BigUint64Array>"u"?{name:"BigUint64Array"}:BigUint64Array,Int8Array,Int16Array,Int32Array,typeof BigInt64Array>"u"?{name:"BigInt64Array"}:BigInt64Array,Float32Array,Float64Array],rO=[64,68,69,70,71,72,77,78,79,85,86];for(let t=0;t<f7.length;t++)nO(f7[t],rO[t]);function nO(t,e){let r="get"+t.name.slice(0,-5),n;typeof t=="function"?n=t.BYTES_PER_ELEMENT:t=null;for(let i=0;i<2;i++){if(!i&&n==1)continue;let s=n==2?1:n==4?2:3;Ut[i?e:e-4]=n==1||i==tO?o=>{if(!t)throw new Error("Could not find typed array for code "+e);return new t(Uint8Array.prototype.slice.call(o,0).buffer)}:o=>{if(!t)throw new Error("Could not find typed array for code "+e);let a=new DataView(o.buffer,o.byteOffset,o.byteLength),c=o.length>>s,l=new t(c),u=a[r];for(let f=0;f<c;f++)l[f]=u.call(a,f<<s,i);return l}}}function iO(){let t=To(),e=Ce+it();for(let n=2;n<t;n++){let i=To();Ce+=i}let r=Ce;return Ce=e,jt=[qh(To()),qh(To())],jt.position0=0,jt.position1=0,jt.postBundlePosition=Ce,Ce=r,it()}function To(){let t=Ie[Ce++]&31;if(t>23)switch(t){case 24:t=Ie[Ce++];break;case 25:t=Ar.getUint16(Ce),Ce+=2;break;case 26:t=Ar.getUint32(Ce),Ce+=4;break}return t}function $9(){if(ot.getShared){let t=vE(()=>(Ie=null,ot.getShared()))||{},e=t.structures||[];ot.sharedVersion=t.version,Nr=ot.sharedValues=t.packedValues,Mt===!0?ot.structures=Mt=e:Mt.splice.apply(Mt,[0,e.length].concat(e))}}function vE(t){let e=L0,r=Ce,n=Sf,i=Uc,s=Ff,o=An,a=jt,c=new Uint8Array(Ie.slice(0,L0)),l=Mt,u=ot,f=$c,x=t();return L0=e,Ce=r,Sf=n,Uc=i,Ff=s,An=o,jt=a,Ie=c,$c=f,Mt=l,ot=u,Ar=new DataView(Ie.buffer,Ie.byteOffset,Ie.byteLength),x}function Gh(){Ie=null,An=null,Mt=null}const z9=new Array(147);for(let t=0;t<256;t++)z9[t]=+("1e"+Math.floor(45.15-t*.30103));let j9=new zc({useRecords:!1});j9.decode;j9.decodeMultiple;let ku;try{ku=new TextEncoder}catch{}let Yh,_E;const kd=typeof globalThis=="object"&&globalThis.Buffer,hl=typeof kd<"u",Qx=hl?kd.allocUnsafeSlow:Uint8Array,d7=hl?kd:Uint8Array,x7=256,h7=hl?4294967296:2144337920;let Zx,pe,At,se=0,us,$t=null;const sO=61440,oO=/[\u0080-\uFFFF]/,Hr=Symbol("record-id");class aO extends zc{constructor(e){super(e),this.offset=0;let r,n,i,s,o;e=e||{};let a=d7.prototype.utf8Write?function(E,S,Q){return pe.utf8Write(E,S,Q)}:ku&&ku.encodeInto?function(E,S){return ku.encodeInto(E,pe.subarray(S)).written}:!1,c=this,l=e.structures||e.saveStructures,u=e.maxSharedStructures;if(u==null&&(u=l?128:0),u>8190)throw new Error("Maximum maxSharedStructure is 8190");let f=e.sequential;f&&(u=0),this.structures||(this.structures=[]),this.saveStructures&&(this.saveShared=this.saveStructures);let x,h,C=e.sharedValues,w;if(C){w=Object.create(null);for(let E=0,S=C.length;E<S;E++)w[C[E]]=E}let k=[],O=0,z=0;this.mapEncode=function(E,S){if(this._keyMap&&!this._mapped)switch(E.constructor.name){case"Array":E=E.map(Q=>this.encodeKeys(Q));break}return this.encode(E,S)},this.encode=function(E,S){if(pe||(pe=new Qx(8192),At=new DataView(pe.buffer,0,8192),se=0),us=pe.length-10,us-se<2048?(pe=new Qx(pe.length),At=new DataView(pe.buffer,0,pe.length),us=pe.length-10,se=0):S===y7&&(se=se+7&2147483640),r=se,c.useSelfDescribedHeader&&(At.setUint32(se,3654940416),se+=3),o=c.structuredClone?new Map:null,c.bundleStrings&&typeof E!="string"?($t=[],$t.size=1/0):$t=null,n=c.structures,n){if(n.uninitialized){let Z=c.getShared()||{};c.structures=n=Z.structures||[],c.sharedVersion=Z.version;let M=c.sharedValues=Z.packedValues;if(M){w={};for(let te=0,ie=M.length;te<ie;te++)w[M[te]]=te}}let Q=n.length;if(Q>u&&!f&&(Q=u),!n.transitions){n.transitions=Object.create(null);for(let Z=0;Z<Q;Z++){let M=n[Z];if(!M)continue;let te,ie=n.transitions;for(let ue=0,ne=M.length;ue<ne;ue++){ie[Hr]===void 0&&(ie[Hr]=Z);let le=M[ue];te=ie[le],te||(te=ie[le]=Object.create(null)),ie=te}ie[Hr]=Z|1048576}}f||(n.nextId=Q)}if(i&&(i=!1),s=n||[],h=w,e.pack){let Q=new Map;if(Q.values=[],Q.encoder=c,Q.maxValues=e.maxPrivatePackedValues||(w?16:1/0),Q.objectMap=w||!1,Q.samplingPackedValues=x,Fu(E,Q),Q.values.length>0){pe[se++]=216,pe[se++]=51,Wn(4);let Z=Q.values;P(Z),Wn(0),Wn(0),h=Object.create(w||null);for(let M=0,te=Z.length;M<te;M++)h[Z[M]]=M}}Zx=S&t1;try{if(Zx)return;if(P(E),$t&&g7(r,P),c.offset=se,o&&o.idsToInsert){se+=o.idsToInsert.length*2,se>us&&T(se),c.offset=se;let Q=uO(pe.subarray(r,se),o.idsToInsert);return o=null,Q}return S&y7?(pe.start=r,pe.end=se,pe):pe.subarray(r,se)}finally{if(n){if(z<10&&z++,n.length>u&&(n.length=u),O>1e4)n.transitions=null,z=0,O=0,k.length>0&&(k=[]);else if(k.length>0&&!f){for(let Q=0,Z=k.length;Q<Z;Q++)k[Q][Hr]=void 0;k=[]}}if(i&&c.saveShared){c.structures.length>u&&(c.structures=c.structures.slice(0,u));let Q=pe.subarray(r,se);return c.updateSharedData()===!1?c.encode(E):Q}S&fO&&(se=r)}},this.findCommonStringsToPack=()=>(x=new Map,w||(w=Object.create(null)),E=>{let S=E&&E.threshold||4,Q=this.pack?E.maxPrivatePackedValues||16:0;C||(C=this.sharedValues=[]);for(let[Z,M]of x)M.count>S&&(w[Z]=Q++,C.push(Z),i=!0);for(;this.saveShared&&this.updateSharedData()===!1;);x=null});const P=E=>{se>us&&(pe=T(se));var S=typeof E,Q;if(S==="string"){if(h){let ie=h[E];if(ie>=0){ie<16?pe[se++]=ie+224:(pe[se++]=198,ie&1?P(15-ie>>1):P(ie-16>>1));return}else if(x&&!e.pack){let ue=x.get(E);ue?ue.count++:x.set(E,{count:1})}}let Z=E.length;if($t&&Z>=4&&Z<1024){if(($t.size+=Z)>sO){let ue,ne=($t[0]?$t[0].length*3+$t[1].length:0)+10;se+ne>us&&(pe=T(se+ne)),pe[se++]=217,pe[se++]=223,pe[se++]=249,pe[se++]=$t.position?132:130,pe[se++]=26,ue=se-r,se+=4,$t.position&&g7(r,P),$t=["",""],$t.size=0,$t.position=ue}let ie=oO.test(E);$t[ie?0:1]+=E,pe[se++]=ie?206:207,P(Z);return}let M;Z<32?M=1:Z<256?M=2:Z<65536?M=3:M=5;let te=Z*3;if(se+te>us&&(pe=T(se+te)),Z<64||!a){let ie,ue,ne,le=se+M;for(ie=0;ie<Z;ie++)ue=E.charCodeAt(ie),ue<128?pe[le++]=ue:ue<2048?(pe[le++]=ue>>6|192,pe[le++]=ue&63|128):(ue&64512)===55296&&((ne=E.charCodeAt(ie+1))&64512)===56320?(ue=65536+((ue&1023)<<10)+(ne&1023),ie++,pe[le++]=ue>>18|240,pe[le++]=ue>>12&63|128,pe[le++]=ue>>6&63|128,pe[le++]=ue&63|128):(pe[le++]=ue>>12|224,pe[le++]=ue>>6&63|128,pe[le++]=ue&63|128);Q=le-se-M}else Q=a(E,se+M,te);Q<24?pe[se++]=96|Q:Q<256?(M<2&&pe.copyWithin(se+2,se+1,se+1+Q),pe[se++]=120,pe[se++]=Q):Q<65536?(M<3&&pe.copyWithin(se+3,se+2,se+2+Q),pe[se++]=121,pe[se++]=Q>>8,pe[se++]=Q&255):(M<5&&pe.copyWithin(se+5,se+3,se+3+Q),pe[se++]=122,At.setUint32(se,Q),se+=4),se+=Q}else if(S==="number")if(!this.alwaysUseFloat&&E>>>0===E)E<24?pe[se++]=E:E<256?(pe[se++]=24,pe[se++]=E):E<65536?(pe[se++]=25,pe[se++]=E>>8,pe[se++]=E&255):(pe[se++]=26,At.setUint32(se,E),se+=4);else if(!this.alwaysUseFloat&&E>>0===E)E>=-24?pe[se++]=31-E:E>=-256?(pe[se++]=56,pe[se++]=~E):E>=-65536?(pe[se++]=57,At.setUint16(se,~E),se+=2):(pe[se++]=58,At.setUint32(se,~E),se+=4);else{let Z;if((Z=this.useFloat32)>0&&E<4294967296&&E>=-2147483648){pe[se++]=250,At.setFloat32(se,E);let M;if(Z<4||(M=E*z9[(pe[se]&127)<<1|pe[se+1]>>7])>>0===M){se+=4;return}else se--}pe[se++]=251,At.setFloat64(se,E),se+=8}else if(S==="object")if(!E)pe[se++]=246;else{if(o){let M=o.get(E);if(M){if(pe[se++]=216,pe[se++]=29,pe[se++]=25,!M.references){let te=o.idsToInsert||(o.idsToInsert=[]);M.references=[],te.push(M)}M.references.push(se-r),se+=2;return}else o.set(E,{offset:se-r})}let Z=E.constructor;if(Z===Object)A(E,!0);else if(Z===Array){Q=E.length,Q<24?pe[se++]=128|Q:Wn(Q);for(let M=0;M<Q;M++)P(E[M])}else if(Z===Map)if((this.mapsAsObjects?this.useTag259ForMaps!==!1:this.useTag259ForMaps)&&(pe[se++]=217,pe[se++]=1,pe[se++]=3),Q=E.size,Q<24?pe[se++]=160|Q:Q<256?(pe[se++]=184,pe[se++]=Q):Q<65536?(pe[se++]=185,pe[se++]=Q>>8,pe[se++]=Q&255):(pe[se++]=186,At.setUint32(se,Q),se+=4),c.keyMap)for(let[M,te]of E)P(c.encodeKey(M)),P(te);else for(let[M,te]of E)P(M),P(te);else{for(let M=0,te=Yh.length;M<te;M++){let ie=_E[M];if(E instanceof ie){let ue=Yh[M],ne=ue.tag;ne==null&&(ne=ue.getTag&&ue.getTag.call(this,E)),ne<24?pe[se++]=192|ne:ne<256?(pe[se++]=216,pe[se++]=ne):ne<65536?(pe[se++]=217,pe[se++]=ne>>8,pe[se++]=ne&255):ne>-1&&(pe[se++]=218,At.setUint32(se,ne),se+=4),ue.encode.call(this,E,P,T);return}}if(E[Symbol.iterator]){if(Zx){let M=new Error("Iterable should be serialized as iterator");throw M.iteratorNotHandled=!0,M}pe[se++]=159;for(let M of E)P(M);pe[se++]=255;return}if(E[Symbol.asyncIterator]||e1(E)){let M=new Error("Iterable/blob should be serialized as iterator");throw M.iteratorNotHandled=!0,M}if(this.useToJSON&&E.toJSON){const M=E.toJSON();if(M!==E)return P(M)}A(E,!E.hasOwnProperty)}}else if(S==="boolean")pe[se++]=E?245:244;else if(S==="bigint"){if(E<BigInt(1)<<BigInt(64)&&E>=0)pe[se++]=27,At.setBigUint64(se,E);else if(E>-(BigInt(1)<<BigInt(64))&&E<0)pe[se++]=59,At.setBigUint64(se,-E-BigInt(1));else if(this.largeBigIntToFloat)pe[se++]=251,At.setFloat64(se,Number(E));else throw new RangeError(E+" was too large to fit in CBOR 64-bit integer format, set largeBigIntToFloat to convert to float-64");se+=8}else if(S==="undefined")pe[se++]=247;else throw new Error("Unknown type: "+S)},A=this.useRecords===!1?this.variableMapSize?E=>{let S=Object.keys(E),Q=Object.values(E),Z=S.length;if(Z<24?pe[se++]=160|Z:Z<256?(pe[se++]=184,pe[se++]=Z):Z<65536?(pe[se++]=185,pe[se++]=Z>>8,pe[se++]=Z&255):(pe[se++]=186,At.setUint32(se,Z),se+=4),c.keyMap)for(let M=0;M<Z;M++)P(c.encodeKey(S[M])),P(Q[M]);else for(let M=0;M<Z;M++)P(S[M]),P(Q[M])}:(E,S)=>{pe[se++]=185;let Q=se-r;se+=2;let Z=0;if(c.keyMap)for(let M in E)(S||E.hasOwnProperty(M))&&(P(c.encodeKey(M)),P(E[M]),Z++);else for(let M in E)(S||E.hasOwnProperty(M))&&(P(M),P(E[M]),Z++);pe[Q+++r]=Z>>8,pe[Q+r]=Z&255}:(E,S)=>{let Q,Z=s.transitions||(s.transitions=Object.create(null)),M=0,te=0,ie,ue;if(this.keyMap){ue=Object.keys(E).map(le=>this.encodeKey(le)),te=ue.length;for(let le=0;le<te;le++){let Ae=ue[le];Q=Z[Ae],Q||(Q=Z[Ae]=Object.create(null),M++),Z=Q}}else for(let le in E)(S||E.hasOwnProperty(le))&&(Q=Z[le],Q||(Z[Hr]&1048576&&(ie=Z[Hr]&65535),Q=Z[le]=Object.create(null),M++),Z=Q,te++);let ne=Z[Hr];if(ne!==void 0)ne&=65535,pe[se++]=217,pe[se++]=ne>>8|224,pe[se++]=ne&255;else if(ue||(ue=Z.__keys__||(Z.__keys__=Object.keys(E))),ie===void 0?(ne=s.nextId++,ne||(ne=0,s.nextId=1),ne>=x7&&(s.nextId=(ne=u)+1)):ne=ie,s[ne]=ue,ne<u){pe[se++]=217,pe[se++]=ne>>8|224,pe[se++]=ne&255,Z=s.transitions;for(let le=0;le<te;le++)(Z[Hr]===void 0||Z[Hr]&1048576)&&(Z[Hr]=ne),Z=Z[ue[le]];Z[Hr]=ne|1048576,i=!0}else{if(Z[Hr]=ne,At.setUint32(se,3655335680),se+=3,M&&(O+=z*M),k.length>=x7-u&&(k.shift()[Hr]=void 0),k.push(Z),Wn(te+2),P(57344+ne),P(ue),S===null)return;for(let le in E)(S||E.hasOwnProperty(le))&&P(E[le]);return}if(te<24?pe[se++]=128|te:Wn(te),S!==null)for(let le in E)(S||E.hasOwnProperty(le))&&P(E[le])},T=E=>{let S;if(E>16777216){if(E-r>h7)throw new Error("Encoded buffer would be larger than maximum buffer size");S=Math.min(h7,Math.round(Math.max((E-r)*(E>67108864?1.25:2),4194304)/4096)*4096)}else S=(Math.max(E-r<<2,pe.length-1)>>12)+1<<12;let Q=new Qx(S);return At=new DataView(Q.buffer,0,S),pe.copy?pe.copy(Q,0,r,E):Q.set(pe.slice(r,E)),se-=r,r=0,us=Q.length-10,pe=Q};let F=100,R=1e3;this.encodeAsIterable=function(E,S){return b(E,S,d)},this.encodeAsAsyncIterable=function(E,S){return b(E,S,m)};function*d(E,S,Q){let Z=E.constructor;if(Z===Object){let M=c.useRecords!==!1;M?A(E,null):p7(Object.keys(E).length,160);for(let te in E){let ie=E[te];M||P(te),ie&&typeof ie=="object"?S[te]?yield*d(ie,S[te]):yield*p(ie,S,te):P(ie)}}else if(Z===Array){let M=E.length;Wn(M);for(let te=0;te<M;te++){let ie=E[te];ie&&(typeof ie=="object"||se-r>F)?S.element?yield*d(ie,S.element):yield*p(ie,S,"element"):P(ie)}}else if(E[Symbol.iterator]){pe[se++]=159;for(let M of E)M&&(typeof M=="object"||se-r>F)?S.element?yield*d(M,S.element):yield*p(M,S,"element"):P(M);pe[se++]=255}else e1(E)?(p7(E.size,64),yield pe.subarray(r,se),yield E,_()):E[Symbol.asyncIterator]?(pe[se++]=159,yield pe.subarray(r,se),yield E,_(),pe[se++]=255):P(E);Q&&se>r?yield pe.subarray(r,se):se-r>F&&(yield pe.subarray(r,se),_())}function*p(E,S,Q){let Z=se-r;try{P(E),se-r>F&&(yield pe.subarray(r,se),_())}catch(M){if(M.iteratorNotHandled)S[Q]={},se=r+Z,yield*d.call(this,E,S[Q]);else throw M}}function _(){F=R,c.encode(null,t1)}function b(E,S,Q){return S&&S.chunkThreshold?F=R=S.chunkThreshold:F=100,E&&typeof E=="object"?(c.encode(null,t1),Q(E,c.iterateProperties||(c.iterateProperties={}),!0)):[c.encode(E)]}async function*m(E,S){for(let Q of d(E,S,!0)){let Z=Q.constructor;if(Z===d7||Z===Uint8Array)yield Q;else if(e1(Q)){let M=Q.stream().getReader(),te;for(;!(te=await M.read()).done;)yield te.value}else if(Q[Symbol.asyncIterator])for await(let M of Q)_(),M?yield*m(M,S.async||(S.async={})):yield c.encode(M);else yield Q}}}useBuffer(e){pe=e,At=new DataView(pe.buffer,pe.byteOffset,pe.byteLength),se=0}clearSharedData(){this.structures&&(this.structures=[]),this.sharedValues&&(this.sharedValues=void 0)}updateSharedData(){let e=this.sharedVersion||0;this.sharedVersion=e+1;let r=this.structures.slice(0),n=new wE(r,this.sharedValues,this.sharedVersion),i=this.saveShared(n,s=>(s&&s.version||0)==e);return i===!1?(n=this.getShared()||{},this.structures=n.structures||[],this.sharedValues=n.packedValues,this.sharedVersion=n.version,this.structures.nextId=this.structures.length):r.forEach((s,o)=>this.structures[o]=s),i}}function p7(t,e){t<24?pe[se++]=e|t:t<256?(pe[se++]=e|24,pe[se++]=t):t<65536?(pe[se++]=e|25,pe[se++]=t>>8,pe[se++]=t&255):(pe[se++]=e|26,At.setUint32(se,t),se+=4)}class wE{constructor(e,r,n){this.structures=e,this.packedValues=r,this.version=n}}function Wn(t){t<24?pe[se++]=128|t:t<256?(pe[se++]=152,pe[se++]=t):t<65536?(pe[se++]=153,pe[se++]=t>>8,pe[se++]=t&255):(pe[se++]=154,At.setUint32(se,t),se+=4)}const cO=typeof Blob>"u"?function(){}:Blob;function e1(t){if(t instanceof cO)return!0;let e=t[Symbol.toStringTag];return e==="Blob"||e==="File"}function Fu(t,e){switch(typeof t){case"string":if(t.length>3){if(e.objectMap[t]>-1||e.values.length>=e.maxValues)return;let n=e.get(t);if(n)++n.count==2&&e.values.push(t);else if(e.set(t,{count:1}),e.samplingPackedValues){let i=e.samplingPackedValues.get(t);i?i.count++:e.samplingPackedValues.set(t,{count:1})}}break;case"object":if(t)if(t instanceof Array)for(let n=0,i=t.length;n<i;n++)Fu(t[n],e);else{let n=!e.encoder.useRecords;for(var r in t)t.hasOwnProperty(r)&&(n&&Fu(r,e),Fu(t[r],e))}break;case"function":console.log(t)}}const lO=new Uint8Array(new Uint16Array([1]).buffer)[0]==1;_E=[Date,Set,Error,RegExp,V0,ArrayBuffer,Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,typeof BigUint64Array>"u"?function(){}:BigUint64Array,Int8Array,Int16Array,Int32Array,typeof BigInt64Array>"u"?function(){}:BigInt64Array,Float32Array,Float64Array,wE];Yh=[{tag:1,encode(t,e){let r=t.getTime()/1e3;(this.useTimestamp32||t.getMilliseconds()===0)&&r>=0&&r<4294967296?(pe[se++]=26,At.setUint32(se,r),se+=4):(pe[se++]=251,At.setFloat64(se,r),se+=8)}},{tag:258,encode(t,e){let r=Array.from(t);e(r)}},{tag:27,encode(t,e){e([t.name,t.message])}},{tag:27,encode(t,e){e(["RegExp",t.source,t.flags])}},{getTag(t){return t.tag},encode(t,e){e(t.value)}},{encode(t,e,r){m7(t,r)}},{getTag(t){if(t.constructor===Uint8Array&&(this.tagUint8Array||hl&&this.tagUint8Array!==!1))return 64},encode(t,e,r){m7(t,r)}},zn(68,1),zn(69,2),zn(70,4),zn(71,8),zn(72,1),zn(77,2),zn(78,4),zn(79,8),zn(85,4),zn(86,8),{encode(t,e){let r=t.packedValues||[],n=t.structures||[];if(r.values.length>0){pe[se++]=216,pe[se++]=51,Wn(4);let i=r.values;e(i),Wn(0),Wn(0),packedObjectMap=Object.create(sharedPackedObjectMap||null);for(let s=0,o=i.length;s<o;s++)packedObjectMap[i[s]]=s}if(n){At.setUint32(se,3655335424),se+=3;let i=n.slice(0);i.unshift(57344),i.push(new V0(t.version,1399353956)),e(i)}else e(new V0(t.version,1399353956))}}];function zn(t,e){return!lO&&e>1&&(t-=4),{tag:t,encode:function(n,i){let s=n.byteLength,o=n.byteOffset||0,a=n.buffer||n;i(hl?kd.from(a,o,s):new Uint8Array(a,o,s))}}}function m7(t,e){let r=t.byteLength;r<24?pe[se++]=64+r:r<256?(pe[se++]=88,pe[se++]=r):r<65536?(pe[se++]=89,pe[se++]=r>>8,pe[se++]=r&255):(pe[se++]=90,At.setUint32(se,r),se+=4),se+r>=pe.length&&e(se+r),pe.set(t.buffer?t:new Uint8Array(t),se),se+=r}function uO(t,e){let r,n=e.length*2,i=t.length-n;e.sort((s,o)=>s.offset>o.offset?1:-1);for(let s=0;s<e.length;s++){let o=e[s];o.id=s;for(let a of o.references)t[a++]=s>>8,t[a]=s&255}for(;r=e.pop();){let s=r.offset;t.copyWithin(s+n,s,i),n-=2;let o=s+n;t[o++]=216,t[o++]=28,i=s}return t}function g7(t,e){At.setUint32($t.position+t,se-$t.position-t+1);let r=$t;$t=null,e(r[0]),e(r[1])}let H9=new aO({useRecords:!1});H9.encode;H9.encodeAsIterable;H9.encodeAsAsyncIterable;const y7=512,fO=1024,t1=2048;function oo(t,e,r,n){Object.defineProperty(t,e,{get:r,set:n,enumerable:!0,configurable:!0})}class BE{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=e=>{const r=[],n=e.byteLength,i=Math.ceil(n/this.chunkedMTU);let s=0,o=0;for(;o<n;){const a=Math.min(n,o+this.chunkedMTU),c=e.slice(o,a),l={__peerData:this._dataCount,n:s,data:c,total:i};r.push(l),o=a,s++}return this._dataCount++,r}}}function dO(t){let e=0;for(const i of t)e+=i.byteLength;const r=new Uint8Array(e);let n=0;for(const i of t)r.set(i,n),n+=i.byteLength;return r}const r1=o7.default||o7,La=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const t=this.getBrowser(),e=this.getVersion();return this.supportedBrowsers.includes(t)?t==="chrome"?e>=this.minChromeVersion:t==="firefox"?e>=this.minFirefoxVersion:t==="safari"?!this.isIOS&&e>=this.minSafariVersion:!1:!1}getBrowser(){return r1.browserDetails.browser}getVersion(){return r1.browserDetails.version||0}isUnifiedPlanSupported(){const t=this.getBrowser(),e=r1.browserDetails.version||0;if(t==="chrome"&&e<this.minChromeVersion)return!1;if(t==="firefox"&&e>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let r,n=!1;try{r=new RTCPeerConnection,r.addTransceiver("audio"),n=!0}catch{}finally{r&&r.close()}return n}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=["iPad","iPhone","iPod"].includes(navigator.platform),this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},xO=t=>!t||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(t),DE=()=>Math.random().toString(36).slice(2),E7={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class hO extends BE{noop(){}blobToArrayBuffer(e,r){const n=new FileReader;return n.onload=function(i){i.target&&r(i.target.result)},n.readAsArrayBuffer(e),n}binaryStringToArrayBuffer(e){const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e.charCodeAt(n)&255;return r.buffer}isSecure(){return location.protocol==="https:"}constructor(...e){super(...e),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=E7,this.browser=La.getBrowser(),this.browserVersion=La.getVersion(),this.pack=Ny,this.unpack=Ly,this.supports=function(){const r={browser:La.isBrowserSupported(),webRTC:La.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!r.webRTC)return r;let n;try{n=new RTCPeerConnection(E7),r.audioVideo=!0;let i;try{i=n.createDataChannel("_PEERJSTEST",{ordered:!0}),r.data=!0,r.reliable=!!i.ordered;try{i.binaryType="blob",r.binaryBlob=!La.isIOS}catch{}}catch{}finally{i&&i.close()}}catch{}finally{n&&n.close()}return r}(),this.validateId=xO,this.randomToken=DE}}const Ir=new hO,pO="PeerJS: ";var b7;(function(t){t[t.Disabled=0]="Disabled",t[t.Errors=1]="Errors",t[t.Warnings=2]="Warnings",t[t.All=3]="All"})(b7||(b7={}));class mO{get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=3&&this._print(3,...e)}warn(...e){this._logLevel>=2&&this._print(2,...e)}error(...e){this._logLevel>=1&&this._print(1,...e)}setLogFunction(e){this._print=e}_print(e,...r){const n=[pO,...r];for(const i in n)n[i]instanceof Error&&(n[i]="("+n[i].name+") "+n[i].message);e>=3?console.log(...n):e>=2?console.warn("WARNING",...n):e>=1&&console.error("ERROR",...n)}constructor(){this._logLevel=0}}var Re=new mO,V9={},gO=Object.prototype.hasOwnProperty,Fr="~";function jc(){}Object.create&&(jc.prototype=Object.create(null),new jc().__proto__||(Fr=!1));function yO(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function kE(t,e,r,n,i){if(typeof r!="function")throw new TypeError("The listener must be a function");var s=new yO(r,n||t,i),o=Fr?Fr+e:e;return t._events[o]?t._events[o].fn?t._events[o]=[t._events[o],s]:t._events[o].push(s):(t._events[o]=s,t._eventsCount++),t}function Su(t,e){--t._eventsCount===0?t._events=new jc:delete t._events[e]}function mr(){this._events=new jc,this._eventsCount=0}mr.prototype.eventNames=function(){var e=[],r,n;if(this._eventsCount===0)return e;for(n in r=this._events)gO.call(r,n)&&e.push(Fr?n.slice(1):n);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(r)):e};mr.prototype.listeners=function(e){var r=Fr?Fr+e:e,n=this._events[r];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,o=new Array(s);i<s;i++)o[i]=n[i].fn;return o};mr.prototype.listenerCount=function(e){var r=Fr?Fr+e:e,n=this._events[r];return n?n.fn?1:n.length:0};mr.prototype.emit=function(e,r,n,i,s,o){var a=Fr?Fr+e:e;if(!this._events[a])return!1;var c=this._events[a],l=arguments.length,u,f;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),l){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,r),!0;case 3:return c.fn.call(c.context,r,n),!0;case 4:return c.fn.call(c.context,r,n,i),!0;case 5:return c.fn.call(c.context,r,n,i,s),!0;case 6:return c.fn.call(c.context,r,n,i,s,o),!0}for(f=1,u=new Array(l-1);f<l;f++)u[f-1]=arguments[f];c.fn.apply(c.context,u)}else{var x=c.length,h;for(f=0;f<x;f++)switch(c[f].once&&this.removeListener(e,c[f].fn,void 0,!0),l){case 1:c[f].fn.call(c[f].context);break;case 2:c[f].fn.call(c[f].context,r);break;case 3:c[f].fn.call(c[f].context,r,n);break;case 4:c[f].fn.call(c[f].context,r,n,i);break;default:if(!u)for(h=1,u=new Array(l-1);h<l;h++)u[h-1]=arguments[h];c[f].fn.apply(c[f].context,u)}}return!0};mr.prototype.on=function(e,r,n){return kE(this,e,r,n,!1)};mr.prototype.once=function(e,r,n){return kE(this,e,r,n,!0)};mr.prototype.removeListener=function(e,r,n,i){var s=Fr?Fr+e:e;if(!this._events[s])return this;if(!r)return Su(this,s),this;var o=this._events[s];if(o.fn)o.fn===r&&(!i||o.once)&&(!n||o.context===n)&&Su(this,s);else{for(var a=0,c=[],l=o.length;a<l;a++)(o[a].fn!==r||i&&!o[a].once||n&&o[a].context!==n)&&c.push(o[a]);c.length?this._events[s]=c.length===1?c[0]:c:Su(this,s)}return this};mr.prototype.removeAllListeners=function(e){var r;return e?(r=Fr?Fr+e:e,this._events[r]&&Su(this,r)):(this._events=new jc,this._eventsCount=0),this};mr.prototype.off=mr.prototype.removeListener;mr.prototype.addListener=mr.prototype.on;mr.prefixed=Fr;mr.EventEmitter=mr;V9=mr;var ao={};oo(ao,"ConnectionType",()=>mi);oo(ao,"PeerErrorType",()=>Tt);oo(ao,"BaseConnectionErrorType",()=>Hc);oo(ao,"DataConnectionErrorType",()=>Vc);oo(ao,"SerializationType",()=>da);oo(ao,"SocketEventType",()=>ai);oo(ao,"ServerMessageType",()=>Xt);var mi;(function(t){t.Data="data",t.Media="media"})(mi||(mi={}));var Tt;(function(t){t.BrowserIncompatible="browser-incompatible",t.Disconnected="disconnected",t.InvalidID="invalid-id",t.InvalidKey="invalid-key",t.Network="network",t.PeerUnavailable="peer-unavailable",t.SslUnavailable="ssl-unavailable",t.ServerError="server-error",t.SocketError="socket-error",t.SocketClosed="socket-closed",t.UnavailableID="unavailable-id",t.WebRTC="webrtc"})(Tt||(Tt={}));var Hc;(function(t){t.NegotiationFailed="negotiation-failed",t.ConnectionClosed="connection-closed"})(Hc||(Hc={}));var Vc;(function(t){t.NotOpenYet="not-open-yet",t.MessageToBig="message-too-big"})(Vc||(Vc={}));var da;(function(t){t.Binary="binary",t.BinaryUTF8="binary-utf8",t.JSON="json",t.None="raw"})(da||(da={}));var ai;(function(t){t.Message="message",t.Disconnected="disconnected",t.Error="error",t.Close="close"})(ai||(ai={}));var Xt;(function(t){t.Heartbeat="HEARTBEAT",t.Candidate="CANDIDATE",t.Offer="OFFER",t.Answer="ANSWER",t.Open="OPEN",t.Error="ERROR",t.IdTaken="ID-TAKEN",t.InvalidKey="INVALID-KEY",t.Leave="LEAVE",t.Expire="EXPIRE"})(Xt||(Xt={}));var q9={};q9=JSON.parse('{"name":"peerjs","version":"1.5.2","keywords":["peerjs","webrtc","p2p","rtc"],"description":"PeerJS client","homepage":"https://peerjs.com","bugs":{"url":"https://github.com/peers/peerjs/issues"},"repository":{"type":"git","url":"https://github.com/peers/peerjs"},"license":"MIT","contributors":["Michelle Bu <michelle@michellebu.com>","afrokick <devbyru@gmail.com>","ericz <really.ez@gmail.com>","Jairo <kidandcat@gmail.com>","Jonas Gloning <34194370+jonasgloning@users.noreply.github.com>","Jairo Caro-Accino Viciana <jairo@galax.be>","Carlos Caballero <carlos.caballero.gonzalez@gmail.com>","hc <hheennrryy@gmail.com>","Muhammad Asif <capripio@gmail.com>","PrashoonB <prashoonbhattacharjee@gmail.com>","Harsh Bardhan Mishra <47351025+HarshCasper@users.noreply.github.com>","akotynski <aleksanderkotbury@gmail.com>","lmb <i@lmb.io>","Jairooo <jairocaro@msn.com>","Moritz Stückler <moritz.stueckler@gmail.com>","Simon <crydotsnakegithub@gmail.com>","Denis Lukov <denismassters@gmail.com>","Philipp Hancke <fippo@andyet.net>","Hans Oksendahl <hansoksendahl@gmail.com>","Jess <jessachandler@gmail.com>","khankuan <khankuan@gmail.com>","DUODVK <kurmanov.work@gmail.com>","XiZhao <kwang1imsa@gmail.com>","Matthias Lohr <matthias@lohr.me>","=frank tree <=frnktrb@googlemail.com>","Andre Eckardt <aeckardt@outlook.com>","Chris Cowan <agentme49@gmail.com>","Alex Chuev <alex@chuev.com>","alxnull <alxnull@e.mail.de>","Yemel Jardi <angel.jardi@gmail.com>","Ben Parnell <benjaminparnell.94@gmail.com>","Benny Lichtner <bennlich@gmail.com>","fresheneesz <bitetrudpublic@gmail.com>","bob.barstead@exaptive.com <bob.barstead@exaptive.com>","chandika <chandika@gmail.com>","emersion <contact@emersion.fr>","Christopher Van <cvan@users.noreply.github.com>","eddieherm <edhermoso@gmail.com>","Eduardo Pinho <enet4mikeenet@gmail.com>","Evandro Zanatta <ezanatta@tray.net.br>","Gardner Bickford <gardner@users.noreply.github.com>","Gian Luca <gianluca.cecchi@cynny.com>","PatrickJS <github@gdi2290.com>","jonnyf <github@jonathanfoss.co.uk>","Hizkia Felix <hizkifw@gmail.com>","Hristo Oskov <hristo.oskov@gmail.com>","Isaac Madwed <i.madwed@gmail.com>","Ilya Konanykhin <ilya.konanykhin@gmail.com>","jasonbarry <jasbarry@me.com>","Jonathan Burke <jonathan.burke.1311@googlemail.com>","Josh Hamit <josh.hamit@gmail.com>","Jordan Austin <jrax86@gmail.com>","Joel Wetzell <jwetzell@yahoo.com>","xizhao <kevin.wang@cloudera.com>","Alberto Torres <kungfoobar@gmail.com>","Jonathan Mayol <mayoljonathan@gmail.com>","Jefferson Felix <me@jsfelix.dev>","Rolf Erik Lekang <me@rolflekang.com>","Kevin Mai-Husan Chia <mhchia@users.noreply.github.com>","Pepijn de Vos <pepijndevos@gmail.com>","JooYoung <qkdlql@naver.com>","Tobias Speicher <rootcommander@gmail.com>","Steve Blaurock <sblaurock@gmail.com>","Kyrylo Shegeda <shegeda@ualberta.ca>","Diwank Singh Tomer <singh@diwank.name>","Sören Balko <Soeren.Balko@gmail.com>","Arpit Solanki <solankiarpit1997@gmail.com>","Yuki Ito <yuki@gnnk.net>","Artur Zayats <zag2art@gmail.com>"],"funding":{"type":"opencollective","url":"https://opencollective.com/peer"},"collective":{"type":"opencollective","url":"https://opencollective.com/peer"},"files":["dist/*"],"sideEffects":["lib/global.ts","lib/supports.ts"],"main":"dist/bundler.cjs","module":"dist/bundler.mjs","browser-minified":"dist/peerjs.min.js","browser-unminified":"dist/peerjs.js","browser-minified-cbor":"dist/serializer.cbor.mjs","browser-minified-msgpack":"dist/serializer.msgpack.mjs","types":"dist/types.d.ts","engines":{"node":">= 14"},"targets":{"types":{"source":"lib/exports.ts"},"main":{"source":"lib/exports.ts","sourceMap":{"inlineSources":true}},"module":{"source":"lib/exports.ts","includeNodeModules":["eventemitter3"],"sourceMap":{"inlineSources":true}},"browser-minified":{"context":"browser","outputFormat":"global","optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-unminified":{"context":"browser","outputFormat":"global","optimize":false,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-minified-cbor":{"context":"browser","outputFormat":"esmodule","isLibrary":true,"optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 102, safari >= 15"},"source":"lib/dataconnection/StreamConnection/Cbor.ts"},"browser-minified-msgpack":{"context":"browser","outputFormat":"esmodule","isLibrary":true,"optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 102, safari >= 15"},"source":"lib/dataconnection/StreamConnection/MsgPack.ts"}},"scripts":{"contributors":"git-authors-cli --print=false && prettier --write package.json && git add package.json package-lock.json && git commit -m \\"chore(contributors): update and sort contributors list\\"","check":"tsc --noEmit && tsc -p e2e/tsconfig.json --noEmit","watch":"parcel watch","build":"rm -rf dist && parcel build","prepublishOnly":"npm run build","test":"jest","test:watch":"jest --watch","coverage":"jest --coverage --collectCoverageFrom=\\"./lib/**\\"","format":"prettier --write .","format:check":"prettier --check .","semantic-release":"semantic-release","e2e":"wdio run e2e/wdio.local.conf.ts","e2e:bstack":"wdio run e2e/wdio.bstack.conf.ts"},"devDependencies":{"@parcel/config-default":"^2.9.3","@parcel/packager-ts":"^2.9.3","@parcel/transformer-typescript-tsc":"^2.9.3","@parcel/transformer-typescript-types":"^2.9.3","@semantic-release/changelog":"^6.0.1","@semantic-release/git":"^10.0.1","@swc/core":"^1.3.27","@swc/jest":"^0.2.24","@types/jasmine":"^4.3.4","@wdio/browserstack-service":"^8.11.2","@wdio/cli":"^8.11.2","@wdio/globals":"^8.11.2","@wdio/jasmine-framework":"^8.11.2","@wdio/local-runner":"^8.11.2","@wdio/spec-reporter":"^8.11.2","@wdio/types":"^8.10.4","http-server":"^14.1.1","jest":"^29.3.1","jest-environment-jsdom":"^29.3.1","mock-socket":"^9.0.0","parcel":"^2.9.3","prettier":"^3.0.0","semantic-release":"^21.0.0","ts-node":"^10.9.1","typescript":"^5.0.0","wdio-geckodriver-service":"^5.0.1"},"dependencies":{"@msgpack/msgpack":"^2.8.0","cbor-x":"1.5.4","eventemitter3":"^4.0.7","peerjs-js-binarypack":"^2.1.0","webrtc-adapter":"^8.0.0"},"alias":{"process":false,"buffer":false}}');class EO extends V9.EventEmitter{constructor(e,r,n,i,s,o=5e3){super(),this.pingInterval=o,this._disconnected=!0,this._messagesQueue=[];const a=e?"wss://":"ws://";this._baseUrl=a+r+":"+n+i+"peerjs?key="+s}start(e,r){this._id=e;const n=`${this._baseUrl}&id=${e}&token=${r}`;this._socket||!this._disconnected||(this._socket=new WebSocket(n+"&version="+q9.version),this._disconnected=!1,this._socket.onmessage=i=>{let s;try{s=JSON.parse(i.data),Re.log("Server message received:",s)}catch{Re.log("Invalid server message",i.data);return}this.emit(ai.Message,s)},this._socket.onclose=i=>{this._disconnected||(Re.log("Socket closed.",i),this._cleanup(),this._disconnected=!0,this.emit(ai.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),Re.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){Re.log("Cannot send heartbeat, because socket closed");return}const e=JSON.stringify({type:Xt.Heartbeat});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const e=[...this._messagesQueue];this._messagesQueue=[];for(const r of e)this.send(r)}send(e){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(e);return}if(!e.type){this.emit(ai.Error,"Invalid message");return}if(!this._wsOpen())return;const r=JSON.stringify(e);this._socket.send(r)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class FE{constructor(e){this.connection=e}startConnection(e){const r=this._startPeerConnection();if(this.connection.peerConnection=r,this.connection.type===mi.Media&&e._stream&&this._addTracksToConnection(e._stream,r),e.originator){const n=this.connection,i={ordered:!!e.reliable},s=r.createDataChannel(n.label,i);n._initializeDataChannel(s),this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){Re.log("Creating RTCPeerConnection.");const e=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(e),e}_setupListeners(e){const r=this.connection.peer,n=this.connection.connectionId,i=this.connection.type,s=this.connection.provider;Re.log("Listening for ICE candidates."),e.onicecandidate=o=>{!o.candidate||!o.candidate.candidate||(Re.log(`Received ICE candidates for ${r}:`,o.candidate),s.socket.send({type:Xt.Candidate,payload:{candidate:o.candidate,type:i,connectionId:n},dst:r}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":Re.log("iceConnectionState is failed, closing connections to "+r),this.connection.emitError(Hc.NegotiationFailed,"Negotiation of connection to "+r+" failed."),this.connection.close();break;case"closed":Re.log("iceConnectionState is closed, closing connections to "+r),this.connection.emitError(Hc.ConnectionClosed,"Connection to "+r+" closed."),this.connection.close();break;case"disconnected":Re.log("iceConnectionState changed to disconnected on the connection with "+r);break;case"completed":e.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",e.iceConnectionState)},Re.log("Listening for data channel"),e.ondatachannel=o=>{Re.log("Received data channel");const a=o.channel;s.getConnection(r,n)._initializeDataChannel(a)},Re.log("Listening for remote stream"),e.ontrack=o=>{Re.log("Received remote stream");const a=o.streams[0],c=s.getConnection(r,n);if(c.type===mi.Media){const l=c;this._addStreamToMediaConnection(a,l)}}}cleanup(){Re.log("Cleaning up PeerConnection to "+this.connection.peer);const e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=()=>{};const r=e.signalingState!=="closed";let n=!1;const i=this.connection.dataChannel;i&&(n=!!i.readyState&&i.readyState!=="closed"),(r||n)&&e.close()}async _makeOffer(){const e=this.connection.peerConnection,r=this.connection.provider;try{const n=await e.createOffer(this.connection.options.constraints);Re.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{await e.setLocalDescription(n),Re.log("Set localDescription:",n,`for:${this.connection.peer}`);let i={sdp:n,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===mi.Data){const s=this.connection;i={...i,label:s.label,reliable:s.reliable,serialization:s.serialization}}r.socket.send({type:Xt.Offer,payload:i,dst:this.connection.peer})}catch(i){i!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(r.emitError(Tt.WebRTC,i),Re.log("Failed to setLocalDescription, ",i))}}catch(n){r.emitError(Tt.WebRTC,n),Re.log("Failed to createOffer, ",n)}}async _makeAnswer(){const e=this.connection.peerConnection,r=this.connection.provider;try{const n=await e.createAnswer();Re.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{await e.setLocalDescription(n),Re.log("Set localDescription:",n,`for:${this.connection.peer}`),r.socket.send({type:Xt.Answer,payload:{sdp:n,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(i){r.emitError(Tt.WebRTC,i),Re.log("Failed to setLocalDescription, ",i)}}catch(n){r.emitError(Tt.WebRTC,n),Re.log("Failed to create answer, ",n)}}async handleSDP(e,r){r=new RTCSessionDescription(r);const n=this.connection.peerConnection,i=this.connection.provider;Re.log("Setting remote description",r);const s=this;try{await n.setRemoteDescription(r),Re.log(`Set remoteDescription:${e} for:${this.connection.peer}`),e==="OFFER"&&await s._makeAnswer()}catch(o){i.emitError(Tt.WebRTC,o),Re.log("Failed to setRemoteDescription, ",o)}}async handleCandidate(e){Re.log("handleCandidate:",e);try{await this.connection.peerConnection.addIceCandidate(e),Re.log(`Added ICE candidate for:${this.connection.peer}`)}catch(r){this.connection.provider.emitError(Tt.WebRTC,r),Re.log("Failed to handleCandidate, ",r)}}_addTracksToConnection(e,r){if(Re.log(`add tracks from stream ${e.id} to peer connection`),!r.addTrack)return Re.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(n=>{r.addTrack(n,e)})}_addStreamToMediaConnection(e,r){Re.log(`add stream ${e.id} to media connection ${r.connectionId}`),r.addStream(e)}}class SE extends V9.EventEmitter{emitError(e,r){Re.error("Error:",r),this.emit("error",new bO(`${e}`,r))}}class bO extends Error{constructor(e,r){typeof r=="string"?super(r):(super(),Object.assign(this,r)),this.type=e}}class PE extends SE{get open(){return this._open}constructor(e,r,n){super(),this.peer=e,this.provider=r,this.options=n,this._open=!1,this.metadata=n.metadata}}var c8;const Ec=class Ec extends PE{get type(){return mi.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,r,n){super(e,r,n),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||Ec.ID_PREFIX+Ir.randomToken(),this._negotiator=new FE(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{Re.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{Re.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(e){Re.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){const r=e.type,n=e.payload;switch(e.type){case Xt.Answer:this._negotiator.handleSDP(r,n.sdp),this._open=!0;break;case Xt.Candidate:this._negotiator.handleCandidate(n.candidate);break;default:Re.warn(`Unrecognized message type:${r} from peer:${this.peer}`);break}}answer(e,r={}){if(this._localStream){Re.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=e,r&&r.sdpTransform&&(this.options.sdpTransform=r.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:e});const n=this.provider._getMessages(this.connectionId);for(const i of n)this.handleMessage(i);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}};c8=new WeakMap,wa(Ec,c8,Ec.ID_PREFIX="mc_");let Pf=Ec;class CO{constructor(e){this._options=e}_buildRequest(e){const r=this._options.secure?"https":"http",{host:n,port:i,path:s,key:o}=this._options,a=new URL(`${r}://${n}:${i}${s}${o}/${e}`);return a.searchParams.set("ts",`${Date.now()}${Math.random()}`),a.searchParams.set("version",q9.version),fetch(a.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const e=await this._buildRequest("id");if(e.status!==200)throw new Error(`Error. Status:${e.status}`);return e.text()}catch(e){Re.error("Error retrieving ID",e);let r="";throw this._options.path==="/"&&this._options.host!==Ir.CLOUD_HOST&&(r=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+r)}}async listAllPeers(){try{const e=await this._buildRequest("peers");if(e.status!==200){if(e.status===401){let r="";throw this._options.host===Ir.CLOUD_HOST?r="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":r="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+r)}throw new Error(`Error. Status:${e.status}`)}return e.json()}catch(e){throw Re.error("Error retrieving list peers",e),new Error("Could not get list peers from the server."+e)}}}var l8,u8;const y0=class y0 extends PE{get type(){return mi.Data}constructor(e,r,n){super(e,r,n),this.connectionId=this.options.connectionId||y0.ID_PREFIX+DE(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new FE(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{Re.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=r=>{Re.log(`DC#${this.connectionId} dc onmessage:`,r.data)},this.dataChannel.onclose=()=>{Re.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(e){if(e!=null&&e.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(e,r=!1){if(!this.open){this.emitError(Vc.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(e,r)}async handleMessage(e){const r=e.payload;switch(e.type){case Xt.Answer:await this._negotiator.handleSDP(e.type,r.sdp);break;case Xt.Candidate:await this._negotiator.handleCandidate(r.candidate);break;default:Re.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}}};l8=new WeakMap,u8=new WeakMap,wa(y0,l8,y0.ID_PREFIX="dc_"),wa(y0,u8,y0.MAX_BUFFERED_AMOUNT=8388608);let Tf=y0;class W9 extends Tf{get bufferSize(){return this._bufferSize}_initializeDataChannel(e){super._initializeDataChannel(e),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",r=>this._handleDataMessage(r))}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>Tf.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(r){return Re.error(`DC#:${this.connectionId} Error when sending:`,r),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(e){if(e!=null&&e.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...e){super(...e),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class n1 extends W9{close(e){super.close(e),this._chunkedData={}}constructor(e,r,n){super(e,r,n),this.chunker=new BE,this.serialization=da.Binary,this._chunkedData={}}_handleDataMessage({data:e}){const r=Ly(e),n=r.__peerData;if(n){if(n.type==="close"){this.close();return}this._handleChunk(r);return}this.emit("data",r)}_handleChunk(e){const r=e.__peerData,n=this._chunkedData[r]||{data:[],count:0,total:e.total};if(n.data[e.n]=new Uint8Array(e.data),n.count++,this._chunkedData[r]=n,n.total===n.count){delete this._chunkedData[r];const i=dO(n.data);this._handleDataMessage({data:i})}}_send(e,r){const n=Ny(e);if(n instanceof Promise)return this._send_blob(n);if(!r&&n.byteLength>this.chunker.chunkedMTU){this._sendChunks(n);return}this._bufferedSend(n)}async _send_blob(e){const r=await e;if(r.byteLength>this.chunker.chunkedMTU){this._sendChunks(r);return}this._bufferedSend(r)}_sendChunks(e){const r=this.chunker.chunk(e);Re.log(`DC#${this.connectionId} Try to send ${r.length} chunks...`);for(const n of r)this.send(n,!0)}}class AO extends W9{_handleDataMessage({data:e}){super.emit("data",e)}_send(e,r){this._bufferedSend(e)}constructor(...e){super(...e),this.serialization=da.None}}class vO extends W9{_handleDataMessage({data:e}){const r=this.parse(this.decoder.decode(e)),n=r.__peerData;if(n&&n.type==="close"){this.close();return}this.emit("data",r)}_send(e,r){const n=this.encoder.encode(this.stringify(e));if(n.byteLength>=Ir.chunkedMTU){this.emitError(Vc.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(n)}constructor(...e){super(...e),this.serialization=da.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}var f8;const bc=class bc extends SE{get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const e=Object.create(null);for(const[r,n]of this._connections)e[r]=n;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(e,r){super(),this._serializers={raw:AO,json:vO,binary:n1,"binary-utf8":n1,default:n1},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let n;if(e&&e.constructor==Object?r=e:e&&(n=e.toString()),r={debug:0,host:Ir.CLOUD_HOST,port:Ir.CLOUD_PORT,path:"/",key:bc.DEFAULT_KEY,token:Ir.randomToken(),config:Ir.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...r},this._options=r,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==Ir.CLOUD_HOST?this._options.secure=Ir.isSecure():this._options.host==Ir.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&Re.setLogFunction(this._options.logFunction),Re.logLevel=this._options.debug||0,this._api=new CO(r),this._socket=this._createServerConnection(),!Ir.supports.audioVideo&&!Ir.supports.data){this._delayedAbort(Tt.BrowserIncompatible,"The current browser does not support WebRTC");return}if(n&&!Ir.validateId(n)){this._delayedAbort(Tt.InvalidID,`ID "${n}" is invalid`);return}n?this._initialize(n):this._api.retrieveId().then(i=>this._initialize(i)).catch(i=>this._abort(Tt.ServerError,i))}_createServerConnection(){const e=new EO(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return e.on(ai.Message,r=>{this._handleMessage(r)}),e.on(ai.Error,r=>{this._abort(Tt.SocketError,r)}),e.on(ai.Disconnected,()=>{this.disconnected||(this.emitError(Tt.Network,"Lost connection to server."),this.disconnect())}),e.on(ai.Close,()=>{this.disconnected||this._abort(Tt.SocketClosed,"Underlying socket is already closed.")}),e}_initialize(e){this._id=e,this.socket.start(e,this._options.token)}_handleMessage(e){const r=e.type,n=e.payload,i=e.src;switch(r){case Xt.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case Xt.Error:this._abort(Tt.ServerError,n.msg);break;case Xt.IdTaken:this._abort(Tt.UnavailableID,`ID "${this.id}" is taken`);break;case Xt.InvalidKey:this._abort(Tt.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case Xt.Leave:Re.log(`Received leave message from ${i}`),this._cleanupPeer(i),this._connections.delete(i);break;case Xt.Expire:this.emitError(Tt.PeerUnavailable,`Could not connect to peer ${i}`);break;case Xt.Offer:{const s=n.connectionId;let o=this.getConnection(i,s);if(o&&(o.close(),Re.warn(`Offer received for existing Connection ID:${s}`)),n.type===mi.Media){const c=new Pf(i,this,{connectionId:s,_payload:n,metadata:n.metadata});o=c,this._addConnection(i,o),this.emit("call",c)}else if(n.type===mi.Data){const c=new this._serializers[n.serialization](i,this,{connectionId:s,_payload:n,metadata:n.metadata,label:n.label,serialization:n.serialization,reliable:n.reliable});o=c,this._addConnection(i,o),this.emit("connection",c)}else{Re.warn(`Received malformed connection type:${n.type}`);return}const a=this._getMessages(s);for(const c of a)o.handleMessage(c);break}default:{if(!n){Re.warn(`You received a malformed message from ${i} of type ${r}`);return}const s=n.connectionId,o=this.getConnection(i,s);o&&o.peerConnection?o.handleMessage(e):s?this._storeMessage(s,e):Re.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,r){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(r)}_getMessages(e){const r=this._lostMessages.get(e);return r?(this._lostMessages.delete(e),r):[]}connect(e,r={}){if(r={serialization:"default",...r},this.disconnected){Re.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(Tt.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const n=new this._serializers[r.serialization](e,this,r);return this._addConnection(e,n),n}call(e,r,n={}){if(this.disconnected){Re.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(Tt.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!r){Re.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const i=new Pf(e,this,{...n,_stream:r});return this._addConnection(e,i),i}_addConnection(e,r){Re.log(`add connection ${r.type}:${r.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(r)}_removeConnection(e){const r=this._connections.get(e.peer);if(r){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}this._lostMessages.delete(e.connectionId)}getConnection(e,r){const n=this._connections.get(e);if(!n)return null;for(const i of n)if(i.connectionId===r)return i;return null}_delayedAbort(e,r){setTimeout(()=>{this._abort(e,r)},0)}_abort(e,r){Re.error("Aborting!"),this.emitError(e,r),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(Re.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){const r=this._connections.get(e);if(r)for(const n of r)n.close()}disconnect(){if(this.disconnected)return;const e=this.id;Re.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)Re.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)Re.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(e=r=>{}){this._api.listAllPeers().then(r=>e(r)).catch(r=>this._abort(Tt.ServerError,r))}};f8=new WeakMap,wa(bc,f8,bc.DEFAULT_KEY="peerjs");let Jh=bc;var C7={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},_O=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],o=t[r++],a=t[r++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const s=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},ME={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,u=s>>2,f=(s&3)<<4|a>>4;let x=(a&15)<<2|l>>6,h=l&63;c||(h=64,o||(x=64)),n.push(r[u],r[f],r[x],r[h])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(TE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_O(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],a=i<t.length?r[t.charAt(i)]:0;++i;const l=i<t.length?r[t.charAt(i)]:64;++i;const f=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||f==null)throw new wO;const x=s<<2|a>>4;if(n.push(x),l!==64){const h=a<<4&240|l>>2;if(n.push(h),f!==64){const C=l<<6&192|f;n.push(C)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class wO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BO=function(t){const e=TE(t);return ME.encodeByteArray(e,!0)},IE=function(t){return BO(t).replace(/\./g,"")},DO=function(t){try{return ME.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=()=>kO().__FIREBASE_DEFAULTS__,SO=()=>{if(typeof process>"u"||typeof C7>"u")return;const t=C7.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},PO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&DO(t[1]);return e&&JSON.parse(e)},TO=()=>{try{return FO()||SO()||PO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},RE=()=>{var t;return(t=TO())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}function OE(){try{return typeof indexedDB=="object"}catch{return!1}}function LE(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){e(r)}})}function IO(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO="FirebaseError";class _a extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=RO,Object.setPrototypeOf(this,_a.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fd.prototype.create)}}class Fd{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?OO(s,n):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new _a(i,a,n)}}function OO(t,e){return t.replace(LO,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const LO=/\{\$([^}]+)}/g;function Xh(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],o=e[i];if(A7(s)&&A7(o)){if(!Xh(s,o))return!1}else if(s!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function A7(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G9(t){return t&&t._delegate?t._delegate:t}class Ws{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new MO;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UO(e))try{this.getOrInitializeService({instanceIdentifier:p0})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=p0){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=p0){return this.instances.has(e)}getOptions(e=p0){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);n===a&&o.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),s=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:KO(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=p0){return this.component?this.component.multipleInstances?e:p0:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KO(t){return t===p0?void 0:t}function UO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new NO(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(vt||(vt={}));const zO={debug:vt.DEBUG,verbose:vt.VERBOSE,info:vt.INFO,warn:vt.WARN,error:vt.ERROR,silent:vt.SILENT},jO=vt.INFO,HO={[vt.DEBUG]:"log",[vt.VERBOSE]:"log",[vt.INFO]:"info",[vt.WARN]:"warn",[vt.ERROR]:"error"},VO=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=HO[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qO{constructor(e){this.name=e,this._logLevel=jO,this._logHandler=VO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in vt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,vt.DEBUG,...e),this._logHandler(this,vt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,vt.VERBOSE,...e),this._logHandler(this,vt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,vt.INFO,...e),this._logHandler(this,vt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,vt.WARN,...e),this._logHandler(this,vt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,vt.ERROR,...e),this._logHandler(this,vt.ERROR,...e)}}const WO=(t,e)=>e.some(r=>t instanceof r);let v7,_7;function GO(){return v7||(v7=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YO(){return _7||(_7=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NE=new WeakMap,Qh=new WeakMap,KE=new WeakMap,i1=new WeakMap,Y9=new WeakMap;function JO(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{r(Rs(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&NE.set(r,t)}).catch(()=>{}),Y9.set(e,t),e}function XO(t){if(Qh.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Qh.set(t,e)}let Zh={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Qh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||KE.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Rs(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function QO(t){Zh=t(Zh)}function ZO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(s1(this),e,...r);return KE.set(n,e.sort?e.sort():[e]),Rs(n)}:YO().includes(t)?function(...e){return t.apply(s1(this),e),Rs(NE.get(this))}:function(...e){return Rs(t.apply(s1(this),e))}}function eL(t){return typeof t=="function"?ZO(t):(t instanceof IDBTransaction&&XO(t),WO(t,GO())?new Proxy(t,Zh):t)}function Rs(t){if(t instanceof IDBRequest)return JO(t);if(i1.has(t))return i1.get(t);const e=eL(t);return e!==t&&(i1.set(t,e),Y9.set(e,t)),e}const s1=t=>Y9.get(t);function tL(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Rs(o);return n&&o.addEventListener("upgradeneeded",c=>{n(Rs(o.result),c.oldVersion,c.newVersion,Rs(o.transaction),c)}),r&&o.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const rL=["get","getKey","getAll","getAllKeys","count"],nL=["put","add","delete","clear"],o1=new Map;function w7(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(o1.get(e))return o1.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=nL.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||rL.includes(r)))return;const s=async function(o,...a){const c=this.transaction(o,i?"readwrite":"readonly");let l=c.store;return n&&(l=l.index(a.shift())),(await Promise.all([l[r](...a),i&&c.done]))[0]};return o1.set(e,s),s}QO(t=>({...t,get:(e,r,n)=>w7(e,r)||t.get(e,r,n),has:(e,r)=>!!w7(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(sL(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function sL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const e8="@firebase/app",B7="0.9.26";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0=new qO("@firebase/app"),oL="@firebase/app-compat",aL="@firebase/analytics-compat",cL="@firebase/analytics",lL="@firebase/app-check-compat",uL="@firebase/app-check",fL="@firebase/auth",dL="@firebase/auth-compat",xL="@firebase/database",hL="@firebase/database-compat",pL="@firebase/functions",mL="@firebase/functions-compat",gL="@firebase/installations",yL="@firebase/installations-compat",EL="@firebase/messaging",bL="@firebase/messaging-compat",CL="@firebase/performance",AL="@firebase/performance-compat",vL="@firebase/remote-config",_L="@firebase/remote-config-compat",wL="@firebase/storage",BL="@firebase/storage-compat",DL="@firebase/firestore",kL="@firebase/firestore-compat",FL="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t8="[DEFAULT]",SL={[e8]:"fire-core",[oL]:"fire-core-compat",[cL]:"fire-analytics",[aL]:"fire-analytics-compat",[uL]:"fire-app-check",[lL]:"fire-app-check-compat",[fL]:"fire-auth",[dL]:"fire-auth-compat",[xL]:"fire-rtdb",[hL]:"fire-rtdb-compat",[pL]:"fire-fn",[mL]:"fire-fn-compat",[gL]:"fire-iid",[yL]:"fire-iid-compat",[EL]:"fire-fcm",[bL]:"fire-fcm-compat",[CL]:"fire-perf",[AL]:"fire-perf-compat",[vL]:"fire-rc",[_L]:"fire-rc-compat",[wL]:"fire-gcs",[BL]:"fire-gcs-compat",[DL]:"fire-fst",[kL]:"fire-fst-compat","fire-js":"fire-js",[FL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf=new Map,r8=new Map;function PL(t,e){try{t.container.addComponent(e)}catch(r){q0.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function W0(t){const e=t.name;if(r8.has(e))return q0.debug(`There were multiple attempts to register component ${e}.`),!1;r8.set(e,t);for(const r of Mf.values())PL(r,t);return!0}function J9(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Os=new Fd("app","Firebase",TL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Os.create("app-deleted",{appName:this._name})}}function UE(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:t8,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw Os.create("bad-app-name",{appName:String(i)});if(r||(r=RE()),!r)throw Os.create("no-options");const s=Mf.get(i);if(s){if(Xh(r,s.options)&&Xh(n,s.config))return s;throw Os.create("duplicate-app",{appName:i})}const o=new $O(i);for(const c of r8.values())o.addComponent(c);const a=new ML(r,n,o);return Mf.set(i,a),a}function IL(t=t8){const e=Mf.get(t);if(!e&&t===t8&&RE())return UE();if(!e)throw Os.create("no-app",{appName:t});return e}function Ls(t,e,r){var n;let i=(n=SL[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),q0.warn(a.join(" "));return}W0(new Ws(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL="firebase-heartbeat-database",OL=1,qc="firebase-heartbeat-store";let a1=null;function $E(){return a1||(a1=tL(RL,OL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(qc)}catch(r){console.warn(r)}}}}).catch(t=>{throw Os.create("idb-open",{originalErrorMessage:t.message})})),a1}async function LL(t){try{return await(await $E()).transaction(qc).objectStore(qc).get(zE(t))}catch(e){if(e instanceof _a)q0.warn(e.message);else{const r=Os.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});q0.warn(r.message)}}}async function D7(t,e){try{const n=(await $E()).transaction(qc,"readwrite");await n.objectStore(qc).put(e,zE(t)),await n.done}catch(r){if(r instanceof _a)q0.warn(r.message);else{const n=Os.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});q0.warn(n.message)}}}function zE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL=1024,KL=30*24*60*60*1e3;class UL{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new zL(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=k7();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=KL}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=k7(),{heartbeatsToSend:n,unsentEntries:i}=$L(this._heartbeatsCache.heartbeats),s=IE(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function k7(){return new Date().toISOString().substring(0,10)}function $L(t,e=NL){const r=[];let n=t.slice();for(const i of t){const s=r.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),F7(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),F7(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class zL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OE()?LE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await LL(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return D7(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return D7(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function F7(t){return IE(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(t){W0(new Ws("platform-logger",e=>new iL(e),"PRIVATE")),W0(new Ws("heartbeat",e=>new UL(e),"PRIVATE")),Ls(e8,B7,t),Ls(e8,B7,"esm2017"),Ls("fire-js","")}jL("");var HL="firebase",VL="10.7.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ls(HL,VL,"app");const qL=(t,e)=>e.some(r=>t instanceof r);let S7,P7;function WL(){return S7||(S7=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GL(){return P7||(P7=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jE=new WeakMap,n8=new WeakMap,HE=new WeakMap,c1=new WeakMap,X9=new WeakMap;function YL(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{r(Ns(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&jE.set(r,t)}).catch(()=>{}),X9.set(e,t),e}function JL(t){if(n8.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});n8.set(t,e)}let i8={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return n8.get(t);if(e==="objectStoreNames")return t.objectStoreNames||HE.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ns(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function XL(t){i8=t(i8)}function QL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(l1(this),e,...r);return HE.set(n,e.sort?e.sort():[e]),Ns(n)}:GL().includes(t)?function(...e){return t.apply(l1(this),e),Ns(jE.get(this))}:function(...e){return Ns(t.apply(l1(this),e))}}function ZL(t){return typeof t=="function"?QL(t):(t instanceof IDBTransaction&&JL(t),qL(t,WL())?new Proxy(t,i8):t)}function Ns(t){if(t instanceof IDBRequest)return YL(t);if(c1.has(t))return c1.get(t);const e=ZL(t);return e!==t&&(c1.set(t,e),X9.set(e,t)),e}const l1=t=>X9.get(t);function eN(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ns(o);return n&&o.addEventListener("upgradeneeded",c=>{n(Ns(o.result),c.oldVersion,c.newVersion,Ns(o.transaction))}),r&&o.addEventListener("blocked",()=>r()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const tN=["get","getKey","getAll","getAllKeys","count"],rN=["put","add","delete","clear"],u1=new Map;function T7(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(u1.get(e))return u1.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=rN.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||tN.includes(r)))return;const s=async function(o,...a){const c=this.transaction(o,i?"readwrite":"readonly");let l=c.store;return n&&(l=l.index(a.shift())),(await Promise.all([l[r](...a),i&&c.done]))[0]};return u1.set(e,s),s}XL(t=>({...t,get:(e,r,n)=>T7(e,r)||t.get(e,r,n),has:(e,r)=>!!T7(e,r)||t.has(e,r)}));const VE="@firebase/installations",Q9="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE=1e4,WE=`w:${Q9}`,GE="FIS_v2",nN="https://firebaseinstallations.googleapis.com/v1",iN=60*60*1e3,sN="installations",oN="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},G0=new Fd(sN,oN,aN);function YE(t){return t instanceof _a&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE({projectId:t}){return`${nN}/projects/${t}/installations`}function XE(t){return{token:t.token,requestStatus:2,expiresIn:lN(t.expiresIn),creationTime:Date.now()}}async function QE(t,e){const n=(await e.json()).error;return G0.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function ZE({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function cN(t,{refreshToken:e}){const r=ZE(t);return r.append("Authorization",uN(e)),r}async function eb(t){const e=await t();return e.status>=500&&e.status<600?t():e}function lN(t){return Number(t.replace("s","000"))}function uN(t){return`${GE} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fN({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=JE(t),i=ZE(t),s=e.getImmediate({optional:!0});if(s){const l=await s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const o={fid:r,authVersion:GE,appId:t.appId,sdkVersion:WE},a={method:"POST",headers:i,body:JSON.stringify(o)},c=await eb(()=>fetch(n,a));if(c.ok){const l=await c.json();return{fid:l.fid||r,registrationStatus:2,refreshToken:l.refreshToken,authToken:XE(l.authToken)}}else throw await QE("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=/^[cdef][\w-]{21}$/,s8="";function hN(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=pN(t);return xN.test(r)?r:s8}catch{return s8}}function pN(t){return dN(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sd(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb=new Map;function nb(t,e){const r=Sd(t);ib(r,e),mN(r,e)}function ib(t,e){const r=rb.get(t);if(r)for(const n of r)n(e)}function mN(t,e){const r=gN();r&&r.postMessage({key:t,fid:e}),yN()}let S0=null;function gN(){return!S0&&"BroadcastChannel"in self&&(S0=new BroadcastChannel("[Firebase] FID Change"),S0.onmessage=t=>{ib(t.data.key,t.data.fid)}),S0}function yN(){rb.size===0&&S0&&(S0.close(),S0=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN="firebase-installations-database",bN=1,Y0="firebase-installations-store";let f1=null;function Z9(){return f1||(f1=eN(EN,bN,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Y0)}}})),f1}async function If(t,e){const r=Sd(t),i=(await Z9()).transaction(Y0,"readwrite"),s=i.objectStore(Y0),o=await s.get(r);return await s.put(e,r),await i.done,(!o||o.fid!==e.fid)&&nb(t,e.fid),e}async function sb(t){const e=Sd(t),n=(await Z9()).transaction(Y0,"readwrite");await n.objectStore(Y0).delete(e),await n.done}async function Pd(t,e){const r=Sd(t),i=(await Z9()).transaction(Y0,"readwrite"),s=i.objectStore(Y0),o=await s.get(r),a=e(o);return a===void 0?await s.delete(r):await s.put(a,r),await i.done,a&&(!o||o.fid!==a.fid)&&nb(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e6(t){let e;const r=await Pd(t.appConfig,n=>{const i=CN(n),s=AN(t,i);return e=s.registrationPromise,s.installationEntry});return r.fid===s8?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function CN(t){const e=t||{fid:hN(),registrationStatus:0};return ob(e)}function AN(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(G0.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=vN(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:_N(t)}:{installationEntry:e}}async function vN(t,e){try{const r=await fN(t,e);return If(t.appConfig,r)}catch(r){throw YE(r)&&r.customData.serverCode===409?await sb(t.appConfig):await If(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function _N(t){let e=await M7(t.appConfig);for(;e.registrationStatus===1;)await tb(100),e=await M7(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await e6(t);return n||r}return e}function M7(t){return Pd(t,e=>{if(!e)throw G0.create("installation-not-found");return ob(e)})}function ob(t){return wN(t)?{fid:t.fid,registrationStatus:0}:t}function wN(t){return t.registrationStatus===1&&t.registrationTime+qE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BN({appConfig:t,heartbeatServiceProvider:e},r){const n=DN(t,r),i=cN(t,r),s=e.getImmediate({optional:!0});if(s){const l=await s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const o={installation:{sdkVersion:WE,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},c=await eb(()=>fetch(n,a));if(c.ok){const l=await c.json();return XE(l)}else throw await QE("Generate Auth Token",c)}function DN(t,{fid:e}){return`${JE(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t6(t,e=!1){let r;const n=await Pd(t.appConfig,s=>{if(!ab(s))throw G0.create("not-registered");const o=s.authToken;if(!e&&SN(o))return s;if(o.requestStatus===1)return r=kN(t,e),s;{if(!navigator.onLine)throw G0.create("app-offline");const a=TN(s);return r=FN(t,a),a}});return r?await r:n.authToken}async function kN(t,e){let r=await I7(t.appConfig);for(;r.authToken.requestStatus===1;)await tb(100),r=await I7(t.appConfig);const n=r.authToken;return n.requestStatus===0?t6(t,e):n}function I7(t){return Pd(t,e=>{if(!ab(e))throw G0.create("not-registered");const r=e.authToken;return MN(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function FN(t,e){try{const r=await BN(t,e),n=Object.assign(Object.assign({},e),{authToken:r});return await If(t.appConfig,n),r}catch(r){if(YE(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await sb(t.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await If(t.appConfig,n)}throw r}}function ab(t){return t!==void 0&&t.registrationStatus===2}function SN(t){return t.requestStatus===2&&!PN(t)}function PN(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+iN}function TN(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function MN(t){return t.requestStatus===1&&t.requestTime+qE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IN(t){const e=t,{installationEntry:r,registrationPromise:n}=await e6(e);return n?n.catch(console.error):t6(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RN(t,e=!1){const r=t;return await ON(r),(await t6(r,e)).token}async function ON(t){const{registrationPromise:e}=await e6(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(t){if(!t||!t.options)throw d1("App Configuration");if(!t.name)throw d1("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw d1(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function d1(t){return G0.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="installations",NN="installations-internal",KN=t=>{const e=t.getProvider("app").getImmediate(),r=LN(e),n=J9(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},UN=t=>{const e=t.getProvider("app").getImmediate(),r=J9(e,cb).getImmediate();return{getId:()=>IN(r),getToken:i=>RN(r,i)}};function $N(){W0(new Ws(cb,KN,"PUBLIC")),W0(new Ws(NN,UN,"PRIVATE"))}$N();Ls(VE,Q9);Ls(VE,Q9,"esm2017");const zN=(t,e)=>e.some(r=>t instanceof r);let R7,O7;function jN(){return R7||(R7=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HN(){return O7||(O7=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lb=new WeakMap,o8=new WeakMap,ub=new WeakMap,x1=new WeakMap,r6=new WeakMap;function VN(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{r(ji(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&lb.set(r,t)}).catch(()=>{}),r6.set(e,t),e}function qN(t){if(o8.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});o8.set(t,e)}let a8={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return o8.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ub.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ji(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function WN(t){a8=t(a8)}function GN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(h1(this),e,...r);return ub.set(n,e.sort?e.sort():[e]),ji(n)}:HN().includes(t)?function(...e){return t.apply(h1(this),e),ji(lb.get(this))}:function(...e){return ji(t.apply(h1(this),e))}}function YN(t){return typeof t=="function"?GN(t):(t instanceof IDBTransaction&&qN(t),zN(t,jN())?new Proxy(t,a8):t)}function ji(t){if(t instanceof IDBRequest)return VN(t);if(x1.has(t))return x1.get(t);const e=YN(t);return e!==t&&(x1.set(t,e),r6.set(e,t)),e}const h1=t=>r6.get(t);function fb(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ji(o);return n&&o.addEventListener("upgradeneeded",c=>{n(ji(o.result),c.oldVersion,c.newVersion,ji(o.transaction),c)}),r&&o.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}function p1(t,{blocked:e}={}){const r=indexedDB.deleteDatabase(t);return e&&r.addEventListener("blocked",n=>e(n.oldVersion,n)),ji(r).then(()=>{})}const JN=["get","getKey","getAll","getAllKeys","count"],XN=["put","add","delete","clear"],m1=new Map;function L7(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(m1.get(e))return m1.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=XN.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||JN.includes(r)))return;const s=async function(o,...a){const c=this.transaction(o,i?"readwrite":"readonly");let l=c.store;return n&&(l=l.index(a.shift())),(await Promise.all([l[r](...a),i&&c.done]))[0]};return m1.set(e,s),s}WN(t=>({...t,get:(e,r,n)=>L7(e,r)||t.get(e,r,n),has:(e,r)=>!!L7(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN="/firebase-messaging-sw.js",ZN="/firebase-cloud-messaging-push-scope",db="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",eK="https://fcmregistrations.googleapis.com/v1",xb="google.c.a.c_id",tK="google.c.a.c_l",rK="google.c.a.ts",nK="google.c.a.e";var N7;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(N7||(N7={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Wc;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Wc||(Wc={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function iK(t){const e="=".repeat((4-t.length%4)%4),r=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(r),i=new Uint8Array(n.length);for(let s=0;s<n.length;++s)i[s]=n.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="fcm_token_details_db",sK=5,K7="fcm_token_object_Store";async function oK(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(g1))return null;let e=null;return(await fb(g1,sK,{upgrade:async(n,i,s,o)=>{var a;if(i<2||!n.objectStoreNames.contains(K7))return;const c=o.objectStore(K7),l=await c.index("fcmSenderId").get(t);if(await c.clear(),!!l){if(i===2){const u=l;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:(a=u.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:ki(u.vapidKey)}}}else if(i===3){const u=l;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:ki(u.auth),p256dh:ki(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:ki(u.vapidKey)}}}else if(i===4){const u=l;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:ki(u.auth),p256dh:ki(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:ki(u.vapidKey)}}}}}})).close(),await p1(g1),await p1("fcm_vapid_details_db"),await p1("undefined"),aK(e)?e:null}function aK(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cK="firebase-messaging-database",lK=1,J0="firebase-messaging-store";let y1=null;function n6(){return y1||(y1=fb(cK,lK,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(J0)}}})),y1}async function hb(t){const e=s6(t),n=await(await n6()).transaction(J0).objectStore(J0).get(e);if(n)return n;{const i=await oK(t.appConfig.senderId);if(i)return await i6(t,i),i}}async function i6(t,e){const r=s6(t),i=(await n6()).transaction(J0,"readwrite");return await i.objectStore(J0).put(e,r),await i.done,e}async function uK(t){const e=s6(t),n=(await n6()).transaction(J0,"readwrite");await n.objectStore(J0).delete(e),await n.done}function s6({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fK={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},hr=new Fd("messaging","Messaging",fK);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dK(t,e){const r=await a6(t),n=mb(e),i={method:"POST",headers:r,body:JSON.stringify(n)};let s;try{s=await(await fetch(o6(t.appConfig),i)).json()}catch(o){throw hr.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw hr.create("token-subscribe-failed",{errorInfo:o})}if(!s.token)throw hr.create("token-subscribe-no-token");return s.token}async function xK(t,e){const r=await a6(t),n=mb(e.subscriptionOptions),i={method:"PATCH",headers:r,body:JSON.stringify(n)};let s;try{s=await(await fetch(`${o6(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw hr.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw hr.create("token-update-failed",{errorInfo:o})}if(!s.token)throw hr.create("token-update-no-token");return s.token}async function pb(t,e){const n={method:"DELETE",headers:await a6(t)};try{const s=await(await fetch(`${o6(t.appConfig)}/${e}`,n)).json();if(s.error){const o=s.error.message;throw hr.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw hr.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function o6({projectId:t}){return`${eK}/projects/${t}/registrations`}async function a6({appConfig:t,installations:e}){const r=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})}function mb({p256dh:t,auth:e,endpoint:r,vapidKey:n}){const i={web:{endpoint:r,auth:e,p256dh:t}};return n!==db&&(i.web.applicationPubKey=n),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hK=7*24*60*60*1e3;async function pK(t){const e=await yK(t.swRegistration,t.vapidKey),r={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:ki(e.getKey("auth")),p256dh:ki(e.getKey("p256dh"))},n=await hb(t.firebaseDependencies);if(n){if(EK(n.subscriptionOptions,r))return Date.now()>=n.createTime+hK?gK(t,{token:n.token,createTime:Date.now(),subscriptionOptions:r}):n.token;try{await pb(t.firebaseDependencies,n.token)}catch(i){console.warn(i)}return U7(t.firebaseDependencies,r)}else return U7(t.firebaseDependencies,r)}async function mK(t){const e=await hb(t.firebaseDependencies);e&&(await pb(t.firebaseDependencies,e.token),await uK(t.firebaseDependencies));const r=await t.swRegistration.pushManager.getSubscription();return r?r.unsubscribe():!0}async function gK(t,e){try{const r=await xK(t.firebaseDependencies,e),n=Object.assign(Object.assign({},e),{token:r,createTime:Date.now()});return await i6(t.firebaseDependencies,n),r}catch(r){throw await mK(t),r}}async function U7(t,e){const n={token:await dK(t,e),createTime:Date.now(),subscriptionOptions:e};return await i6(t,n),n.token}async function yK(t,e){const r=await t.pushManager.getSubscription();return r||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:iK(e)})}function EK(t,e){const r=e.vapidKey===t.vapidKey,n=e.endpoint===t.endpoint,i=e.auth===t.auth,s=e.p256dh===t.p256dh;return r&&n&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $7(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return bK(e,t),CK(e,t),AK(e,t),e}function bK(t,e){if(!e.notification)return;t.notification={};const r=e.notification.title;r&&(t.notification.title=r);const n=e.notification.body;n&&(t.notification.body=n);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}function CK(t,e){e.data&&(t.data=e.data)}function AK(t,e){var r,n,i,s,o;if(!e.fcmOptions&&!(!((r=e.notification)===null||r===void 0)&&r.click_action))return;t.fcmOptions={};const a=(i=(n=e.fcmOptions)===null||n===void 0?void 0:n.link)!==null&&i!==void 0?i:(s=e.notification)===null||s===void 0?void 0:s.click_action;a&&(t.fcmOptions.link=a);const c=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;c&&(t.fcmOptions.analyticsLabel=c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vK(t){return typeof t=="object"&&!!t&&xb in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gb("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o");gb("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function gb(t,e){const r=[];for(let n=0;n<t.length;n++)r.push(t.charAt(n)),n<e.length&&r.push(e.charAt(n));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _K(t){if(!t||!t.options)throw E1("App Configuration Object");if(!t.name)throw E1("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:r}=t;for(const n of e)if(!r[n])throw E1(n);return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}function E1(t){return hr.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wK{constructor(e,r,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=_K(e);this.firebaseDependencies={app:e,appConfig:i,installations:r,analyticsProvider:n}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BK(t){try{t.swRegistration=await navigator.serviceWorker.register(QN,{scope:ZN}),t.swRegistration.update().catch(()=>{})}catch(e){throw hr.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DK(t,e){if(!e&&!t.swRegistration&&await BK(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw hr.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kK(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=db)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yb(t,e){if(!navigator)throw hr.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw hr.create("permission-blocked");return await kK(t,e==null?void 0:e.vapidKey),await DK(t,e==null?void 0:e.serviceWorkerRegistration),pK(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FK(t,e,r){const n=SK(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(n,{message_id:r[xb],message_name:r[tK],message_time:r[rK],message_device_time:Math.floor(Date.now()/1e3)})}function SK(t){switch(t){case Wc.NOTIFICATION_CLICKED:return"notification_open";case Wc.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PK(t,e){const r=e.data;if(!r.isFirebaseMessaging)return;t.onMessageHandler&&r.messageType===Wc.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler($7(r)):t.onMessageHandler.next($7(r)));const n=r.data;vK(n)&&n[nK]==="1"&&await FK(t,r.messageType,n)}const z7="@firebase/messaging",j7="0.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TK=t=>{const e=new wK(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",r=>PK(e,r)),e},MK=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:n=>yb(e,n)}};function IK(){W0(new Ws("messaging",TK,"PUBLIC")),W0(new Ws("messaging-internal",MK,"PRIVATE")),Ls(z7,j7),Ls(z7,j7,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RK(){try{await LE()}catch{return!1}return typeof window<"u"&&OE()&&IO()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OK(t,e){if(!navigator)throw hr.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LK(t=IL()){return RK().then(e=>{if(!e)throw hr.create("unsupported-browser")},e=>{throw hr.create("indexed-db-unsupported")}),J9(G9(t),"messaging").getImmediate()}async function NK(t,e){return t=G9(t),yb(t,e)}function KK(t,e){return t=G9(t),OK(t,e)}IK();const UK={class:"page container d-flex flex-fill h-100"},$K={class:"row row-cols-2 g-0 flex-fill shadow"},zK="https://home.buzl.uk",jK={__name:"App",setup(t){const e=Ke(null),r=Ke(null),n={iceServers:[{urls:"turn:standard.relay.metered.ca:80",username:"90e794d7186335533be6a215",credential:"05ker3YuARTJkdfP"},{urls:"turn:standard.relay.metered.ca:443",username:"90e794d7186335533be6a215",credential:"05ker3YuARTJkdfP"}]},i={apiKey:"AIzaSyAh17S_KmK43c9U85OudQpti_JQ8hdYJn4",authDomain:"kaangiray26-messenger.firebaseapp.com",projectId:"kaangiray26-messenger",storageBucket:"kaangiray26-messenger.appspot.com",messagingSenderId:"908221026498",appId:"1:908221026498:web:0afd6e2859e0b20876ab5b"},s=Ke(null),o=Ke(null);async function a(){return crypto.getRandomValues(new Uint8Array(16)).reduce((T,F)=>T+(F%16).toString(16),"")}async function c(){const T=ve.contact.secret,F=ve.contacts.find(R=>R.secret==T).name;s.value.make_call(T,F)}async function l(){const T=ve.contact.secret,F=ve.contacts.find(R=>R.secret==T).name;o.value.make_call(T,F)}async function u(T){ve.connections[T.secret].notification=0,ve.contact=T;const R=await ve.db.transaction("messages","readonly").store.index("secret").getAll(T.secret);ve.connections[T.secret].items=R,r.value.focus_chat(),ve.peer._socket._socket.send(JSON.stringify({type:"CHECK",dst:T.secret}))}async function f(T){const F=T.metadata,R=T.metadata.secret,d=ve.contacts.find(p=>p.secret==R).name;if(F.type=="voicecall"){o.value.incoming_call(T,R,d);return}if(F.type=="videocall"){s.value.incoming_call(T,R,d);return}}async function x(T){if(T.on("data",async F=>{if(console.info("Incoming data:",F),F.type=="handshake"){if(ve.contacts.filter(p=>p.secret==F.secret).length)return;e.value.hide_qr(),ve.connections[F.secret]={conn:null,items:[],notification:!1,pubkey:F.pubkey,online:!1,last_seen:0},ve.contacts.push({name:F.name,secret:F.secret,pubkey:F.pubkey}),await ve.db.transaction("contacts","readwrite").store.put({name:F.name,secret:F.secret,pubkey:F.pubkey}),e.value.update_results(),T.send({type:"handshake",name:ht.name,secret:ht.secret,pubkey:ht.pubkey.armor()});return}if(F.type==="message"){const R=await Ah({message:await Ch({armoredMessage:F.message}),decryptionKeys:ht.privkey}),d=ve.contact&&ve.contact.secret==T.metadata.from;d?ve.focus||k(T.metadata.from,R.data):(ve.connections[T.metadata.from].notification+=1,k(T.metadata.from,R.data));const p=new Date,_={secret:T.metadata.from,data:R.data,me:!1,dt:p.toLocaleTimeString("en-GB",{hour:"numeric",minute:"numeric"}),timestamp:+p};await ve.db.transaction("messages","readwrite").store.put(_),ve.connections[T.metadata.from].items.push(_),d&&r.value.scroll_messages();return}F.type}),T.on("error",F=>{console.log("Connection incoming error:",F.type,T.metadata)}),T.on("close",()=>{console.log("Connection incoming closed:",T.metadata.from),ve.connections[T.metadata.from].conn=null}),ve.connections[T.metadata.from]){ve.connections[T.metadata.from].conn=T;return}ve.connections[T.metadata.from]={conn:T,items:[],notification:!1,pubkey:null,online:!1,last_seen:0}}async function h(T){try{const F=JSON.parse(T);F.type==="CHECK"&&(ve.connections[F.peer].online=F.online,ve.connections[F.peer].last_seen=F.last_seen)}catch{console.log("Invalid status check:",T)}}async function C(){ve.peer=new Jh([ht.secret],{host:"home.buzl.uk",port:443,secure:!0,path:"/",token:ht.token,config:n}),ve.peer.on("connection",T=>{console.log("New incoming connection created:",T.metadata.from),x(T)}),ve.peer.on("open",()=>{console.log("Peer created:",ve.peer);const T=ve.peer._socket._socket.onmessage;ve.peer._socket._socket.onmessage=F=>{h(F.data),T(F)}}),ve.peer.on("close",()=>{console.log("Peer close event!")}),ve.peer.on("call",T=>{console.log("New incoming call"),f(T)})}async function w(){ve.db=await Pk("messenger",1,{upgrade(R){R.createObjectStore("keys");const d=R.createObjectStore("messages",{keyPath:"message_id",autoIncrement:!0});d.createIndex("secret","secret",{unique:!1}),d.createIndex("timestamp","timestamp",{unique:!1}),R.createObjectStore("contacts",{keyPath:"secret"}).createIndex("secret","secret",{unique:!0})}});const F=await ve.db.transaction("contacts","readonly").store.getAll();F&&(ve.contacts=F,e.value.update_results()),ve.contacts.map(R=>{ve.connections[R.secret]={conn:null,items:[],notification:!1,pubkey:null,online:!1,last_seen:0}})}async function k(T,F){const R=ve.contacts.find(d=>d.secret==T).name;Notification.requestPermission().then(async d=>{d==="granted"&&navigator.serviceWorker.ready.then(p=>{p.showNotification(R,{body:F,icon:"/images/person.svg",vibrate:[200,100,200,100,200,100,200],tag:"vibration-sample"})})})}async function O(T){const F=T.data.title,R=T.data.body,d=await Ah({message:await Ch({armoredMessage:R}),decryptionKeys:ht.privkey}),p=new Date,_={secret:F,data:d.data,me:!1,dt:p.toLocaleTimeString("en-GB",{hour:"numeric",minute:"numeric"}),timestamp:+p};await ve.db.transaction("messages","readwrite").store.put(_),k(F,d.data)}async function z(){const T=UE(i),F=LK(T);if(KK(F,O),"serviceWorker"in navigator){const p=await navigator.serviceWorker.register("/firebase-messaging-sw.js");if(!p){console.error("Service Worker registration failed:",err);return}console.info("Service Worker registered with scope:",p.scope)}if(localStorage.getItem("push"))return;console.log("Registering for push notifications...");const R=await NK(F,{vapidKey:"BG0DD2EqkenzHDkuO7e_oKGdWR6CMcRD5C4wTmjAK9Yj6Si2vbhLNESb30a7uQZ9dCsDR9hUrpW85E_n_BOlICw"});if(!R){console.log("No registration token available. Request permission to generate one.");return}(await fetch(zK+"/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:R,secret:ht.secret})})).status===200&&(console.log("Successfully registered for push notifications."),localStorage.setItem("push",!0))}async function P(){const T=ve.db.transaction("keys","readonly");ht.name=await T.store.get("name"),ht.secret=await T.store.get("secret"),ht.token=await T.store.get("token"),ht.pubkey=await bh({armoredKey:await T.store.get("public")}),ht.privkey=await bh({armoredKey:await T.store.get("private")})}async function A(){const T=await a(),F=await a(),{privateKey:R,publicKey:d,revocationCertificate:p}=await dM({type:"ecc",curve:"curve25519",userIDs:[{name:T}],format:"armored"}),_=ve.db.transaction("keys","readwrite");await Promise.all([_.store.put(T,"name"),_.store.put(T,"secret"),_.store.put(F,"token"),_.store.put(R,"private"),_.store.put(d,"public"),_.done]),localStorage.setItem("init",!0)}return B8(async()=>{document.onvisibilitychange=()=>{if(document.visibilityState==="hidden"){ve.focus=!1;return}ve.focus=!0},"virtualKeyboard"in navigator&&(navigator.virtualKeyboard.overlaysContent=!0),await w(),localStorage.getItem("init")||await A(),await P(),C(),z()}),(T,F)=>(St(),It(fr,null,[de("div",UK,[de("div",$K,[zt(SS,{ref_key:"hub",ref:e,onOpen_chat:u},null,512),zt(LI,{ref_key:"chat",ref:r,onVideocall:c,onVoicecall:l},null,512)])]),zt(cR,{ref_key:"voicecall",ref:o},null,512),zt(MR,{ref_key:"videocall",ref:s},null,512)],64))}};RA(jK).mount("#app");
